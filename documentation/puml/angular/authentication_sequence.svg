<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="650px" preserveAspectRatio="none" style="width:1490px;height:650px;" version="1.1" viewBox="0 0 1490 650" width="1490px" zoomAndPan="magnify"><defs><filter height="300%" id="fy40dwwwxb3wr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fy40dwwwxb3wr)" height="237.8633" style="stroke:#000000;stroke-width:2.0;" width="1093" x="383" y="311.5293"/><rect fill="#FFFFFF" height="117.7539" style="stroke:none;stroke-width:1.0;" width="1093" x="383" y="431.6387"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="118" x2="118" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="355" x2="355" y1="131.2324" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="435" x2="435" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="622.5" x2="622.5" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="876.5" x2="876.5" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="978.5" x2="978.5" y1="361.584" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1094.5" x2="1094.5" y1="479.3379" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1212.5" x2="1212.5" y1="88.4883" y2="566.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1429" x2="1429" y1="88.4883" y2="566.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="5" y="85.5352">Client</text><ellipse cx="28" cy="15" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28,23 L28,50 M15,31 L41,31 M28,50 L15,65 M28,50 L41,65 " fill="none" filter="url(#fy40dwwwxb3wr)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="5" y="578.9277">Client</text><ellipse cx="28" cy="591.8809" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28,599.8809 L28,626.8809 M15,607.8809 L41,607.8809 M28,626.8809 L15,641.8809 M28,626.8809 L41,641.8809 " fill="none" filter="url(#fy40dwwwxb3wr)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="91" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="98" y="73.5352">Store</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="91" y="565.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="98" y="585.9277">Store</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="52" x="327" y="565.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="334" y="585.9277">LogIn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="393" y="85.5352">AuthEffects</text><ellipse cx="435" cy="56" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="431,44,437,39,435,44,437,49,431,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="393" y="578.9277">AuthEffects</text><ellipse cx="435" cy="597.8809" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="431,585.8809,437,580.8809,435,585.8809,437,590.8809,431,585.8809" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="579.5" y="85.5352">AuthService</text><ellipse cx="623" cy="56" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="619,44,625,39,623,44,625,49,619,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="579.5" y="578.9277">AuthService</text><ellipse cx="623" cy="597.8809" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="619,585.8809,625,580.8809,623,585.8809,625,590.8809,619,585.8809" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="839.5" y="85.5352">HttpClient</text><path d="M856.5,44 L856.5,68 M856.5,56 L873.5,56 " fill="none" filter="url(#fy40dwwwxb3wr)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="885.5" cy="56" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="839.5" y="578.9277">HttpClient</text><path d="M856.5,585.8809 L856.5,609.8809 M856.5,597.8809 L873.5,597.8809 " fill="none" filter="url(#fy40dwwwxb3wr)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="885.5" cy="597.8809" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="105" x="924.5" y="565.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="931.5" y="585.9277">LoginSuccess</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="99" x="1043.5" y="565.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1050.5" y="585.9277">LogInFailure</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1156.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1163.5" y="73.5352">authReducers</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="108" x="1156.5" y="565.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1163.5" y="585.9277">authReducers</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1393" y="85.5352">AuthState</text><ellipse cx="1429.5" cy="56" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1417.5" x2="1441.5" y1="70" y2="70"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1393" y="578.9277">AuthState</text><ellipse cx="1429.5" cy="597.8809" fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1417.5" x2="1441.5" y1="611.8809" y2="611.8809"/><polygon fill="#A80036" points="315,115.7988,325,119.7988,315,123.7988,319,119.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="118" x2="321" y1="119.7988" y2="119.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="125" y="115.0566">new (credentials: Credentials)</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="52" x="327" y="98.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="334" y="119.0234">LogIn</text><polygon fill="#A80036" points="129,161.2871,119,165.2871,129,169.2871,125,165.2871" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="123" x2="354" y1="165.2871" y2="165.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="135" y="160.5449">l</text><polygon fill="#A80036" points="106,190.5977,116,194.5977,106,198.5977,110,194.5977" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="28" x2="112" y1="194.5977" y2="194.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="35" y="189.8555">dispatch(l)</text><polygon fill="#A80036" points="423,219.9082,433,223.9082,423,227.9082,427,223.9082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="118" x2="429" y1="223.9082" y2="223.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="125" y="219.166">LogIn</text><polygon fill="#A80036" points="611,249.2188,621,253.2188,611,257.2188,615,253.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="617" y1="253.2188" y2="253.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="442" y="248.4766">attemptAuth$(credentials)</text><polygon fill="#A80036" points="865,278.5293,875,282.5293,865,286.5293,869,282.5293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="871" y1="282.5293" y2="282.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="630" y="277.7871">HTTP post '/auth/login' (credentials)</text><polygon fill="#A80036" points="634,292.5293,624,296.5293,634,300.5293,630,296.5293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="628" x2="876" y1="296.5293" y2="296.5293"/><path d="M383,311.5293 L445,311.5293 L445,318.5293 L435,328.5293 L383,328.5293 L383,311.5293 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="237.8633" style="stroke:#000000;stroke-width:2.0;" width="1093" x="383" y="311.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="398" y="325.0977">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="460" y="324.1641">[Success]</text><polygon fill="#A80036" points="912.5,346.1504,922.5,350.1504,912.5,354.1504,916.5,350.1504" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="918.5" y1="350.1504" y2="350.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="442" y="345.4082">new(r: JwtResponse)</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="105" x="924.5" y="328.8398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="931.5" y="349.375">LoginSuccess</text><polygon fill="#A80036" points="446,376.3281,436,380.3281,446,384.3281,442,380.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="978" y1="380.3281" y2="380.3281"/><polygon fill="#A80036" points="1200.5,390.3281,1210.5,394.3281,1200.5,398.3281,1204.5,394.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="1206.5" y1="394.3281" y2="394.3281"/><polygon fill="#A80036" points="1417.5,419.6387,1427.5,423.6387,1417.5,427.6387,1421.5,423.6387" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1212.5" x2="1423.5" y1="423.6387" y2="423.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1219.5" y="418.8965">set values from r: JwtResponse</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="383" x2="1476" y1="432.6387" y2="432.6387"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="388" y="443.2734">[Error]</text><polygon fill="#A80036" points="1031.5,463.9043,1041.5,467.9043,1031.5,471.9043,1035.5,467.9043" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="1037.5" y1="467.9043" y2="467.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="442" y="463.1621">new (error message)</text><rect fill="#FEFECE" filter="url(#fy40dwwwxb3wr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="99" x="1043.5" y="446.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1050.5" y="467.1289">LogInFailure</text><polygon fill="#A80036" points="446,494.082,436,498.082,446,502.082,442,498.082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="1094" y1="498.082" y2="498.082"/><polygon fill="#A80036" points="1200.5,508.082,1210.5,512.082,1200.5,516.082,1204.5,512.082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="1206.5" y1="512.082" y2="512.082"/><polygon fill="#A80036" points="1417.5,537.3926,1427.5,541.3926,1417.5,545.3926,1421.5,541.3926" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1212.5" x2="1423.5" y1="541.3926" y2="541.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="1219.5" y="536.6504">set state from error message</text><!--MD5=[eec72ac2777f0de17af64d1b0c9cdec5]
@startuml authentication_sequence
actor Client
participant Store
create LogIn
Store -> LogIn : new (credentials: Credentials)
LogIn -> Store: l
Client -> Store: dispatch(l)
control AuthEffects
Store -> AuthEffects: LogIn
control AuthService
AuthEffects -> AuthService: attemptAuth$(credentials)
boundary HttpClient
AuthService -> HttpClient: HTTP post '/auth/login' (credentials)
return
participant LoginSuccess
participant LogInFailure
Participant authReducers
entity AuthState
alt Success
    create LoginSuccess
    AuthEffects -> LoginSuccess: new(r: JwtResponse)
    return
    AuthEffects -> authReducers 
    authReducers -> AuthState: set values from r: JwtResponse
else Error
    create LogInFailure
    AuthEffects -> LogInFailure: new (error message)
    return
    AuthEffects -> authReducers 
    authReducers -> AuthState: set state from error message
end

@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg>