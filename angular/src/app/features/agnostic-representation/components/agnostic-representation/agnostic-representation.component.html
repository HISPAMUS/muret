<div class="container-fluid">
  <!-- menu -->
  <div class="row">
    <nav class="col-1">
      <div>
        <h2>Agnostic</h2>
        <app-crud-toolbar (modeChangedEmitter)="crudModeChanged($event)"></app-crud-toolbar>
      </div>
      <a (click)="openDocumentAnalysis()">Document analysis</a>
      <br/>
      <a (click)="openSemanticRepresentation()">Semantic representation</a>
    </nav>

    <div class="col">
      <div *ngIf="selectedRegion$ | async as selectedRegion; else noRegionSelected">
        <section class="row">
          <div class="col">
            <app-image #selectedRegionImage [imageID]="imageID" [shapes]="selectedRegionShapes" [zoomFactor]="selectedRegionZoomFactor"
                       [crop]="selectedRegion.boundingBox"
                       [initialCanvasState]="'eSelecting'"
                       (svgShapeSelected)="onSelectAgnosticSymbol($event)"
            ></app-image>
          </div>
        </section>

        <section class="row">
          <div class="col">
            <app-agnostic-staff
                                [regionCropped]="selectedRegion.boundingBox"
                                [notationType]="notationType" [manuscriptType]="manuscriptType"
            >
            </app-agnostic-staff>
          </div>
        </section>
      </div>
      <ng-template #noRegionSelected>
        <p>Select a region</p>
      </ng-template>
      <section class="row" *ngIf="isAddOrEditMode()">
        <div class="col">
          <app-agnostic-toolbar [agnosticSymbolToolbarCategories]="agnosticSymbolToolbarCategories"
                                [notationType]="notationType" [manuscriptType]="manuscriptType">

          </app-agnostic-toolbar>
        </div>
      </section>

      <section class="row">
        <div class="col">
          <!-- image -->
          <section class="row">
            <div class="col-6">
              <app-image #imagePreview [imageID]="imageID" [shapes]="imagePreviewShapes" [zoomFactor]="imagePreviewZoomFactor"
                         (svgShapeSelected)="onPreviewImageShapeSelected($event)"
                         (svgShapeDeselected)="onPreviewImageShapeDeselected($event)"
                         [initialCanvasState]="'eSelecting'"
              ></app-image>
            </div>
          </section>
          <!-- end image -->
        </div>
      </section>
    </div>
  </div>
</div>
