{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/about/about.component.css","webpack:///./src/app/about/about.component.html","webpack:///./src/app/about/about.component.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth.guard.ts","webpack:///./src/app/component-can-deactivate.ts","webpack:///./src/app/configuration.service.ts","webpack:///./src/app/dev/dev.component.css","webpack:///./src/app/dev/dev.component.html","webpack:///./src/app/dev/dev.component.ts","webpack:///./src/app/document-analysis-view/document-analysis-view.component.css","webpack:///./src/app/document-analysis-view/document-analysis-view.component.html","webpack:///./src/app/document-analysis-view/document-analysis-view.component.ts","webpack:///./src/app/form-utils.ts","webpack:///./src/app/global-error-handler.service.ts","webpack:///./src/app/image-thumbnail/image-thumbnail.component.css","webpack:///./src/app/image-thumbnail/image-thumbnail.component.html","webpack:///./src/app/image-thumbnail/image-thumbnail.component.ts","webpack:///./src/app/image-tool-bar/image-tool-bar.component.css","webpack:///./src/app/image-tool-bar/image-tool-bar.component.html","webpack:///./src/app/image-tool-bar/image-tool-bar.component.ts","webpack:///./src/app/image-tool-bar/image-tool-bar.service.ts","webpack:///./src/app/image/image.component.css","webpack:///./src/app/image/image.component.html","webpack:///./src/app/image/image.component.ts","webpack:///./src/app/inline-edit/inline-edit.component.html","webpack:///./src/app/inline-edit/inline-edit.component.scss","webpack:///./src/app/inline-edit/inline-edit.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/messages/message.service.ts","webpack:///./src/app/messages/messages.component.css","webpack:///./src/app/messages/messages.component.html","webpack:///./src/app/messages/messages.component.ts","webpack:///./src/app/model/image.ts","webpack:///./src/app/model/point.ts","webpack:///./src/app/model/project.ts","webpack:///./src/app/model/state.ts","webpack:///./src/app/model/stroke.ts","webpack:///./src/app/model/strokes.ts","webpack:///./src/app/model/user.ts","webpack:///./src/app/new-project-form/new-project-form.component.css","webpack:///./src/app/new-project-form/new-project-form.component.html","webpack:///./src/app/new-project-form/new-project-form.component.ts","webpack:///./src/app/payloads/post-strokes.ts","webpack:///./src/app/payloads/string-body.ts","webpack:///./src/app/preferences/preferences.component.css","webpack:///./src/app/preferences/preferences.component.html","webpack:///./src/app/preferences/preferences.component.ts","webpack:///./src/app/project/project.component.css","webpack:///./src/app/project/project.component.html","webpack:///./src/app/project/project.component.ts","webpack:///./src/app/projects/projects.component.css","webpack:///./src/app/projects/projects.component.html","webpack:///./src/app/projects/projects.component.ts","webpack:///./src/app/services/agnostic.service.ts","webpack:///./src/app/services/auth.service.ts","webpack:///./src/app/services/classifier.service.ts","webpack:///./src/app/services/dialogs.service.ts","webpack:///./src/app/services/image.service.ts","webpack:///./src/app/services/project.service.ts","webpack:///./src/app/services/region.service.ts","webpack:///./src/app/services/rest-client.service.ts","webpack:///./src/app/services/session-data.service.ts","webpack:///./src/app/services/symbol.service.ts","webpack:///./src/app/services/training-set.service.ts","webpack:///./src/app/startup/startup.component.css","webpack:///./src/app/startup/startup.component.html","webpack:///./src/app/startup/startup.component.ts","webpack:///./src/app/state/state.component.css","webpack:///./src/app/state/state.component.html","webpack:///./src/app/state/state.component.ts","webpack:///./src/app/svgcanvas/components/circle/circle.component.css","webpack:///./src/app/svgcanvas/components/circle/circle.component.html","webpack:///./src/app/svgcanvas/components/circle/circle.component.ts","webpack:///./src/app/svgcanvas/components/dynamic-form/dynamic-form.component.css","webpack:///./src/app/svgcanvas/components/dynamic-form/dynamic-form.component.html","webpack:///./src/app/svgcanvas/components/dynamic-form/dynamic-form.component.ts","webpack:///./src/app/svgcanvas/components/ellipse/ellipse.component.css","webpack:///./src/app/svgcanvas/components/ellipse/ellipse.component.html","webpack:///./src/app/svgcanvas/components/ellipse/ellipse.component.ts","webpack:///./src/app/svgcanvas/components/freehand/freehand.component.css","webpack:///./src/app/svgcanvas/components/freehand/freehand.component.html","webpack:///./src/app/svgcanvas/components/freehand/freehand.component.ts","webpack:///./src/app/svgcanvas/components/group/group.component.css","webpack:///./src/app/svgcanvas/components/group/group.component.html","webpack:///./src/app/svgcanvas/components/group/group.component.ts","webpack:///./src/app/svgcanvas/components/image/image.component.css","webpack:///./src/app/svgcanvas/components/image/image.component.html","webpack:///./src/app/svgcanvas/components/image/image.component.ts","webpack:///./src/app/svgcanvas/components/line/line.component.css","webpack:///./src/app/svgcanvas/components/line/line.component.html","webpack:///./src/app/svgcanvas/components/line/line.component.ts","webpack:///./src/app/svgcanvas/components/path/path.component.css","webpack:///./src/app/svgcanvas/components/path/path.component.html","webpack:///./src/app/svgcanvas/components/path/path.component.ts","webpack:///./src/app/svgcanvas/components/polyline/polyline.component.css","webpack:///./src/app/svgcanvas/components/polyline/polyline.component.html","webpack:///./src/app/svgcanvas/components/polyline/polyline.component.ts","webpack:///./src/app/svgcanvas/components/rectangle/rectangle.component.css","webpack:///./src/app/svgcanvas/components/rectangle/rectangle.component.html","webpack:///./src/app/svgcanvas/components/rectangle/rectangle.component.ts","webpack:///./src/app/svgcanvas/components/shape/shape.component.css","webpack:///./src/app/svgcanvas/components/shape/shape.component.html","webpack:///./src/app/svgcanvas/components/shape/shape.component.ts","webpack:///./src/app/svgcanvas/components/square/square.component.css","webpack:///./src/app/svgcanvas/components/square/square.component.html","webpack:///./src/app/svgcanvas/components/square/square.component.ts","webpack:///./src/app/svgcanvas/components/svgcanvas/svgcanvas.component.css","webpack:///./src/app/svgcanvas/components/svgcanvas/svgcanvas.component.html","webpack:///./src/app/svgcanvas/components/svgcanvas/svgcanvas.component.ts","webpack:///./src/app/svgcanvas/components/text/text.component.css","webpack:///./src/app/svgcanvas/components/text/text.component.html","webpack:///./src/app/svgcanvas/components/text/text.component.ts","webpack:///./src/app/svgcanvas/control/checkbox/checkbox.component.css","webpack:///./src/app/svgcanvas/control/checkbox/checkbox.component.html","webpack:///./src/app/svgcanvas/control/checkbox/checkbox.component.ts","webpack:///./src/app/svgcanvas/control/color-picker/color-picker.component.css","webpack:///./src/app/svgcanvas/control/color-picker/color-picker.component.html","webpack:///./src/app/svgcanvas/control/color-picker/color-picker.component.ts","webpack:///./src/app/svgcanvas/control/input/input.component.css","webpack:///./src/app/svgcanvas/control/input/input.component.html","webpack:///./src/app/svgcanvas/control/input/input.component.ts","webpack:///./src/app/svgcanvas/control/radiobutton/radiobutton.component.css","webpack:///./src/app/svgcanvas/control/radiobutton/radiobutton.component.html","webpack:///./src/app/svgcanvas/control/radiobutton/radiobutton.component.ts","webpack:///./src/app/svgcanvas/control/select/select.component.css","webpack:///./src/app/svgcanvas/control/select/select.component.html","webpack:///./src/app/svgcanvas/control/select/select.component.ts","webpack:///./src/app/svgcanvas/directives/dynamic-field.directive.ts","webpack:///./src/app/svgcanvas/directives/dynamic-svg.directive.ts","webpack:///./src/app/svgcanvas/model/shape-types.ts","webpack:///./src/app/svgcanvas/model/shape.ts","webpack:///./src/app/svgcanvas/svgdrawing-tool.module.ts","webpack:///./src/app/svgdrawing/svgdrawing.component.css","webpack:///./src/app/svgdrawing/svgdrawing.component.html","webpack:///./src/app/svgdrawing/svgdrawing.component.ts","webpack:///./src/app/symbols/agnostic-symbol-strokes.ts","webpack:///./src/app/symbols/agnostic-symbol-svgpath.ts","webpack:///./src/app/symbols/symbols.component.css","webpack:///./src/app/symbols/symbols.component.html","webpack:///./src/app/symbols/symbols.component.ts","webpack:///./src/app/training-sets/training-sets.component.css","webpack:///./src/app/training-sets/training-sets.component.html","webpack:///./src/app/training-sets/training-sets.component.ts","webpack:///./src/app/ui/footer/footer.component.css","webpack:///./src/app/ui/footer/footer.component.html","webpack:///./src/app/ui/footer/footer.component.ts","webpack:///./src/app/ui/header/header.component.css","webpack:///./src/app/ui/header/header.component.html","webpack:///./src/app/ui/header/header.component.ts","webpack:///./src/app/ui/layout/layout.component.css","webpack:///./src/app/ui/layout/layout.component.html","webpack:///./src/app/ui/layout/layout.component.ts","webpack:///./src/app/ui/ui.module.ts","webpack:///./src/app/upload-images/upload-images.component.css","webpack:///./src/app/upload-images/upload-images.component.html","webpack:///./src/app/upload-images/upload-images.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".jumbotron {\\n  background-color: transparent;\\n}\\n\\n.jumbotron img {\\n  width: 50%;\\n  margin-bottom: 2vh;\\n}\\n\\n.jumbotron p {\\n  text-align: center;\\n}\\n\\n#logos p {\\n  text-align: center;\\n}\\n\\n#logos img {\\n  width: 80%;\\n}\\n\\nfooter{\\n  font-size: 10px;\\n  position: fixed;\\n  bottom: 2em;\\n  right: 2em;\\n}\\n\\nfooter p {\\n  text-align: right;\\n}\\n\\n#cite {\\n  margin-bottom: 5em;\\n  color: white;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWJvdXQvYWJvdXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZUFBZTtFQUNmLFdBQVc7RUFDWCxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvYWJvdXQvYWJvdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5qdW1ib3Ryb24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLmp1bWJvdHJvbiBpbWcge1xuICB3aWR0aDogNTAlO1xuICBtYXJnaW4tYm90dG9tOiAydmg7XG59XG5cbi5qdW1ib3Ryb24gcCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuI2xvZ29zIHAge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4jbG9nb3MgaW1nIHtcbiAgd2lkdGg6IDgwJTtcbn1cblxuZm9vdGVye1xuICBmb250LXNpemU6IDEwcHg7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAyZW07XG4gIHJpZ2h0OiAyZW07XG59XG5cbmZvb3RlciBwIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbiNjaXRlIHtcbiAgbWFyZ2luLWJvdHRvbTogNWVtO1xuICBjb2xvcjogd2hpdGU7XG59XG4iXX0= */\"","module.exports = \"<div class=\\\"jumbotron\\\">\\n  <p><img src=\\\"assets/images/muret_negativo.png\\\" alt=\\\"Logo MuRET\\\"></p>\\n  <p>Music Recognition, encoding, and transcription</p>\\n</div>\\n<div class=\\\"row\\\" id=\\\"cite\\\">\\n  <div class=\\\"offset-3 col-7\\\">\\n    <h3>Cite as:</h3>\\n    <p>\\n      Rizo, D.; Calvo-Zaragoza, J.; Iñesta, J.M.<br/>\\n      <strong>\\\"MuRET: a music recognition, encoding, and transcription tool\\\"</strong><br/>\\n      Proceedings of the 5th International Conference on Digital Libraries for Musicology (DLfM'18), ISBN: 978-1-4503-6522-2, pp. 52--56, París, France (2018)\\n    </p>\\n  </div>\\n</div>\\n<div class=\\\"row\\\" id=\\\"logos\\\">\\n  <div class=\\\"col-4\\\">\\n    <p><img src=\\\"assets/images/uacolor.jpg\\\" alt=\\\"Logo UA\\\"></p>\\n  </div>\\n  <div class=\\\"col-4\\\">\\n    <p><img src=\\\"assets/images/hispamus_negativo_sin_fondo.png\\\" alt=\\\"Logo MuRET\\\"></p>\\n  </div>\\n  <div class=\\\"col-4\\\">\\n    <p><img src=\\\"assets/images/economiac.jpg\\\" alt=\\\"Logo MuRET\\\"></p>\\n  </div>\\n</div>\\n<footer>\\n  <p><a href=\\\"mailto:drizo [@] dlsi.ua.es \\\">©2018 Development: David Rizo</a></p>\\n  <p><a href=\\\"mailto:drizo [@] dlsi.ua.es \\\">©2018 Backend classifiers: Jorge Calvo-Zaragoza</a></p>\\n  <p><a href=\\\"mailto:lvf.lauravasallo [@] gmail.com\\\">©2018 Visual Design: Laura Vasallo</a></p>\\n</footer>\\n\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})\nexport class AboutComponent implements OnInit {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProjectsComponent } from './projects/projects.component';\nimport {ProjectComponent} from './project/project.component';\nimport {StartupComponent} from './startup/startup.component';\nimport {AboutComponent} from './about/about.component';\nimport {ImageComponent} from './image/image.component';\nimport {NewProjectFormComponent} from './new-project-form/new-project-form.component';\nimport {UploadImagesComponent} from './upload-images/upload-images.component';\nimport {AuthGuard} from './auth.guard';\nimport {LoginComponent} from './login/login.component';\nimport {SymbolsComponent} from './symbols/symbols.component';\nimport {SVGDrawingComponent} from './svgdrawing/svgdrawing.component';\nimport {PreferencesComponent} from './preferences/preferences.component';\nimport {DevComponent} from './dev/dev.component';\nimport {TrainingSetsComponent} from './training-sets/training-sets.component';\n\nconst routes: Routes = [\n\n  { path: 'svg', component: SVGDrawingComponent }, // PRUEBAS\n  { path: 'about', component: AboutComponent },\n  { path: 'preferences', component: PreferencesComponent, canActivate: [AuthGuard]},\n  { path: 'login', component: LoginComponent},\n  { path: 'startup', component: StartupComponent, canActivate: [AuthGuard]},\n  { path: 'projects', component: ProjectsComponent, canActivate: [AuthGuard]},\n  { path: 'newproject', component: NewProjectFormComponent, canActivate: [AuthGuard]},\n  { path: 'project/:id', component: ProjectComponent, canActivate: [AuthGuard], canDeactivate: [AuthGuard]},\n  { path: 'image', component: ImageComponent, canActivate: [AuthGuard], canDeactivate: [AuthGuard]},\n  { path: 'symbols', component: SymbolsComponent, canActivate: [AuthGuard], canDeactivate: [AuthGuard]},\n  { path: 'uploadimages/:id', component: UploadImagesComponent, canActivate: [AuthGuard]},\n  { path: 'export', component: TrainingSetsComponent, canActivate: [AuthGuard]},\n\n  // usado para desarrollo //TODO Quitar\n  { path: 'dev', component: DevComponent},\n  { path: '', pathMatch: 'full', redirectTo: 'startup'}\n  /*{ path: '**', redirectTo: '' },*/\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes,\n    { enableTracing: false } // <-- debugging purposes only\n    ) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n","module.exports = \"#page {\\n  background-color: #103339;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwYWdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzEwMzMzOTtcbn1cblxuXG4iXX0= */\"","module.exports = \"<app-layout>\\n  <router-outlet></router-outlet>\\n</app-layout>\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'MuRET';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport {ErrorHandler, NgModule} from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ProjectsComponent } from './projects/projects.component';\n\nimport {HttpClientModule} from '@angular/common/http';\nimport {AppRoutingModule} from './app-routing.module';\nimport {UiModule} from './ui/ui.module';\n\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ProjectComponent } from './project/project.component';\nimport { StartupComponent } from './startup/startup.component';\nimport { AboutComponent } from './about/about.component';\nimport { ImageComponent } from './image/image.component';\n\nimport { DragulaModule } from 'ng2-dragula';\n\nimport { AngularSvgIconModule } from 'angular-svg-icon';\n\nimport {NewProjectFormComponent} from './new-project-form/new-project-form.component';\n\nimport { NgxImgModule } from 'ngx-img';\nimport { UploadImagesComponent } from './upload-images/upload-images.component';\n\nimport { FileUploadModule } from 'ng2-file-upload';\nimport { ImageThumbnailComponent } from './image-thumbnail/image-thumbnail.component';\n\nimport { FormsModule } from '@angular/forms';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport { LightboxModule } from 'ngx-lightbox';\n\n\nimport {RouterModule} from '@angular/router';\nimport {RestClientService} from './services/rest-client.service';\nimport {LoginComponent} from './login/login.component';\n\nimport {LoggerModule, NGXLogger, NgxLoggerLevel} from 'ngx-logger';\nimport {GlobalErrorHandlerService} from './global-error-handler.service';\n\nimport { AngularResizedEventModule } from 'angular-resize-event';\nimport { ImageToolBarComponent } from './image-tool-bar/image-tool-bar.component';\nimport { SymbolsComponent } from './symbols/symbols.component';\nimport {SVGDrawingToolModule} from './svgcanvas/svgdrawing-tool.module';\nimport { DocumentAnalysisViewComponent } from './document-analysis-view/document-analysis-view.component';\nimport { PreferencesComponent } from './preferences/preferences.component';\nimport { DevComponent } from './dev/dev.component';\nimport { StateComponent } from './state/state.component';\nimport { InlineEditComponent } from './inline-edit/inline-edit.component';\nimport { TrainingSetsComponent } from './training-sets/training-sets.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ProjectsComponent,\n    ProjectComponent,\n    StartupComponent,\n    AboutComponent,\n    ImageComponent,\n    NewProjectFormComponent,\n    UploadImagesComponent,\n    ImageThumbnailComponent,\n    LoginComponent,\n    ImageToolBarComponent,\n    SymbolsComponent,\n    DocumentAnalysisViewComponent,\n    PreferencesComponent,\n    DevComponent,\n    StateComponent,\n    InlineEditComponent,\n    TrainingSetsComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    UiModule,\n    ReactiveFormsModule,\n    AngularSvgIconModule,\n    FileUploadModule,\n    NgxImgModule.forRoot(), // TODO Quitar\n    DragulaModule.forRoot(),\n    FormsModule,\n    RouterModule,\n    LightboxModule,\n    NgbModule,\n    AngularResizedEventModule,\n    SVGDrawingToolModule,\n    // LoggerModule.forRoot({serverLoggingUrl: '/api/logs', level: NgxLoggerLevel.DEBUG, serverLogLevel: NgxLoggerLevel.ERROR})\n    LoggerModule.forRoot({level: NgxLoggerLevel.DEBUG, serverLogLevel: NgxLoggerLevel.ERROR})\n  ],\n  providers: [RestClientService, NGXLogger, GlobalErrorHandlerService,\n    { provide: ErrorHandler, useClass: GlobalErrorHandlerService },\n  ], // singleton\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n","import { Injectable } from '@angular/core';\nimport {\n  CanActivate, Router,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n  CanActivateChild,\n  NavigationExtras,\n  CanLoad, Route, CanDeactivate\n} from '@angular/router';\nimport {RestClientService} from './services/rest-client.service';\nimport {NGXLogger} from 'ngx-logger';\nimport {SessionDataService} from './services/session-data.service';\nimport {Observable} from 'rxjs';\nimport {ComponentCanDeactivate} from './component-can-deactivate';\nimport {AuthService} from \"./services/auth.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate, CanActivateChild, CanLoad, CanDeactivate<ComponentCanDeactivate> {\n  constructor(private authService: AuthService, private sessionDataService: SessionDataService, private router: Router,\n              private logger: NGXLogger) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const url: string = state.url;\n    this.logger.debug('Checking canActivate for ' + url);\n    return this.checkLogin(url);\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    return this.canActivate(route, state);\n  }\n\n  canLoad(route: Route): boolean {\n    this.logger.debug('Check can load ' + route.path);\n    const url = `/${route.path}`;\n\n    return this.checkLogin(url);\n  }\n\n  checkLogin(url: string): boolean {\n    if (this.authService.authenticated()) {\n      this.logger.debug('Can activate ' + url);\n      return true;\n    }\n\n    this.logger.debug('Cannot activate ' + url);\n\n    // Create a dummy session id\n    const sessionId = this.getRandomInt(1, 1000000);\n\n    // Set our navigation extras object\n    // that contains our global query params and fragment\n    const navigationExtras: NavigationExtras = {\n      queryParams: { 'session_id': sessionId },\n      fragment: 'anchor'\n    };\n\n    // Navigate to the login page with extras\n    this.router.navigate(['login'], navigationExtras);\n    return false;\n  }\n\n  getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  canDeactivate(component: ComponentCanDeactivate, currentRoute: ActivatedRouteSnapshot,\n                currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    if (component.canDeactivate()) {\n      if (confirm('You have unsaved changes! If you leave, your changes will be lost.')) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import {HostListener} from '@angular/core';\n\nexport abstract class ComponentCanDeactivate {\n\n  abstract canDeactivate(): boolean;\n\n  @HostListener('window:beforeunload', ['$event'])\n  unloadNotification($event: any) {\n    if (!this.canDeactivate()) {\n      $event.returnValue = true;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {MessageService} from './messages/message.service';\nimport {environment} from '../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\nexport class ConfigurationService {\n  private urlConfiguration: string;\n  public IM3WS_SERVER = environment.apiEndpoint;\n\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService) {\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rldi9kZXYuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<p>\\n  dev works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\nimport {RestClientService} from '../services/rest-client.service';\nimport {SessionDataService} from '../services/session-data.service';\nimport {NGXLogger} from 'ngx-logger';\nimport {AuthService} from \"../services/auth.service\";\nimport {ImageService} from \"../services/image.service\";\n\n@Component({\n  selector: 'app-dev',\n  templateUrl: './dev.component.html',\n  styleUrls: ['./dev.component.css']\n})\n\n// Used to speed up development\nexport class DevComponent implements OnInit {\n\n  // projectID = 37;\n  // imageID = 198;\n  // path = 'villancico-al-smo--sto--al-molino-del-amor';\n\n  projectID = 167;\n  imageID = 2103;\n  path = 'b-59-850';\n\n  constructor(private authService: AuthService, private router: Router,\n              private imageService: ImageService,\n              private sessionDataService: SessionDataService,\n              private logger: NGXLogger) {\n    this.logger.warn('¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡ DEV!!!!!!!!!!!!!!!!!!!!!!');\n    this.authService.login('davidrizo', 'nose').subscribe(\n      next => {\n        if (next) {\n          this.authService.setUser(next);\n          this.router.navigate(['/project/' + this.projectID])\n            .then(value => {\n              this.imageService.getImage$(this.imageID).\n              subscribe(serviceImage => {\n                this.sessionDataService.currentImage = serviceImage;\n                this.router.navigate(['/image']);\n              });\n            });\n        } else {\n          throw new Error('Cannot authenticate!!!');\n        }\n      }\n    );\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"#documentAnalysis {\\n  position: relative;\\n}\\n#documentAnalysisCanvas {\\n  position: absolute;\\n  top: 0px;\\n  width: 100%;\\n  height: 100%;\\n}\\n#documentAnalysisTools {\\n  margin-bottom: 1em;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9jdW1lbnQtYW5hbHlzaXMtdmlldy9kb2N1bWVudC1hbmFseXNpcy12aWV3LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCIiwiZmlsZSI6InNyYy9hcHAvZG9jdW1lbnQtYW5hbHlzaXMtdmlldy9kb2N1bWVudC1hbmFseXNpcy12aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZG9jdW1lbnRBbmFseXNpcyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbiNkb2N1bWVudEFuYWx5c2lzQ2FudmFzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbiNkb2N1bWVudEFuYWx5c2lzVG9vbHMge1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG59XG4iXX0= */\"","module.exports = \"<div id=\\\"documentAnalysisTools\\\" class=\\\"btn-group-justified\\\" role=\\\"group\\\" aria-label=\\\"Region types\\\">\\n  <input type=\\\"checkbox\\\" [checked]=\\\"showLabels\\\" disabled/> Show labels\\n\\n  <button *ngFor=\\\"let regionType of regionTypes; trackBy: trackByRegionTypeFn\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\"\\n          (click)=\\\"changeRegionType(regionType)\\\">\\n    {{regionType.name}}\\n  </button>\\n</div>\\n\\n<div id=\\\"documentAnalysis\\\">\\n  <img #domImage class=\\\"img-fluid\\\" (load)=\\\"onImageLoad()\\\" src=\\\"{{imageURL}}\\\" alt=\\\"Image\\\">\\n  <div id=\\\"documentAnalysisCanvas\\\"\\n     [style.left]=\\\"domImagePaddingLeft\\\" [style.width.px]=\\\"domImageWidth\\\" [style.height.px]=\\\"domImageHeight\\\"\\n     [style.cursor]=\\\"canvasCursor\\\"\\n  >\\n    <app-svgcanvas #svgCanvas [width]=\\\"domImageWidth\\\" [height]=\\\"domImageHeight\\\"\\n                 (svgMouseEvent)=\\\"onMouseEvent($event)\\\"\\n                 (svgShapeCreated)=\\\"onShapeCreated($event)\\\"\\n                 (svgShapeChanged)=\\\"onShapeChanged($event)\\\"\\n                 (svgShapeSelected)=\\\"onShapeSelected($event)\\\"\\n                   (svgShapeDeselected)=\\\"onShapeDeselected($event)\\\"\\n    ></app-svgcanvas>\\n  </div>\\n</div>\\n\"","import {AfterViewInit, Component, ElementRef, EventEmitter, OnInit, Output, ViewChild} from '@angular/core';\nimport {RestClientService} from '../services/rest-client.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Image} from '../model/image';\nimport {Page} from '../model/page';\nimport {BoundingBox} from '../model/bounding-box';\nimport {NGXLogger} from 'ngx-logger';\n// import {ResizedEvent} from 'angular-resize-event/resized-event';\nimport {Region} from '../model/region';\nimport {Project} from '../model/project';\nimport {SessionDataService} from '../services/session-data.service';\nimport {SVGCanvasComponent, SVGCanvasState, SVGMousePositionEvent} from '../svgcanvas/components/svgcanvas/svgcanvas.component';\nimport {ShapeComponent} from '../svgcanvas/components/shape/shape.component';\nimport {LineComponent} from '../svgcanvas/components/line/line.component';\nimport {Rectangle} from '../svgcanvas/model/shape';\nimport {RegionType} from '../model/region-type';\nimport {RectangleComponent} from '../svgcanvas/components/rectangle/rectangle.component';\nimport {RegionService} from \"../services/region.service\";\nimport {ImageService} from \"../services/image.service\";\n\nexport enum DocumentAnalysisMode {\n  eSelecting, eEditing, eSplittingPages, eSplittingRegions\n}\n\n@Component({\n  selector: 'app-document-analysis-view',\n  templateUrl: './document-analysis-view.component.html',\n  styleUrls: ['./document-analysis-view.component.css']\n})\n\nexport class DocumentAnalysisViewComponent implements OnInit, AfterViewInit {\n  canvasCursor = 'default';\n  documentAnalysisMode: DocumentAnalysisMode = DocumentAnalysisMode.eSelecting;\n  image: Image;\n  imageURL: string;\n  project: Project;\n\n  regionIDs: Map<number, Region> = new Map<number, Region>();\n  regionTypes: RegionType[];\n\n  @ViewChild('domImage')\n  private domImage: ElementRef;\n\n  private projectURLs: string;\n  private scale: number;\n  domImageHeight: number;\n  domImageWidth: number;\n  domImagePaddingLeft: number;\n\n  @ViewChild('svgCanvas') svgCanvas: SVGCanvasComponent;\n  private interactionLine: LineComponent;\n\n  @Output() mouseEvent = new EventEmitter<SVGMousePositionEvent>();\n  @Output() svgShapeCreated = new EventEmitter<ShapeComponent>();\n  @Output() svgShapeSelected = new EventEmitter<ShapeComponent>(); // in order to observe it from other components such as symbol editing\n  showLabels = true;\n  private selectedRegion: ShapeComponent = null;\n\n  constructor(\n    private regionService: RegionService,\n    private imageService: ImageService,\n    private sessionDataService: SessionDataService,\n    private route: ActivatedRoute,\n    private logger: NGXLogger,\n  ) {\n    this.project = sessionDataService.currentProject;\n    this.image = sessionDataService.currentImage;\n    this.logger.debug('Working with image ' + this.imageURL);\n\n    if (!sessionDataService.regionTypes) {\n      this.regionService.getRegionTypes().subscribe(value => {\n        sessionDataService.regionTypes = value;\n        this.logger.debug('Fetched #' + sessionDataService.regionTypes.length + ' region types');\n        this.regionTypes = value;\n      }).unsubscribe();\n    } else {\n      this.regionTypes = sessionDataService.regionTypes;\n    }\n  }\n\n  ngOnInit() {\n    this.logger.debug('fullImageSVGCanvas= ' + this.svgCanvas);\n  }\n\n\n  public ngAfterViewInit(): void {\n    this.logger.debug('ngAfterViewInit');\n  }\n\n  onImageLoad() {\n    this.logger.debug('OnImageLoad');\n    this.scale = this.domImage.nativeElement.width / this.domImage.nativeElement.naturalWidth;\n    this.logger.debug('Using scale ' + this.scale);\n    this.domImageHeight = this.domImage.nativeElement.height;\n    this.domImageWidth = this.domImage.nativeElement.width;\n    this.domImagePaddingLeft = this.domImage.nativeElement.paddingLeft;\n    this.drawBoundingBoxes();\n  }\n\n  private drawBoundingBox(objectType: string, objectID: number, boundingBox: BoundingBox, targetScale: number,\n                          strokeColor: string, strokeWidth: number, label: string) {\n\n    const rx = boundingBox.fromX * targetScale;\n    const ry = boundingBox.fromY * targetScale;\n    const rwidth = targetScale * (boundingBox.toX - boundingBox.fromX);\n    const rheight = targetScale * (boundingBox.toY - boundingBox.fromY);\n\n    const rectangle = this.svgCanvas.drawRectangle(rx, ry, rwidth, rheight, label);\n    rectangle.modelObjectType = objectType;\n    rectangle.modelObjectID = objectID;\n    rectangle.shape.shapeProperties.fillColor = 'transparent';\n    rectangle.shape.shapeProperties.stroke = true;\n    rectangle.shape.shapeProperties.strokeColor = strokeColor;\n    rectangle.shape.shapeProperties.strokeWidth = strokeWidth;\n  }\n\n\n  private drawBoundingBoxes() {\n    this.drawImagePages();\n  }\n\n  //TODO Centralizar imageService / regionService en lo mismo\n  private splitPage(imageX: number) {\n    this.logger.debug('Splitting page at X: ' + imageX);\n    const prevCursor = this.canvasCursor;\n    this.canvasCursor = 'wait';\n    try {\n      this.imageService.splitPage$(this.image.id, imageX).subscribe(next => {\n        this.image.pages = next;\n        this.drawImagePages();\n        this.canvasCursor = prevCursor;\n        this.clearInteractiveLines();\n      });\n    } catch (e) {\n      this.canvasCursor = prevCursor;\n      this.clearInteractiveLines();\n    }\n  }\n\n  private splitRegion(imageX: number, imageY: number) {\n    this.logger.debug('Splitting region at X: ' + imageX + ', Y: ' + imageY);\n    const prevCursor = this.canvasCursor;\n    this.canvasCursor = 'wait';\n    try {\n      this.imageService.splitRegion$(this.image.id, imageX, imageY).subscribe(next => {\n        this.image.pages = next;\n        this.drawImagePages();\n        this.canvasCursor = prevCursor;\n        this.clearInteractiveLines();\n      });\n    } catch (e) {\n      this.canvasCursor = prevCursor;\n      this.clearInteractiveLines();\n    }\n  }\n\n  public clearDocumentAnalysis() {\n    this.imageService.clearDocumentAnalysis$(this.image.id).subscribe(next => {\n      this.image.pages = next;\n      this.drawImagePages();\n      this.clearInteractiveLines();\n    });\n  }\n\n  private drawInteractiveVerticalLine() {\n    this.interactionLine = <LineComponent>this.svgCanvas.drawLine(0, 0, 0, this.domImageWidth);\n    this.interactionLine.shape.shapeProperties.strokeColor = 'red';\n    this.interactionLine.shape.shapeProperties.strokeWidth = 2;\n    this.svgCanvas.changeState(SVGCanvasState.eIdle);\n  }\n\n  private drawInteractiveHorizontalLine() {\n    this.interactionLine = <LineComponent>this.svgCanvas.drawLine(0, 0, this.domImageWidth, 0);\n    this.interactionLine.shape.shapeProperties.strokeColor = 'red';\n    this.interactionLine.shape.shapeProperties.strokeWidth = 2;\n    this.svgCanvas.changeState(SVGCanvasState.eIdle);\n  }\n\n  private drawImagePages() {\n    this.svgCanvas.clear();\n    this.logger.debug('Drawing bounding boxes for image ' + this.image);\n    this.image.pages.forEach(page => {\n      this.logger.debug('Page ' + page);\n      this.drawBoundingBox('Page', page.id, page.boundingBox, this.scale, 'red', 12, '');\n      page.regions.forEach(region => {\n        this.logger.debug('Region ' + region);\n\n        let color: string;\n        if (region.regionType) {\n          color = '#' + region.regionType.hexargb;\n        } else {\n          this.logger.debug('Region without region type');\n          color = 'black';\n        }\n        this.drawBoundingBox('Region', region.id, region.boundingBox, this.scale, color, 3, region.regionType.name);\n        this.regionIDs.set(region.id, region);\n      });\n    });\n  }\n\n  public findRegionID(id: number): Region {\n    return this.regionIDs.get(id);\n  }\n\n  private clearInteractiveLines() {\n    this.svgCanvas.remove(this.interactionLine);\n  }\n\n  onMouseEvent($event: SVGMousePositionEvent) {\n    if ($event.mouseEvent.type === 'mousemove') {\n      switch (this.documentAnalysisMode) {\n        case DocumentAnalysisMode.eSplittingPages:\n          // this.splitLine.transform(transform().translate(event.layerX, 0));\n          this.interactionLine.moveHorizontallyTo($event.svgPosition.x);\n          break;\n        case DocumentAnalysisMode.eSplittingRegions:\n          this.interactionLine.moveVerticallyTo($event.svgPosition.y);\n          // this.splitLine.transform(transform().translate(0, event.layerY));\n          break;\n        default:\n          this.mouseEvent.emit($event);\n      }\n    } else if ($event.mouseEvent.type === 'mousedown') {\n      switch (this.documentAnalysisMode) {\n        case DocumentAnalysisMode.eSplittingPages:\n          this.splitPage($event.svgPosition.x / this.scale);\n          break;\n        case DocumentAnalysisMode.eSplittingRegions:\n          this.splitRegion($event.svgPosition.x / this.scale, $event.svgPosition.y / this.scale);\n          break;\n        default:\n          this.mouseEvent.emit($event);\n      }\n    } else {\n      this.mouseEvent.emit($event);\n    }\n  }\n\n  onShapeCreated($event: ShapeComponent) {\n    // TODO para crear objetos dibujando\n  }\n\n  onShapeSelected($event: ShapeComponent) {\n    this.logger.debug('Shape selected ' + $event);\n    this.svgShapeSelected.emit($event);\n    this.selectedRegion = $event;\n  }\n  onShapeDeselected($event: ShapeComponent) {\n    this.selectedRegion = null;\n  }\n\n  onShapeChanged($event: ShapeComponent) {\n    this.logger.debug('Image: detected a shape change on a ' + $event.modelObjectType\n      + ' with ID=' + $event.modelObjectID);\n\n    if ($event.shape instanceof Rectangle) {\n      // TODO Si da error la actualización que se repinte\n      if ($event.modelObjectType === 'Region') {\n        this.imageService.updateRegionBoundingBox$($event.modelObjectID,\n          $event.shape.originX / this.scale, $event.shape.originY / this.scale,\n          ($event.shape.originX + $event.shape.width)  / this.scale,\n          ($event.shape.originX + $event.shape.height) / this.scale);\n      } else if ($event.modelObjectType === 'Page') {\n        this.imageService.updatePageBoundingBox$($event.modelObjectID,\n          $event.shape.originX / this.scale, $event.shape.originY / this.scale,\n          ($event.shape.originX + $event.shape.width)  / this.scale,\n          ($event.shape.originX + $event.shape.height) / this.scale);\n      }\n    } else {\n      this.logger.debug('Image: shape change not on a rectangle');\n    }\n  }\n\n  activatePageSplitMode() {\n    this.documentAnalysisMode = DocumentAnalysisMode.eSplittingPages;\n    this.drawInteractiveVerticalLine();\n    this.canvasCursor = 'col-resize';\n\n  }\n\n  activateRegionSplitMode() {\n    this.documentAnalysisMode = DocumentAnalysisMode.eSplittingRegions;\n    this.drawInteractiveHorizontalLine();\n    this.canvasCursor = 'row-resize';\n  }\n\n\n  activateEditMode() {\n    this.documentAnalysisMode = DocumentAnalysisMode.eEditing;\n    this.canvasCursor = 'move';\n    this.svgCanvas.changeState(SVGCanvasState.eEditing);\n  }\n\n  activateSelectMode() {\n    this.documentAnalysisMode = DocumentAnalysisMode.eSelecting;\n    this.canvasCursor = 'default';\n    this.svgCanvas.changeState(SVGCanvasState.eSelecting);\n  }\n\n  getImageNaturalWidth() {\n    return this.domImage.nativeElement.naturalWidth;\n  }\n\n  changeRegionType(regionType: RegionType) {\n    if (this.selectedRegion != null) {\n      const region = this.findRegionID(this.selectedRegion.modelObjectID);\n      if (region) {\n        this.imageService.updateRegionType$(region.id, regionType).subscribe(next => {\n          if (this.selectedRegion instanceof RectangleComponent) {\n            region.regionType = regionType;\n            this.selectedRegion.label = regionType.name;\n          }\n        });\n      }\n    }\n  }\n\n  trackByRegionTypeFn(index, item: RegionType) {\n    return item.id; // unique id corresponding to the item\n  }\n}\n","import {FormArray, ValidatorFn} from '@angular/forms';\nimport {Injectable} from '@angular/core';\n\n@Injectable()\nexport class FormUtils {\n  public static minSelectedCheckboxes(min = 1) {\n    const validator: ValidatorFn = (formArray: FormArray) => {\n      const totalSelected = formArray.controls\n        .map(control => control.value)\n        .reduce((prev, next) => next ? prev + next : prev, 0);\n\n      return totalSelected >= min ? null : { required: true };\n    };\n\n    return validator;\n  }\n}\n","import {Injectable, ErrorHandler, Injector} from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport {NGXLogger} from 'ngx-logger';\nimport {Router} from '@angular/router';\n\n@Injectable()\nexport class GlobalErrorHandlerService implements ErrorHandler {\n  constructor (private logger: NGXLogger, private injector: Injector) {\n\n  }\n\n  handleError(error: any) {\n    const router = this.injector.get(Router);\n\n    if (error instanceof HttpErrorResponse) {\n      // Backend returns unsuccessful response codes such as 404, 500 etc.\n      this.logger.error(router.url + ', backend returned status code: ', error.status + ', and response body ' + error.message);\n    } else {\n      // A client-side or network error occurred.\n      this.logger.error(router.url + ', a client or network error occurred:', error.message);\n    }\n  }\n}\n","module.exports = \".thumbnail {\\n  display: inline-block;\\n  margin: 5px;\\n}\\n\\n.thumbnail img {\\n  height: 200px;\\n}\\n\\nh5 {\\n  color: white;\\n  text-align: center;\\n}\\n\\n.links {\\n  text-align: center;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW1hZ2UtdGh1bWJuYWlsL2ltYWdlLXRodW1ibmFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UscUJBQXFCO0VBQ3JCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxrQkFBa0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9pbWFnZS10aHVtYm5haWwvaW1hZ2UtdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bWJuYWlsIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDVweDtcbn1cblxuLnRodW1ibmFpbCBpbWcge1xuICBoZWlnaHQ6IDIwMHB4O1xufVxuXG5oNSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmxpbmtzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuIl19 */\"","module.exports = \"<div class=\\\"thumbnail\\\">\\n  <p>\\n    <img #imageThumbnail alt=\\\"Image\\\">\\n  </p>\\n  <h5>{{image?.filename}}</h5>\\n  <p class=\\\"links\\\">\\n    <a class=\\\"previewLink\\\" (click)=\\\"previewImage()\\\" target=\\\"_blank\\\">Preview</a>\\n    &nbsp;\\n    <a class=\\\"openLink\\\" (click)=\\\"openImage()\\\">Open</a>\\n  </p>\\n</div>\\n\"","import {Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {Image} from '../model/image';\nimport {ProjectURLS} from '../model/project-urls';\nimport {NGXLogger} from 'ngx-logger';\nimport {Router} from '@angular/router';\nimport {SessionDataService} from '../services/session-data.service';\nimport {RestClientService} from '../services/rest-client.service';\nimport {ImageService} from \"../services/image.service\";\nimport {Lightbox, LightboxConfig} from \"ngx-lightbox\";\nimport {DomSanitizer} from \"@angular/platform-browser\";\n\n@Component({\n  selector: 'app-image-thumbnail',\n  templateUrl: './image-thumbnail.component.html',\n  styleUrls: ['./image-thumbnail.component.css']\n})\n// see https://stackoverflow.com/questions/49411283/angular-5-http-get-images-from-back-end\nexport class ImageThumbnailComponent implements OnInit {\n  @Input() image: Image;\n  @ViewChild('imageThumbnail') imageThumbnail: ElementRef;\n  constructor(private logger: NGXLogger, private router: Router, private sessionDataService: SessionDataService,\n              private imageService: ImageService, private _lightbox: Lightbox, private _lighboxConfig: LightboxConfig,\n              private sanitizer: DomSanitizer) {\n    _lighboxConfig.fitImageInViewPort = true;\n    _lighboxConfig.showImageNumberLabel = false;\n    _lighboxConfig.centerVertically = true;\n    _lighboxConfig.resizeDuration = 0;\n  }\n\n  ngOnInit() {\n    this.imageService.getThumbnailImage$(this.image.id).subscribe(imageBlob => {\n      this.imageThumbnail.nativeElement.src = window.URL.createObjectURL(imageBlob)\n    });\n  }\n\n  openImage() {\n    this.logger.debug('Opening image ' + this.image.id);\n\n    // this call retrieves the whole image data (the current image does not contain all lazy relations)\n    this.imageService.getImage$(this.image.id).subscribe(next => {\n      this.sessionDataService.currentImage = next;\n      this.router.navigate(['/image']);\n    });\n }\n\n  previewImage() {\n    this.imageService.getPreviewImage$(this.image.id).subscribe(imageBlob => {\n      const albums = []; // used by Lightbox\n\n      const album = {\n        src: this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(imageBlob)),\n        caption: this.image.filename,\n      };\n\n      albums.push(album);\n      this._lightbox.open(albums, );\n    });\n\n  }\n}\n","module.exports = \"#toolbar {\\n  background-color: #7DE2DB;\\n}\\n\\n#linkBackProject {\\n  text-align: center;\\n}\\n\\n#linkBackProject a {\\n  color: white;\\n  font-weight: bold;\\n}\\n\\n/** use ::ng-deep to change component css */\\n\\n::ng-deep #toolbar .card-body {\\n  background-color: #7DE2DB;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n\\n::ng-deep #toolbar .card-header {\\n  background-color: #D91E63;\\n}\\n\\n::ng-deep #toolbar .card-header button {\\n  color: black;\\n  padding-left: 0;\\n  padding-right: 0;\\n}\\n\\n/* it removes radio box because after adding accordions to the button groups it has appeared */\\n\\n::ng-deep #toolbar input[type=\\\"radio\\\"] {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW1hZ2UtdG9vbC1iYXIvaW1hZ2UtdG9vbC1iYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7QUFDbkI7O0FBRUEsMkNBQTJDOztBQUMzQztFQUNFLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCOztBQUNBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUEsOEZBQThGOztBQUM5RjtFQUNFLHdCQUFnQjtLQUFoQixxQkFBZ0I7VUFBaEIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvaW1hZ2UtdG9vbC1iYXIvaW1hZ2UtdG9vbC1iYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiN0b29sYmFyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdERTJEQjtcbn1cblxuI2xpbmtCYWNrUHJvamVjdCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuI2xpbmtCYWNrUHJvamVjdCBhIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLyoqIHVzZSA6Om5nLWRlZXAgdG8gY2hhbmdlIGNvbXBvbmVudCBjc3MgKi9cbjo6bmctZGVlcCAjdG9vbGJhciAuY2FyZC1ib2R5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdERTJEQjtcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcbn1cbjo6bmctZGVlcCAjdG9vbGJhciAuY2FyZC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDkxRTYzO1xufVxuXG46Om5nLWRlZXAgI3Rvb2xiYXIgLmNhcmQtaGVhZGVyIGJ1dHRvbiB7XG4gIGNvbG9yOiBibGFjaztcbiAgcGFkZGluZy1sZWZ0OiAwO1xuICBwYWRkaW5nLXJpZ2h0OiAwO1xufVxuXG4vKiBpdCByZW1vdmVzIHJhZGlvIGJveCBiZWNhdXNlIGFmdGVyIGFkZGluZyBhY2NvcmRpb25zIHRvIHRoZSBidXR0b24gZ3JvdXBzIGl0IGhhcyBhcHBlYXJlZCAqL1xuOjpuZy1kZWVwICN0b29sYmFyIGlucHV0W3R5cGU9XCJyYWRpb1wiXSB7XG4gIGFwcGVhcmFuY2U6IG5vbmU7XG59XG4iXX0= */\"","module.exports = \"<div  id=\\\"toolbar\\\" class=\\\"btn-group-vertical btn-group-toggle\\\" ngbRadioGroup name=\\\"radioBasic\\\" [(ngModel)]=\\\"selectedTool\\\">\\n  <p id=\\\"linkBackProject\\\">\\n    <a (click)=\\\"onBrowseCurrentProject()\\\">Back to {{getCurrentProjectName()}}</a>\\n  </p>\\n  <ngb-accordion [closeOthers]=\\\"true\\\" [activeIds]=\\\"currentActivePanel\\\" (panelChange)=\\\"onPanelChange($event)\\\">\\n    <ngb-panel id=\\\"documentAnalysisMode\\\" title=\\\"1. Document analysis\\\">\\n      <ng-template ngbPanelContent>\\n        <ngb-accordion [closeOthers]=\\\"true\\\" activeIds=\\\"daManual\\\">\\n          <ngb-panel id=\\\"daManual\\\" title=\\\"Manual\\\">\\n            <ng-template ngbPanelContent>\\n              <label ngbButtonLabel class=\\\"btn-light\\\" (click)=\\\"clearDocumentAnalysis()\\\">\\n                Clear\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"101\\\"> Select\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"102\\\"> Split pages\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"103\\\"> Split regions\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"104\\\" disabled> Draw pages\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"105\\\" disabled> Draw regions\\n              </label>\\n            </ng-template>\\n          </ngb-panel>\\n          <ngb-panel id=\\\"daAutomatic\\\" title=\\\"Automatic\\\">\\n            <ng-template ngbPanelContent>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"110\\\" disabled> Pages\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"111\\\" disabled> Regions in pages\\n              </label>\\n            </ng-template>\\n          </ngb-panel>\\n        </ngb-accordion>\\n      </ng-template>\\n    </ngb-panel>\\n    <ngb-panel id=\\\"symbolsMode\\\" title=\\\"2. Symbols\\\">\\n      <ng-template ngbPanelContent>\\n        <ngb-accordion [closeOthers]=\\\"true\\\" activeIds=\\\"symbolsManual\\\">\\n          <ngb-panel id=\\\"symbolsManual\\\" title=\\\"Manual\\\">\\n            <ng-template ngbPanelContent>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"200\\\"> Select\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"201\\\"> Bounding boxes\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"202\\\"> Strokes\\n              </label>\\n            </ng-template>\\n          </ngb-panel>\\n          <ngb-panel id=\\\"symmbolsAutomatic\\\" title=\\\"Automatic\\\">\\n            <ng-template ngbPanelContent>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"210\\\" disabled> Image end to end\\n              </label>\\n              <label ngbButtonLabel class=\\\"btn-light\\\">\\n                <input ngbButton type=\\\"radio\\\" value=\\\"211\\\" disabled> Staff end to end\\n              </label>\\n            </ng-template>\\n          </ngb-panel>\\n        </ngb-accordion>\\n      </ng-template>\\n    </ngb-panel>\\n    <ngb-panel id=\\\"diplomatic\\\" title=\\\"3. Diplomatic\\\" [disabled]=\\\"true\\\">\\n      <ng-template ngbPanelContent>\\n      </ng-template>\\n    </ngb-panel>\\n  </ngb-accordion>\\n</div>\\n\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {ImageToolBarService} from './image-tool-bar.service';\nimport {NgbPanelChangeEvent} from '@ng-bootstrap/ng-bootstrap';\nimport {Router} from '@angular/router';\nimport {NGXLogger} from 'ngx-logger';\nimport {SessionDataService} from '../services/session-data.service';\n\n@Component({\n  selector: 'app-image-tool-bar',\n  templateUrl: './image-tool-bar.component.html',\n  styleUrls: ['./image-tool-bar.component.css']\n})\nexport class ImageToolBarComponent implements OnInit {\n  constructor(private currentSession: SessionDataService, private toolbarService: ImageToolBarService, private router: Router, private logger: NGXLogger) { }\n\n  ngOnInit() {\n  }\n\n  getCurrentProjectName(): string {\n    return this.currentSession.currentProject.name;\n  }\n\n  onBrowseCurrentProject() {\n    this.router.navigate(['/project/' + this.currentSession.currentProject.id]);\n  }\n\n  get selectedTool(): string {\n    return this.toolbarService.selectedTool;\n  }\n\n  set selectedTool(value: string) {\n    this.toolbarService.selectedTool = value;\n  }\n\n\n  get currentActivePanel(): string {\n    return this.toolbarService.currentActivePanel;\n  }\n\n  set currentActivePanel(value: string) {\n    this.toolbarService.currentActivePanel = value;\n  }\n\n  clearDocumentAnalysis() {\n    this.toolbarService.clearDocumentAnalysisEvent.emit();\n  }\n\n  onPanelChange($event: NgbPanelChangeEvent) {\n    this.logger.debug('Panel change ' + $event.panelId + ', nextState=' + $event.nextState);\n    if ($event.nextState) {\n      this.toolbarService.currentActivePanel = $event.panelId;\n      switch ($event.panelId) {\n        case 'documentAnalysisMode':\n          this.router.navigate(['/image']);\n          break;\n        case 'symbolsMode':\n          this.router.navigate(['/symbols']);\n          break;\n      }\n    }\n  }\n\n}\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\n/**\n * It contains the share data of the toolbar\n */\nexport class ImageToolBarService {\n  private _selectedTool = '101';\n  private _selectedToolSubject = new Subject();\n  selectedTool$ = this._selectedToolSubject.asObservable();\n\n  clearDocumentAnalysisEvent = new EventEmitter<any>();\n  currentActivePanel = 'documentAnalysisMode';\n\n  constructor() { }\n\n\n  get selectedTool(): string {\n    return this._selectedTool;\n  }\n\n  set selectedTool(value: string) {\n    this._selectedTool = value;\n    this._selectedToolSubject.next(value);\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ltYWdlL2ltYWdlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"row\\\" xmlns:svg=\\\"\\\">\\n  <div class=\\\"col-2\\\">\\n    <app-image-tool-bar></app-image-tool-bar>\\n </div>\\n\\n  <!-------------- CONTENT ------------------>\\n  <div class=\\\"col-10\\\">\\n    <div class=\\\"row\\\" id=\\\"manuscriptImage\\\">\\n      <div class=\\\"col\\\">\\n        <app-document-analysis-view #appDocumentAnalysisView (mouseEvent)=\\\"onMouseEvent($event)\\\"></app-document-analysis-view>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\"","import {AfterViewInit, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {NGXLogger} from 'ngx-logger';\n// import {ResizedEvent} from 'angular-resize-event/resized-event';\nimport {ComponentCanDeactivate} from '../component-can-deactivate';\nimport {ImageToolBarService} from '../image-tool-bar/image-tool-bar.service';\nimport {DocumentAnalysisViewComponent} from '../document-analysis-view/document-analysis-view.component';\nimport {SVGMousePositionEvent} from '../svgcanvas/components/svgcanvas/svgcanvas.component';\n\n@Component({\n  selector: 'app-image',\n  templateUrl: './image.component.html',\n  styleUrls: ['./image.component.css']\n})\n\nexport class ImageComponent extends ComponentCanDeactivate implements OnInit, AfterViewInit {\n  @ViewChild('appDocumentAnalysisView') documentAnalysisView: DocumentAnalysisViewComponent;\n\n  constructor(\n    private route: ActivatedRoute,\n    private logger: NGXLogger,\n    private toolbarService: ImageToolBarService\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n  }\n\n  private initToolBarInteraction() {\n    this.logger.info('Initiating image tool bar interaction');\n    // this way, when a new image is opened, despite the previous selected mode, the documentAnalysis is selected\n    this.toolbarService.currentActivePanel = 'documentAnalysisMode';\n\n    this.activateEditMode();\n\n    this.toolbarService.selectedTool$.subscribe(next => {\n      switch (next) {\n        case '101': // select\n          this.activateEditMode();\n          break;\n        case '102': // split pages\n          this.documentAnalysisView.activatePageSplitMode();\n          break;\n        case '103':  // split regions\n          this.documentAnalysisView.activateRegionSplitMode();\n          break;\n      }\n    });\n  }\n\n  private activateEditMode() {\n    if (this.toolbarService.selectedTool !== '101') {\n      this.toolbarService.selectedTool = '101';\n      this.documentAnalysisView.activateEditMode();\n    }\n  }\n\n\n  public ngAfterViewInit(): void {\n    this.logger.debug('ngAfterViewInit');\n    this.initToolBarInteraction();\n    this.toolbarService.clearDocumentAnalysisEvent.subscribe(next => {\n      this.clearDocumentAnalysis();\n    });\n  }\n\n  /* It draws the page and region bounding boxes */\n  /* private setImage(serviceImage: Image) {\n    this.image = serviceImage;\n    this.logger.debug('Setting image ' + serviceImage + ' ' + this.image.filename);\n    this.imageURL = this.projectURLs + '/' + this.image.filename;\n  } */\n\n  canDeactivate(): boolean {\n    return false; // TODO\n  }\n\n  clearDocumentAnalysis() {\n    if (confirm('Do you really want to clear the document analysis?')) {\n      this.documentAnalysisView.clearDocumentAnalysis();\n    }\n  }\n  onMouseEvent($event: SVGMousePositionEvent) {\n  }\n}\n","module.exports = \"<div>\\n  <div *ngIf=\\\"editing\\\">\\n    <input [required]=\\\"required\\\" (blur)=\\\"onBlur($event)\\\" [name]=\\\"value\\\" [(ngModel)]=\\\"value\\\" [placeholder]=\\\"label\\\" [size]=\\\"size\\\"/>\\n  </div>\\n  <div *ngIf=\\\"!editing\\\">\\n    <a href=\\\"#\\\" (click)=\\\"beginEdit(value)\\\" (focus)=\\\"beginEdit(value)\\\" tabindex=\\\"0\\\">{{value}}</a>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2lubGluZS1lZGl0L2lubGluZS1lZGl0LmNvbXBvbmVudC5zY3NzIn0= */\"","import {Component, Input, ViewChild, forwardRef, Output, EventEmitter} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\nconst VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => InlineEditComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'app-inline-edit',\n  templateUrl: './inline-edit.component.html',\n  providers: [VALUE_ACCESSOR],\n  styleUrls: ['./inline-edit.component.scss']\n})\n\nexport class InlineEditComponent implements ControlValueAccessor {\n  @Input() size = '80';\n  @Input() label = 'Enter value here';\n  @Input() required = true;\n  @Output() changed = new EventEmitter();\n  private _value: string;\n  private preValue = '';\n  private editing = false;\n  public onChange: any = Function.prototype;\n  public onTouched: any = Function.prototype;\n\n  get value(): any {\n    if (this._value === null || this._value === '') {\n      return this.label;\n    } else {\n      return this._value;\n    }\n  }\n\n  set value(v: any) {\n    if (v !== this._value) {\n      this._value = v;\n    }\n  }\n\n  writeValue(value: any) {\n    this._value = value;\n  }\n\n  public registerOnChange(fn: (_: any) => {}): void {\n    this.onChange = fn;\n  }\n\n  public registerOnTouched(fn: () => {}): void {\n    this.onTouched = fn;\n  }\n\n  onBlur($event: Event) {\n    this.editing = false;\n    if ( this._value === '') {\n      this._value = 'No value available';\n    }\n    this.changed.emit(this._value);\n  }\n\n  beginEdit(value) {\n    this.preValue = value;\n    this.editing = true;\n  }\n}\n","module.exports = \"input {\\n  margin: 10px;\\n}\\n\\nh2 {\\n  margin-top: 20vh;\\n}\\n\\n#login button {\\n  margin-top: 10px;\\n\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjs7QUFFbEIiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW5wdXQge1xuICBtYXJnaW46IDEwcHg7XG59XG5cbmgyIHtcbiAgbWFyZ2luLXRvcDogMjB2aDtcbn1cblxuI2xvZ2luIGJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG5cbn1cbiJdfQ== */\"","module.exports = \"<div class=\\\"row\\\" id=\\\"login\\\">\\n  <div class=\\\"offset-4 col\\\">\\n    <h2>LOGIN</h2>\\n    <p>{{message}}</p>\\n\\n    <div *ngIf=\\\"!isLoggedIn()\\\">\\n      <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && login()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <div [ngClass]=\\\"{ 'has-error': f.submitted && !username.valid }\\\">\\n          <label>Username</label>\\n          <input type=\\\"text\\\"\\n                 name=\\\"username\\\" [(ngModel)]=\\\"model.username\\\"\\n                 #username=\\\"ngModel\\\" required />\\n          <div *ngIf=\\\"f.submitted\\n              && !username.valid\\\">Username is required</div>\\n        </div>\\n        <div [ngClass]=\\\"{ 'has-error': f.submitted && !password.valid }\\\">\\n          <label>Password</label>\\n          <input type=\\\"password\\\"\\n                 name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\"\\n                 #password=\\\"ngModel\\\" required />\\n          <div *ngIf=\\\"f.submitted\\n              && !password.valid\\\">Password is required</div>\\n        </div>\\n        <div class=\\\"offset-1\\\">\\n          <button class=\\\"btn btn-primary\\\" [disabled]=\\\"loading\\\">Login</button>\\n        </div>\\n      </form>\\n    </div>\\n\\n    <div *ngIf=\\\"isLoggedIn()\\\">\\n      Logged in ...\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"logout()\\\" >Logout</button>\\n    </div>\\n  </div>\\n</div>\\n<!--<p>\\n  <button (click)=\\\"login()\\\"  *ngIf=\\\"!authService.isLoggedIn\\\">Login</button>\\n  <button (click)=\\\"logout()\\\" *ngIf=\\\"authService.isLoggedIn\\\">Logout</button>\\n</p>-->\\n\"","import { Component } from '@angular/core';\nimport { Router,\n  NavigationExtras } from '@angular/router';\nimport {RestClientService} from '../services/rest-client.service';\nimport {NGXLogger} from 'ngx-logger';\nimport {AuthService} from \"../services/auth.service\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  message: string;\n  model: any = {\n    'username': '',\n    'password': ''\n  };\n\n  constructor(private authService: AuthService, private router: Router, private logger: NGXLogger) {\n    this.setMessage();\n  }\n\n  setMessage() {\n   /* if (this.im3WSService.authenticated()) {\n      this.message = 'Logged in as ' + this.im3WSService.getUser().username;\n    } else {\n      this.message = 'Logged out';\n    } */\n\n  }\n\n  // TODO Refactorizar\n  login() {\n    this.logger.debug('Loging in');\n    this.message = 'Trying to log in ...';\n\n    this.authService.login(this.model.username, this.model.password).subscribe(next => {\n      this.authService.setUser(next);\n\n      this.setMessage();\n      if (this.authService.authenticated()) {\n        const redirect = 'startup';\n        // Redirect the user\n        this.router.navigate([redirect]);\n      }\n    });\n  }\n\n  logout() {\n    this.logger.debug('Logging out');\n    this.authService.logout();\n    this.setMessage();\n  }\n\n  isLoggedIn(): boolean {\n    return this.authService.authenticated();\n  }\n}\n\n\n/*\nCopyright 2017-2018 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MessageService {\n  messages: string[] = [];\n\n  add(message: string) {\n    this.messages.push(message);\n  }\n\n  clear() {\n    this.messages = [];\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div *ngIf=\\\"messageService.messages.length\\\">\\n\\n  <h2>Messages</h2>\\n  <button class=\\\"clear\\\"\\n          (click)=\\\"messageService.clear()\\\">clear</button>\\n  <div *ngFor='let message of messageService.messages'> {{message}} </div>\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message.service';\n\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n\n  constructor(public messageService: MessageService) {}\n\n  ngOnInit() {\n  }\n\n}\n","import {Page} from './page';\nimport {State} from './state';\n\nexport class Image {\n  id: number;\n  filename: string;\n  pages: Array<Page>;\n  state: State;\n  constructor(id: number, filename: string, pages: Array<Page>, state: State) {\n    this.id = id;\n    this.filename = filename;\n    this.pages = pages;\n    this.state = state;\n  }\n}\n","export class Point {\n  time: number;\n  x: number;\n  y: number;\n\n\n  constructor(time: number, x: number, y: number) {\n    this.time = time;\n    this.x = x;\n    this.y = y;\n  }\n}\n","import {Image} from './image';\nimport {State} from './state';\nimport {NGXLogger} from \"ngx-logger\";\n\nexport class Project {\n  id: number;\n  name: string;\n  path: string;\n  thumbnailBase64Encoding: string;\n  images: Array<Image>;\n  comments: string;\n  imagesOrdering: string;\n  notationType: string;\n  manuscriptType: string;\n  state: State;\n  composer: string;\n\n  /*constructor(id: number, name: string, path: string, comments: string, thumbnailBase64Encoding: string, imagesOrdering: string,\n              images: Array<Image>) {\n    this.id = id;\n    this.name = name;\n    this.path = path;\n    this.thumbnailBase64Encoding = thumbnailBase64Encoding;\n    this.comments = comments;\n    this.imagesOrdering = imagesOrdering;\n    this.orderImageArray();\n  }*/\n\n  orderImageArray() {\n    if (this.images) {\n      // first insert input images in a map\n      const imagesMap: Map<number, Image> = new Map<number, Image>();\n      this.images.forEach(image => {\n        imagesMap.set(image.id, image);\n      });\n\n      const newImages = new Array<Image>();\n      // insert images as appear on the imagesOrdering\n      if (this.imagesOrdering) {\n        this.images = new Array<Image>();\n        const imageOrders = this.imagesOrdering.split(',');\n        imageOrders.forEach(order => {\n          const imageId = Number(order);\n          const image = imagesMap.get(imageId);\n          if (image) { // if not something may go wrong but it is not important here\n            newImages.push(image);\n            imagesMap.delete(imageId);\n          }\n        });\n      } else {\n        this.imagesOrdering = '';\n      }\n\n      // now insert the other images not inserted yet\n      imagesMap.forEach((value: Image, key: number) => {\n        if (this.imagesOrdering.length > 0) {\n          this.imagesOrdering += ',';\n        }\n        this.imagesOrdering += key;\n        newImages.push(value);\n      });\n      this.images = newImages;\n    }\n  }\n}\n","import {User} from './user';\n\nexport class State {\n  id: number;\n  comments: string;\n  state: string;\n  // TODO User\n}\n","import {Point} from './point';\n\nexport class Stroke {\n  points: Array<Point>;\n\n  constructor(points: Array<Point>) {\n    this.points = points;\n  }\n}\n\n","import {Stroke} from './stroke';\n\nexport class Strokes {\n  strokeList: Array<Stroke>;\n\n  constructor(strokeList: Array<Stroke>) {\n    this.strokeList = strokeList;\n  }\n}\n","import {Project} from './project';\nimport {Permissions} from './permissions';\n\nexport class User {\n  private _id: number;\n  private _username: string;\n  private _projectsCreated: Array<Project>;\n  private _permissions: Permissions;\n\n\n  get id(): number {\n    return this._id;\n  }\n\n  set id(value: number) {\n    this._id = value;\n  }\n\n  get username(): string {\n    return this._username;\n  }\n\n  set username(value: string) {\n    this._username = value;\n  }\n\n  get projectsCreated(): Array<Project> {\n    return this._projectsCreated;\n  }\n\n  set projectsCreated(value: Array<Project>) {\n    this._projectsCreated = value;\n  }\n\n  get permissions(): Permissions {\n    return this._permissions;\n  }\n\n  set permissions(value: Permissions) {\n    this._permissions = value;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25ldy1wcm9qZWN0LWZvcm0vbmV3LXByb2plY3QtZm9ybS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<form [formGroup]=\\\"newProjectForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-6\\\">\\n      <p>\\n        <label>Project name <input type=\\\"text\\\" formControlName=\\\"name\\\" size=\\\"128\\\"> (required)</label>\\n      </p>\\n      <p>\\n        <label>Composer <input type=\\\"text\\\" formControlName=\\\"composer\\\" size=\\\"128\\\"></label>\\n      </p>\\n      <p>\\n        <input type=\\\"radio\\\" name=\\\"notationType\\\" formControlName=\\\"notationType\\\" value=\\\"eMensural\\\" checked>Mensural &nbsp;\\n        <input type=\\\"radio\\\" name=\\\"notationType\\\" formControlName=\\\"notationType\\\" value=\\\"eModern\\\">Modern &nbsp; (required)\\n      </p>\\n      <p>\\n        <input type=\\\"radio\\\" name=\\\"manuscriptType\\\" formControlName=\\\"manuscriptType\\\" value=\\\"eHandwritten\\\" checked>Handwritten &nbsp;\\n        <input type=\\\"radio\\\" name=\\\"manuscriptType\\\" formControlName=\\\"manuscriptType\\\" value=\\\"ePrinted\\\">Printed&nbsp; (required)\\n      </p>\\n      <p>\\n        <label>Comments <input type=\\\"text\\\" formControlName=\\\"comments\\\"></label>\\n      </p>\\n    </div>\\n    <div *ngIf=\\\"imgSrc\\\" class=\\\"col-6\\\">\\n      <h5>Preview</h5>\\n      <img class=\\\"img-fluid\\\" [src]=\\\"imgSrc\\\">\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <label>Upload poster image (use mouse scroll to zoom)</label>\\n      <ngx-img (onSelect)=\\\"onSelect($event)\\\" (onReset)=\\\"onReset()\\\" [config]=\\\"{ fileSize: 10000, height: 200, crop: [ { minWidth: 200, maxWidth: 200, ratio: 1 } ] }\\\"></ngx-img>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <button type=\\\"submit\\\" [disabled]=\\\"!newProjectForm.valid\\\">Submit</button>\\n    </div>\\n  </div>\\n\\n</form>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport {RestClientService} from '../services/rest-client.service';\nimport {Router} from '@angular/router';\n\n// import { ImageCropperModule } from 'ngx-image-cropper';\nimport {NGXLogger} from 'ngx-logger';\nimport {ProjectService} from \"../services/project.service\";\n\n@Component({\n  selector: 'app-new-project-form',\n  templateUrl: './new-project-form.component.html',\n  styleUrls: ['./new-project-form.component.css']\n})\n\nexport class NewProjectFormComponent implements OnInit {\n  imgSrc: string;\n\n  newProjectForm = this.fb.group({\n    name: ['', Validators.required],\n    composer: [''],\n    notationType: ['eMensural', Validators.required],\n    manuscriptType: ['eHandwritten', Validators.required],\n    comments: ['']\n  });\n\n  constructor(private fb: FormBuilder, private projectService: ProjectService, private router: Router, private logger: NGXLogger) {\n  }\n\n  ngOnInit() {\n  }\n\n  onReset() {\n  }\n\n  onSelect($event: any) {\n    this.imgSrc = $event;\n  }\n\n  onSubmit() {\n    this.logger.debug('Submitting new project');\n    this.projectService.newProject$(this.newProjectForm.controls['name'].value,\n      this.newProjectForm.controls['composer'].value,\n      this.newProjectForm.controls['notationType'].value,\n      this.newProjectForm.controls['manuscriptType'].value,\n      this.newProjectForm.controls['comments'].value, this.imgSrc)\n      .subscribe(serviceNewProject =>\n        this.router.navigate(['/project/get', { id: serviceNewProject.id }])\n      );\n    // TODO ¿Si hay error?\n  }\n\n}\n","// Used to send post strokes to the REST service\nimport {Point} from '../model/point';\n\nexport class PostStrokes {\n  regionID: number;\n  points: Point[][];\n\n  constructor(regionID: number, points: Point[][]) {\n    this.regionID = regionID;\n    this.points = points;\n  }\n}\n","export class StringBody {\n  value: string;\n\n  constructor(value: string) {\n    this.value = value;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZWZlcmVuY2VzL3ByZWZlcmVuY2VzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<h2>Preferences</h2>\\n\\n<form [formGroup]=\\\"preferencesGroup\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n        <div *ngFor=\\\"let classifierType of classifierTypes; trackBy: trackByClassifierTypeFunction\\\" class=\\\"form-group\\\">\\n          <h3>{{classifierType.name}}</h3>\\n          <label class=\\\"center-block\\\">Symbol classifier based on image:\\n            <select class=\\\"form-control\\\" formControlName=\\\"symbolImageClassifiersSelect\\\">\\n              <option *ngFor=\\\"let classifier of classifierType.classifiers; trackBy: trackByClassifierFunction\\\" [ngValue]=\\\"classifier.id\\\">{{classifier.description}}</option>\\n            </select>\\n          </label>\\n        </div>\\n        <div>\\n          <button type=\\\"submit\\\">Submit</button>\\n        </div>\\n</form>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {FormControl, FormGroup} from '@angular/forms';\nimport {RestClientService} from '../services/rest-client.service';\nimport {ClassifierType} from '../model/classifier-type';\nimport {Classifier} from '../model/classifier';\nimport {ClassifierService} from \"../services/classifier.service\";\n\n@Component({\n  selector: 'app-preferences',\n  templateUrl: './preferences.component.html',\n  styleUrls: ['./preferences.component.css']\n})\nexport class PreferencesComponent implements OnInit {\n\n  constructor(private classifierService: ClassifierService) {\n  }\n\n  classifierTypes: ClassifierType[];\n  preferencesGroup = new FormGroup({\n    symbolImageClassifiersSelect: new FormControl()\n  });\n  onSubmit() {\n  }\n\n  ngOnInit(): void {\n    this.classifierService.getClassifierTypes$().subscribe(next => {\n      this.classifierTypes = next;\n    });\n  }\n\n  trackByClassifierFunction(index, item: Classifier) {\n    return item.id; // unique id corresponding to the item\n  }\n\n  trackByClassifierTypeFunction(index, item: ClassifierType) {\n    return item.id; // unique id corresponding to the item\n  }\n}\n","module.exports = \"/*----- Dragula ----- */\\n/* in-flight clone */\\n.gu-mirror {\\n  position: fixed !important;\\n  margin: 0 !important;\\n  z-index: 9999 !important;\\n  opacity: 0.8;\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\\\";\\n  filter: alpha(opacity=80);\\n  pointer-events: none;\\n}\\n/* high-performance display:none; helper */\\n.gu-hide {\\n  left: -9999px !important;\\n}\\n/* added to mirrorContainer (default = body) while dragging */\\n.gu-unselectable {\\n  -webkit-user-select: none !important;\\n  -moz-user-select: none !important;\\n  -ms-user-select: none !important;\\n  user-select: none !important;\\n}\\n/* added to the source element while its mirror is dragged */\\n.gu-transit {\\n  opacity: 0.2;\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\\\";\\n  filter: alpha(opacity=20);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvamVjdC9wcm9qZWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdUJBQXVCO0FBQ3ZCLG9CQUFvQjtBQUNwQjtFQUNFLDBCQUEwQjtFQUMxQixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLFlBQVk7RUFDWixpRUFBaUU7RUFDakUseUJBQXlCO0VBQ3pCLG9CQUFvQjtBQUN0QjtBQUNBLDBDQUEwQztBQUMxQztFQUNFLHdCQUF3QjtBQUMxQjtBQUNBLDZEQUE2RDtBQUM3RDtFQUNFLG9DQUFvQztFQUNwQyxpQ0FBaUM7RUFDakMsZ0NBQWdDO0VBQ2hDLDRCQUE0QjtBQUM5QjtBQUNBLDREQUE0RDtBQUM1RDtFQUNFLFlBQVk7RUFDWixpRUFBaUU7RUFDakUseUJBQXlCO0FBQzNCIiwiZmlsZSI6InNyYy9hcHAvcHJvamVjdC9wcm9qZWN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tIERyYWd1bGEgLS0tLS0gKi9cbi8qIGluLWZsaWdodCBjbG9uZSAqL1xuLmd1LW1pcnJvciB7XG4gIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgei1pbmRleDogOTk5OSAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwLjg7XG4gIC1tcy1maWx0ZXI6IFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9ODApXCI7XG4gIGZpbHRlcjogYWxwaGEob3BhY2l0eT04MCk7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuLyogaGlnaC1wZXJmb3JtYW5jZSBkaXNwbGF5Om5vbmU7IGhlbHBlciAqL1xuLmd1LWhpZGUge1xuICBsZWZ0OiAtOTk5OXB4ICFpbXBvcnRhbnQ7XG59XG4vKiBhZGRlZCB0byBtaXJyb3JDb250YWluZXIgKGRlZmF1bHQgPSBib2R5KSB3aGlsZSBkcmFnZ2luZyAqL1xuLmd1LXVuc2VsZWN0YWJsZSB7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50O1xuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcbiAgdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcbn1cbi8qIGFkZGVkIHRvIHRoZSBzb3VyY2UgZWxlbWVudCB3aGlsZSBpdHMgbWlycm9yIGlzIGRyYWdnZWQgKi9cbi5ndS10cmFuc2l0IHtcbiAgb3BhY2l0eTogMC4yO1xuICAtbXMtZmlsdGVyOiBcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTIwKVwiO1xuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApO1xufVxuIl19 */\"","module.exports = \"<div class=\\\"row\\\">\\n  <div *ngIf=\\\"projectIsLoaded()\\\" class=\\\"col-7 offset-1\\\">\\n    <h2>{{project?.name}}</h2>\\n    <app-inline-edit [(ngModel)]=\\\"project.composer\\\" type=\\\"text\\\" [label]=\\\"'Enter value for composer'\\\" (changed)=\\\"composerChanged($event)\\\" [size]=\\\"128\\\"> </app-inline-edit>\\n    <p>{{projectStatistics?.images}} images, {{projectStatistics?.pages}} pages, {{projectStatistics?.regions}} regions, {{projectStatistics?.agnosticSymbols}} symbols </p>\\n\\n    <input type=\\\"radio\\\" name=\\\"rbProjectState\\\" [(ngModel)]=\\\"projectState\\\" value=\\\"none\\\">\\n    None\\n    <input type=\\\"radio\\\" name=\\\"rbProjectState\\\" [(ngModel)]=\\\"projectState\\\" value=\\\"inprogress\\\">\\n    In progress\\n    <input type=\\\"radio\\\" name=\\\"rbProjectState\\\" [(ngModel)]=\\\"projectState\\\" value=\\\"done\\\">\\n    Done\\n    <input type=\\\"radio\\\" name=\\\"rbProjectState\\\" [(ngModel)]=\\\"projectState\\\" value=\\\"doublechecked\\\">\\n    Double checked\\n\\n    <app-inline-edit [(ngModel)]=\\\"project.comments\\\" type=\\\"text\\\" [label]=\\\"'Enter comments'\\\" (changed)=\\\"commentsChanged($event)\\\" [size]=\\\"128\\\"> </app-inline-edit>\\n  </div>\\n\\n  <div class=\\\"col-1\\\">\\n    <a (click)=\\\"uploadImages()\\\">\\n      Upload images\\n    </a>\\n  </div>\\n  <div class=\\\"col-3\\\">\\n    <img src=\\\"assets/images/orderimages.png\\\" alt=\\\"Order images\\\"/>\\n  </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"offset-1 col-10\\\">\\n    <div *ngIf=\\\"project; let project; else loading\\\" dragula=\\\"DRAGULA_FACTS\\\" #domImages>\\n      <app-image-thumbnail *ngFor=\\\"let image of project.images\\\" [image]=\\\"image\\\" [attr.data-id]=\\\"image.id\\\"></app-image-thumbnail>\\n    </div>\\n    <ng-template #loading>Loading project...</ng-template>\\n  </div>\\n</div>\\n\"","import {Component, ElementRef, OnInit, QueryList, Renderer2, ViewChild, ViewChildren} from '@angular/core';\nimport {ActivatedRoute, ParamMap, Router} from '@angular/router';\nimport {Project} from '../model/project';\nimport {DragulaService} from 'ng2-dragula';\nimport {ImageThumbnailComponent} from '../image-thumbnail/image-thumbnail.component';\nimport {NGXLogger} from 'ngx-logger';\nimport {SessionDataService} from '../services/session-data.service';\nimport {ComponentCanDeactivate} from '../component-can-deactivate';\nimport {ProjectStatistics} from '../model/project-statistics';\nimport {ProjectService} from \"../services/project.service\";\n// import { Lightbox } from 'ngx-lightbox';\n\n@Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.css']\n})\nexport class ProjectComponent extends ComponentCanDeactivate implements OnInit {\n  projectStatistics: ProjectStatistics;\n  private _projectState: string;\n  BAG = 'DRAGULA_FACTS';\n\n  @ViewChildren(ImageThumbnailComponent) imageThumbnailComponents: QueryList<ImageThumbnailComponent>;\n  @ViewChild('domImages') domImages: ElementRef;\n\n  constructor(\n    private sessionDataService: SessionDataService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private dragulaService: DragulaService,\n    private logger: NGXLogger,\n    private projectService: ProjectService\n  ) {\n    super();\n    this.logger.debug('Loading project component');\n    this.initReorderInteraction();\n  }\n\n  ngOnInit() {\n    const routeParams = this.route.snapshot.params;\n\n    this.projectService.getProject$(routeParams.id).subscribe(next => this.loadProject(next));\n    this.projectService.getProjectStatistics$(routeParams.id).subscribe(next => this.projectStatistics = next);\n  }\n\n  private loadProject(loadedProject: Project) {\n    const project = Object.assign(new Project(), loadedProject);\n    project.orderImageArray();\n    this.sessionDataService.currentProject = project;\n    this.changeProjectState();\n  }\n\n  get project(): Project {\n    return this.sessionDataService.currentProject;\n  }\n\n  get projectState(): string {\n    return this._projectState;\n  }\n\n  uploadImages() {\n    const url = 'uploadimages';\n    // Redirect the user\n    this.router.navigate([url, this.project.id]);\n  }\n\n  canDeactivate(): boolean {\n    return false; // TODO\n  }\n\n  projectIsLoaded() {\n    return this.project != null;\n  }\n\n  composerChanged($event) {\n    this.project.composer = $event;\n    this.projectService.saveProjectComposer(this.project);\n  }\n\n  commentsChanged($event) {\n    this.project.comments = $event;\n    this.projectService.saveProjectComments(this.project);\n  }\n\n  set projectState(value: string) {\n    this.logger.debug('Changing project state to ' + value);\n\n    if (value === 'none') {\n      this.project.state = null;\n    } else {\n      this.project.state.state = value;\n    }\n\n    this.projectService.saveProjectState(this.project);\n    this._projectState = value;\n  }\n\n  private changeProjectState() {\n    if (this.project.state == null) {\n      this._projectState = 'none';\n    } else {\n      this._projectState = this.project.state.state;\n    }\n  }\n\n  private initReorderInteraction() {\n    this.dragulaService.drop(this.BAG)\n      .subscribe(({ el }) => {\n        // this.logger.debug('Images order for drop ' + el );\n        // this.logger.debug('DOM:' + this.domImages.nativeElement);\n\n        let imagesOrder = '';\n        let firstImage = true;\n        const sortedImages = this.domImages.nativeElement.querySelectorAll('app-image-thumbnail');\n        sortedImages.forEach(sortedImage => {\n          if (firstImage) {\n            firstImage = false;\n          } else {\n            imagesOrder += ',';\n          }\n          // sortedImage.dataset['id'] is obtained using the HTML attribute [attr.data-id]=\"image.id\"\n          imagesOrder += sortedImage.dataset['id'];\n        });\n\n        this.logger.debug('Sorted images ' + imagesOrder);\n        this.project.imagesOrdering = imagesOrder;\n        this.projectService.updateProject(this.project);\n      });\n  }\n\n}\n","module.exports = \".projects {\\n  margin-bottom: 20px;\\n}\\n\\n.projects .card {\\n  background-color: transparent;\\n  text-align: center;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvamVjdHMvcHJvamVjdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixrQkFBa0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9wcm9qZWN0cy9wcm9qZWN0cy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2plY3RzIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLnByb2plY3RzIC5jYXJkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuIl19 */\"","module.exports = \"<div class=\\\"row titles\\\">\\n  <div class=\\\"col-2 offset-1 align-self-end\\\">\\n    <img src=\\\"assets/images/myprojects.png\\\" alt=\\\"My projects\\\"/>\\n  </div>\\n  <div class=\\\"col-9 screenTitle\\\">\\n    <img src=\\\"assets/images/openproject.png\\\" alt=\\\"Open project\\\"/>\\n  </div>\\n</div>\\n\\n<div class=\\\"row projects\\\">\\n  <div class=\\\"col-10 offset-1\\\">\\n    <div class=\\\"row\\\">\\n      <div *ngFor=\\\"let project of myProjects; trackBy: trackByProjectFn\\\" class=\\\"project col-2\\\">\\n        <div class=\\\"card\\\">\\n          <img class=\\\"card-img-top img-thumbnail\\\" *ngIf=\\\"project.thumbnailBase64Encoding\\\" src=\\\"{{project.thumbnailBase64Encoding}}\\\" alt=\\\"Project thumbnail\\\">\\n          <img class=\\\"card-img-top img-thumbnail\\\" *ngIf=\\\"!project.thumbnailBase64Encoding\\\" src=\\\"assets/images/empty_thumbnail.png\\\" alt=\\\"Project thumbnail\\\">\\n          <app-state [state]=\\\"project.state\\\"></app-state>\\n          <div class=\\\"card-body\\\">\\n            <p>\\n              <a [routerLink]=\\\"['/project', project.id]\\\">{{project.name}}</a>\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<div class=\\\"row titles\\\">\\n  <div class=\\\"col-2 offset-1 align-self-end\\\">\\n    <img src=\\\"assets/images/assignedprojects.png\\\" alt=\\\"My projects\\\"/>\\n  </div>\\n</div>\\n<div class=\\\"row projects\\\">\\n  <div class=\\\"col-10 offset-1\\\">\\n    <div class=\\\"row\\\">\\n      <div *ngFor=\\\"let permission of permissions; trackBy: trackByPermissionFn\\\" class=\\\"project col-2\\\">\\n        <div class=\\\"card\\\">\\n          <img class=\\\"card-img-top img-thumbnail\\\" *ngIf=\\\"permission.project.thumbnailBase64Encoding\\\" src=\\\"{{permission.project.thumbnailBase64Encoding}}\\\" alt=\\\"Project thumbnail\\\">\\n          <img class=\\\"card-img-top img-thumbnail\\\" *ngIf=\\\"!permission.project.thumbnailBase64Encoding\\\" src=\\\"assets/images/empty_thumbnail.png\\\" alt=\\\"Project thumbnail\\\">\\n          <app-state [state]=\\\"permission.state\\\"></app-state>\\n          <div class=\\\"card-body\\\">\\n              <a [routerLink]=\\\"['/project', permission.project.id]\\\">{{permission.project.name}}</a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {Project} from '../model/project';\nimport {NGXLogger} from 'ngx-logger';\nimport {Permissions} from '../model/permissions';\nimport {SessionDataService} from \"../services/session-data.service\";\n\n@Component({\n  selector: 'app-projects',\n  templateUrl: './projects.component.html',\n  styleUrls: ['./projects.component.css']\n})\n\nexport class ProjectsComponent implements OnInit {\n  myProjects: Array<Project>;\n  permissions: Permissions;\n\n  constructor(private sessionDataService: SessionDataService, private logger: NGXLogger) {\n  }\n\n  ngOnInit() {\n    this.myProjects = this.sessionDataService.user.projectsCreated;\n    this.permissions = this.sessionDataService.user.permissions;\n  }\n\n  trackByProjectFn(index, item: Project) {\n    return item.id; // unique id corresponding to the item\n  }\n\n  trackByPermissionFn(index, item: Permissions) {\n    return item.id; // unique id corresponding to the item\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {NGXLogger} from 'ngx-logger';\nimport {AuthService} from './auth.service';\nimport {DialogsService} from './dialogs.service';\nimport {Observable} from 'rxjs';\nimport {StringReponse} from '../string-reponse';\nimport {catchError} from 'rxjs/operators';\nimport {SVGSet} from '../model/SVGSet';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AgnosticService {\n  private urlAgnostic: string;\n\n  constructor(private restClientService: RestClientService,\n        private logger: NGXLogger,\n        private dialogService: DialogsService) {\n    this.urlAgnostic = environment.apiEndpoint + '/agnostic';\n  }\n\n  public getSVGFromAgnosticSymbolType$(notationType: string, manuscriptType: string, agnosticSymbolType: string)\n    : Observable<StringReponse> {\n\n    return this.restClientService.httpGet$<StringReponse>(this.urlAgnostic + '/svg'\n      + '?notationType=' + notationType\n      + '&manuscriptType=' + manuscriptType\n      + '&symbolType=' + agnosticSymbolType,\n      'Fetching svg path for notationType=' + notationType\n      + 'manuscriptType=' + manuscriptType\n      + ' and agnosticSymbolType=' + agnosticSymbolType);\n  }\n\n  public getSVGSet$(notationType: string, manuscriptType: string): Observable<SVGSet> {\n    return this.restClientService.httpGet$<SVGSet>(this.urlAgnostic + '/svgset'\n      + '?notationType=' + notationType\n      + '&manuscriptType=' + manuscriptType\n      ,\n      'Fetching svgset for notationType=' + notationType\n      + 'manuscriptType=' + manuscriptType);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {User} from '../model/user';\nimport {environment} from '../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {NGXLogger} from 'ngx-logger';\nimport {SessionDataService} from \"./session-data.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private SESSION_USER_STORAGE = 'token';\n\n  private urlLogin: string;\n  private urlAuthenticatedUser: string;\n  private urlUser: string;\n\n  constructor(private http: HttpClient,\n              private logger: NGXLogger,\n              private sessionDataService: SessionDataService) {\n    this.urlLogin = environment.apiEndpoint + '/auth/login';  // URL to web api\n    this.urlAuthenticatedUser = environment.apiEndpoint + '/auth/user';\n    this.urlUser = environment.apiEndpoint + '/user';\n  }\n\n  logout(): void {\n    this.sessionDataService.user = null;\n    sessionStorage.removeItem(this.SESSION_USER_STORAGE);\n  }\n\n  public authenticated(): boolean {\n    // return this.isLoggedIn;\n    return this.sessionDataService.user != null;\n  }\n\n  public getUser(): User {\n    return this.sessionDataService.user;\n  }\n\n\n  public login(username: string, password: string): Observable<User> {\n    return this.http.post<User>(this.urlLogin, {\n      username: username,\n      password: password\n    }); /*.pipe(\n      tap<User>(next => {\n        if (next != null) {\n          sessionStorage.setItem(\n            this.SESSION_USER_STORAGE,\n            btoa(username + ':' + password)\n          );\n          this.logger.error('Found user with id=' + next.id);\n          Object.assign(this.user, next);\n        }\n      })\n    );*/\n  }\n\n  public getHttpAuthOptions() {\n    const options = {headers: this.getHeaders()};\n    return options;\n  }\n\n\n  getHeaders(): HttpHeaders {\n    const token = sessionStorage.getItem(this.SESSION_USER_STORAGE);\n    if (!token) {\n      throw new Error('User is not authorized yet');\n    }\n\n    const headers: HttpHeaders = new HttpHeaders({\n      'Authorization': 'Bearer ' + token\n    });\n\n    return headers;\n  }\n\n\n  checkAuthorized() {\n    this.http.post<Observable<Object>>(this.urlAuthenticatedUser, {}, this.getHttpAuthOptions()).\n    subscribe(principal => {\n        this.logger.log('Current user: ' + principal['name']);\n      },\n      error => {\n        if (error.status === 401) {\n          alert('Unauthorized');\n        }\n      }\n    );\n  }\n\n  /*this.http.post<Observable<boolean>>(this.urlLogin, {\n    username: username,\n    password: password\n  }).subscribe(isValid => {\n    if (isValid) {\n      sessionStorage.setItem(\n        'token',\n        btoa(username + ':' + password)\n      );\n      // router.navigate(['']);\n      return true;\n    } else {\n      // alert('Authentication failed.');\n      return false;\n    }\n  });*/\n\n  setUser(u: User) {\n    this.sessionDataService.user = Object.assign(new User(), u);\n\n    sessionStorage.setItem(\n      this.SESSION_USER_STORAGE,\n      btoa(this.sessionDataService.user.username)\n    );\n    this.logger.debug('ID: ' + this.sessionDataService.user.id);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {NGXLogger} from 'ngx-logger';\nimport {Observable} from 'rxjs';\nimport {ClassifierType} from '../model/classifier-type';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClassifierService {\n  private urlClassifierTypes: string;\n\n  constructor(private restClientService: RestClientService,\n              private logger: NGXLogger) {\n    this.urlClassifierTypes = environment.apiEndpoint + '/classifiers';\n  }\n\n  getClassifierTypes$(): Observable<ClassifierType[]> {\n    // TODO Pasarle usuario actual\n    return this.restClientService.httpGet$<ClassifierType[]>(this.urlClassifierTypes,\n      'Fetching classifier types');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogsService {\n\n  constructor() { }\n\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  public handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      // this.logger.error(`${operation} failed: ${error.message}`);\n\n      alert('Warning: ' + error.message);\n      // Let the app keep running by returning an empty result.\n      throw new Error(error.message);\n    };\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {NGXLogger} from 'ngx-logger';\nimport {environment} from '../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {RegionType} from '../model/region-type';\nimport {Image} from '../model/image';\nimport {share} from 'rxjs/operators';\nimport {Page} from '../model/page';\nimport {Region} from '../model/region';\nimport {Symbol} from '../model/symbol';\nimport {Strokes} from '../model/strokes';\nimport {Point} from '../model/point';\nimport {PostStrokes} from '../payloads/post-strokes';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImageService {\n  private urlImage: string;\n\n  constructor(private logger: NGXLogger,\n    private restClientService: RestClientService) {\n    this.urlImage = environment.apiEndpoint + '/image';\n  }\n\n  public getImage$(id: number): Observable<Image> {\n    return this.restClientService.httpGet$(this.urlImage + '/get/' + id, 'Fetching image with id ' + id);\n  }\n\n  getMasterImage$(imageID: number): Observable<Blob> {\n    return this.restClientService.httpGetBlob(this.urlImage + '/master/' + imageID, 'Fetching master image ' + imageID);\n  }\n\n  getThumbnailImage$(imageID: number): Observable<Blob> {\n    return this.restClientService.httpGetBlob(this.urlImage + '/thumbnail/' + imageID, 'Fetching thumbnail image ' + imageID);\n  }\n\n  getPreviewImage$(imageID: number): Observable<Blob> {\n    return this.restClientService.httpGetBlob(this.urlImage + '/preview/' + imageID, 'Fetching preview image ' + imageID);\n  }\n\n  updateRegionBoundingBox$(id: number, fromX: number, fromY: number, toX: number, toY: number): Observable<any> {\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$(this.urlImage + '/regionUpdate/' + id + '/'\n      + fromX + '/' + fromY + '/'\n      + toX  + '/' + toY, 'Updating region bounding box of id: ' + id);\n  }\n\n  updateRegionType$(id: number, regionType: RegionType): Observable<any> {\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$(this.urlImage + '/regionUpdateType/' + id + '/' + regionType.id\n      , 'Updating region type of id' + id + ' to ' + regionType.name);\n  }\n\n  updatePageBoundingBox$(id: number, fromX: number, fromY: number, toX: number, toY: number): Observable<any> {\n    this.logger.debug('IM3WSService: updating page bounding box of id: ' + id);\n\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$(this.urlImage + '/pageUpdate/' + id + '/'\n      + fromX + '/' + fromY + '/'\n      + toX  + '/' + toY,\n      'Updating page bounding box of id ' + id);\n  }\n\n  splitPage$(imageId: number, imageX: number): Observable<Array<Page>> {\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$<Array<Page>>(this.urlImage + '/pageSplit/' + imageId + '/' + imageX,\n      'Splitting page image with id ' + imageId);\n  }\n\n  splitRegion$(imageId: number, imageX: number, imageY: number): Observable<Array<Page>> {\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$<Array<Page>>(this.urlImage + '/regionSplit/' + imageId + '/' + imageX + '/' + imageY,\n      'IM3WSService: splitting region image with id ' + imageId);\n  }\n\n  clearDocumentAnalysis$(imageId: number): Observable<any> {\n    //TODO Cambiar por PUT\n\n    return this.restClientService.httpGet$<void>(this.urlImage + '/documentAnalysisClear/' + imageId,\n      'Clearing document analysis of image with id ' + imageId);\n  }\n\n\n  createSymbolFromBoundingBox$(region: Region, fromX: number, fromY: number, toX: number, toY: number): Observable<Symbol> {\n    //TODO Cambiar por PUT\n    return this.restClientService.httpGet$<Symbol>(this.urlImage + '/createSymbolFromBoundingBox/' + region.id + '/'\n      + fromX + '/' + fromY + '/'\n      + toX  + '/' + toY,\n      'Create symbol from bounding box in region ' + region.id)\n      .pipe(share()); // if not, two calls are made for the same request due to CORS checking\n    //TODO Comprobar esto del share\n  }\n\n  createSymbolFromStrokes$(region: Region, currentStrokes: Strokes): Observable<Symbol> {\n    const points: Point[][] = [[]];\n    currentStrokes.strokeList.forEach(stroke => {\n      points.push(stroke.points);\n    });\n\n    const postStrokes = new PostStrokes(region.id, points);\n\n    return this.restClientService.httpPost<Symbol>(this.urlImage + '/createSymbolFromStrokes', postStrokes,\n      'Create symbol from strokes in region ' + region.id)\n      .pipe(share()); // if not, two calls are made for the same request due to CORS checking\n      //TODO Comprobar esto del share\n  }\n\n\n  deleteSymbol$(regionID: number, symbolID: number): Observable<any> {\n    //TODO Cambiar por DELETE\n    return this.restClientService.httpGet$<boolean>(this.urlImage + '/removeSymbol/' + regionID + '/' + symbolID,\n      'Deleting symbol from region with id ' + regionID + ' with symbol id: ' + symbolID);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {NGXLogger} from 'ngx-logger';\nimport {environment} from '../../environments/environment';\nimport {AuthService} from './auth.service';\nimport {DialogsService} from './dialogs.service';\nimport {Observable} from 'rxjs';\nimport {RegionType} from '../model/region-type';\nimport {catchError} from 'rxjs/operators';\nimport {Project} from '../model/project';\nimport {User} from '../model/user';\nimport {ProjectURLS} from '../model/project-urls';\nimport {StringBody} from '../payloads/string-body';\nimport {ProjectStatistics} from '../model/project-statistics';\nimport {StringReponse} from '../string-reponse';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectService {\n  private urlProject: string;\n\n  constructor(private restClientService: RestClientService,\n      private logger: NGXLogger) {\n    this.urlProject = environment.apiEndpoint + '/project';\n  }\n\n  /**\n   * It returns an observable array of lazily loaded projects\n   */\n  public getProjects$(): Observable<Project[]> {\n    return this.restClientService.httpGet$<Project[]>(this.urlProject, 'Fetching all projects (lazy)');\n  }\n\n  /**\n   * Post a new project\n   * @param name\n   * @param composer\n   * @param notationType\n   * @param manuscriptType\n   * @param comments\n   * @param base64Thumbnail\n   */\n  public newProject$(name: string, composer: string, notationType: string, manuscriptType: string, comments: string,\n                     base64Thumbnail: string): Observable<Project> {\n    return this.restClientService.httpPost<Project>(this.urlProject + '/new', {\n      'name': name,\n      'composer': composer,\n      'notationType': notationType,\n      'manuscriptType': manuscriptType,\n      'comments': comments,\n      'thumbnailBase64Encoding': base64Thumbnail\n    },\n      'Creating new project with name ' + name);\n  }\n\n  /**\n   * It retrieves eagerly the project\n   * @param id\n   */\n  public getProject$(id: number): Observable<Project> {\n    return this.restClientService.httpGet$(this.urlProject + '/get/' + id,\n      'Fetching project with id ' + id);\n  }\n\n  /**\n   * It retrieves the project statistics\n   * @param id\n   */\n  public getProjectStatistics$(id: number): Observable<ProjectStatistics> {\n    return this.restClientService.httpGet$(this.urlProject + '/statistics/' + id,\n      'Fetching project statistics for id ' + id);\n  }\n\n  /**\n   * It puts a project update\n   * @param project\n   */\n  public updateProject(project: Project): Observable<any> {\n    this.logger.debug('IM3WSService: saving project with id: ' + project.id);\n    return this.restClientService.httpPut(this.urlProject, project,\n      'Updating project with id ' + project.id);\n  }\n\n  /**\n   * It just updates the project composer\n   * @param project\n   */\n  public saveProjectComposer(project: Project): Observable<any> {\n    const stringBody = new StringBody(project.composer);\n    return this.restClientService.httpPut(this.urlProject + '/composer/' + project.id, stringBody,\n      'Updating project composer of project with id ' + project.id);\n  }\n\n  /**\n   * It just updates the project comments\n   * @param project\n   */\n  public saveProjectComments(project: Project): Observable<any> {\n    const stringBody = new StringBody(project.comments);\n    return this.restClientService.httpPut(this.urlProject + '/comments/' + project.id, stringBody,\n      'Updating project comments of project with id ' + project.id);\n  }\n\n  /**\n   * It just updates the project state\n   * @param project\n   */\n  public saveProjectState(project: Project): Observable<any> {\n    return this.restClientService.httpPut(this.urlProject + '/state/' + project.id, project.state,\n      'Updating project state of project with id ' + project.id);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {NGXLogger} from 'ngx-logger';\nimport {Observable} from 'rxjs';\nimport {RegionType} from '../model/region-type';\nimport {catchError} from 'rxjs/operators';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RegionService {\n  private urlRegionTypes: string;\n\n  constructor(private restClientService: RestClientService,\n              private logger: NGXLogger) {\n    this.urlRegionTypes = environment.apiEndpoint + '/regiontypes';\n  }\n\n  getRegionTypes(): Observable<RegionType[]> {\n    return this.restClientService.httpGet$<RegionType[]>(this.urlRegionTypes,\n      'Fetching region types');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {NGXLogger} from 'ngx-logger';\nimport {AuthService} from './auth.service';\nimport {HttpClient} from \"@angular/common/http\";\nimport {DialogsService} from \"./dialogs.service\";\nimport {Observable} from \"rxjs\";\nimport {catchError} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n * This class encapsulates the HTTP REST API calls including CORS and authentication\n */\nexport class RestClientService {\n\n  constructor(\n    private http: HttpClient,\n    private authService: AuthService,\n    private dialogService: DialogsService,\n    private logger: NGXLogger,\n  ) {\n    this.logger.info('Creating RestClientService');\n  }\n\n  public httpGetBlob<Blob>(url: string, debugMessage: string): Observable<Blob> {\n    this.logger.debug('RestClientService: ' + debugMessage);\n\n    return this.http.get(url, {headers: this.authService.getHeaders(), responseType: 'blob'}).pipe(\n      catchError(this.dialogService.handleError(debugMessage, null))\n    );\n  }\n\n  public httpGet$<T>(url: string, debugMessage: string): Observable<T> {\n    this.logger.debug('RestClientService: ' + debugMessage);\n\n    return this.http.get<T>(url, this.authService.getHttpAuthOptions()).pipe(\n        catchError(this.dialogService.handleError(debugMessage, null))\n    );\n  }\n\n  public httpPost<T>(url: string, body: any, debugMessage: string): Observable<T> {\n    this.logger.debug('RestClientService: ' + debugMessage);\n\n    return this.http.post<T>(url, body, this.authService.getHttpAuthOptions()).pipe(\n      catchError(this.dialogService.handleError(debugMessage, null))\n    );\n  }\n\n  public httpPut<T>(url: string, body: any, debugMessage: string): Observable<T> {\n    this.logger.debug('RestClientService: ' + debugMessage);\n\n    return this.http.put<T>(url, body, this.authService.getHttpAuthOptions()).pipe(\n      catchError(this.dialogService.handleError(debugMessage, null))\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {Project} from '../model/project';\nimport {Image} from '../model/image';\nimport {RegionType} from '../model/region-type';\nimport {User} from \"../model/user\";\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class SessionDataService {\n  private _user: User;\n  private _currentProject: Project;\n  private _currentImage: Image;\n  private _regionTypes: RegionType[];\n\n  get user(): User {\n    return this._user;\n  }\n\n  set user(value: User) {\n    this._user = value;\n    if (value == null) {\n      this._currentProject = null;\n      this._currentImage = null;\n    }\n  }\n\n  get currentProject(): Project {\n    return this._currentProject;\n  }\n\n  set currentProject(value: Project) {\n    this._currentProject = value;\n  }\n\n  get currentImage(): Image {\n    return this._currentImage;\n  }\n\n  set currentImage(value: Image) {\n    this._currentImage = value;\n  }\n\n  get regionTypes(): RegionType[] {\n    return this._regionTypes;\n  }\n\n  set regionTypes(value: RegionType[]) {\n    this._regionTypes = value;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {NGXLogger} from 'ngx-logger';\nimport {environment} from '../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {Symbol} from '../model/symbol';\nimport {catchError} from 'rxjs/operators';\nimport {RestClientService} from \"./rest-client.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SymbolService {\n  private urlSymbol: string;\n\n  constructor(private restClientService: RestClientService,\n              private logger: NGXLogger) {\n    this.urlSymbol = environment.apiEndpoint + '/symbol';\n  }\n\n  changeAgnosticSymbolType$(symbolID: number, agnosticSymbolTypeString: string): Observable<Symbol> {\n    return this.restClientService.httpGet$<Symbol>(this.urlSymbol + '/changeAgnosticSymbolType/' + symbolID + '/' + agnosticSymbolTypeString\n      , 'ChangeAgnosticSymbolType with symbol id: ' + symbolID + ' to ' + agnosticSymbolTypeString);\n  }\n\n  changeAgnosticPositionInStaff(symbolID: number, agnosticSymbolPositionInStaff: string): Observable<Symbol> {\n    this.logger.debug('IM3WSService: changeAgnosticSymbolType with symbol id: ' + symbolID + ' to ' + agnosticSymbolPositionInStaff);\n\n    return this.restClientService.httpGet$<Symbol>(this.urlSymbol + '/changeAgnosticPositionInStaff/' + symbolID + '/' + agnosticSymbolPositionInStaff\n      , 'ChangeAgnosticSymbolType with symbol id: ' + symbolID + ' to ' + agnosticSymbolPositionInStaff);\n  }\n\n  /**\n   * @param upOrDown up | down\n   */\n  changeAgnosticPositionInStaffUpOrDown$(symbolID: number, upOrDown: string): Observable<Symbol> {\n    return this.restClientService.httpGet$<Symbol>(this.urlSymbol + '/changeAgnosticPositionInStaffUpOrDown/' + symbolID + '/' + upOrDown\n      , 'ChangeAgnosticSymbolType with symbol id: ' + symbolID + ' ' + upOrDown);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {NGXLogger} from 'ngx-logger';\nimport {AuthService} from './auth.service';\nimport {DialogsService} from './dialogs.service';\nimport {Observable} from 'rxjs';\nimport {ITrainingSetExporter} from '../model/itraining-set-exporter';\nimport {catchError} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TrainingSetService {\n  private urlTrainingSets: string;\n\n  constructor(private http: HttpClient,\n              private logger: NGXLogger,\n              private authService: AuthService,\n              private dialogService: DialogsService) {\n    this.urlTrainingSets = environment.apiEndpoint + '/trainingsets';\n  }\n\n  getTrainingSetExporters$(): Observable<Array<ITrainingSetExporter>> {\n    this.logger.debug('IM3WSService: fetching training set exporters');\n    return this.http.get<Array<ITrainingSetExporter>>(this.urlTrainingSets + '/exporters', this.authService.getHttpAuthOptions())\n      .pipe(\n        catchError(this.dialogService.handleError('Fetch training set exporters', null))\n      );\n  }\n\n  downloadTrainingSet$(exporterIndex: number, projectIDS: Array<number>): Observable<any> {\n    this.logger.debug('IM3WSService: fetching training set file for exporter ' + exporterIndex + ' and project ids: ' + projectIDS);\n    let projectIdsString: string = null;\n    projectIDS.forEach(id => {\n      if (projectIdsString != null) {\n        projectIdsString = projectIdsString + ',' + id;\n      } else {\n        projectIdsString = '' + id;\n      }\n    });\n    const headers = new HttpHeaders();\n    Object.assign(headers, this.authService.getHttpAuthOptions());\n    headers.append('Content-Type', 'application/x-gzip');\n\n    /*return this.http.post<any>(this.urlTrainingSets + '/download/' + exporterIndex + '/' + projectIdsString,\n      {headers, responseType: 'blob'})\n      .pipe(\n        catchError(this.dialogService.handleError('Download training set', null))\n      );*/\n\n    return this.http.get(this.urlTrainingSets + '/download/' + exporterIndex + '/' + projectIdsString,\n      { responseType: 'blob' }).pipe(\n      catchError(this.dialogService.handleError('Download training set', null))\n    );\n  }\n}\n","module.exports = \"#startup {\\n  height: 100vh;\\n  margin-top: 20vh;\\n}\\n#startuplogo {\\n  margin-bottom: 5vh;\\n}\\n#startup img {\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RhcnR1cC9zdGFydHVwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFdBQVc7QUFDYiIsImZpbGUiOiJzcmMvYXBwL3N0YXJ0dXAvc3RhcnR1cC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3N0YXJ0dXAge1xuICBoZWlnaHQ6IDEwMHZoO1xuICBtYXJnaW4tdG9wOiAyMHZoO1xufVxuI3N0YXJ0dXBsb2dvIHtcbiAgbWFyZ2luLWJvdHRvbTogNXZoO1xufVxuI3N0YXJ0dXAgaW1nIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXX0= */\"","module.exports = \"<div class=\\\"row\\\" id=\\\"startup\\\">\\n  <div class=\\\"col-4 offset-4\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\" id=\\\"startuplogo\\\">\\n        <img src=\\\"assets/images/muret_negativo.png\\\" alt=\\\"Logo\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\" id=\\\"startupbuttons\\\">\\n      <div class=\\\"col-6\\\">\\n        <a routerLinkActive=\\\"active\\\" routerLink=\\\"/newproject\\\">\\n          <img src=\\\"assets/images/start_newproject.png\\\" alt=\\\"New Project\\\">\\n        </a>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <a routerLinkActive=\\\"active\\\" routerLink=\\\"/projects\\\">\\n          <img src=\\\"assets/images/start_openproject.png\\\" alt=\\\"Open Project\\\">\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\"","import {Component, ContentChild, OnInit, TemplateRef} from '@angular/core';\n\n@Component({\n  selector: 'app-startup',\n  templateUrl: './startup.component.html',\n  styleUrls: ['./startup.component.css']\n})\nexport class StartupComponent implements OnInit {\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n","module.exports = \".state {\\n  position: absolute;\\n  right: 1em;\\n  top: 1em;\\n}\\n\\n.state {\\n  color: green;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RhdGUvc3RhdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsUUFBUTtBQUNWOztBQUVBO0VBQ0UsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvc3RhdGUvc3RhdGUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdGF0ZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDFlbTtcbiAgdG9wOiAxZW07XG59XG5cbi5zdGF0ZSB7XG4gIGNvbG9yOiBncmVlbjtcbn1cbiJdfQ== */\"","module.exports = \"<div class=\\\"state\\\" data-toggle=\\\"tooltip\\\" title=\\\"{{getTooltip()}}\\\">\\n  <i *ngIf=\\\"showEdit()\\\" class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n  <i *ngIf=\\\"showCheck()\\\" class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i>\\n  <i *ngIf=\\\"showDoubleCheck()\\\" class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i>\\n</div>\\n\"","import {Component, Input, OnInit} from '@angular/core';\nimport {State} from '../model/state';\n\n@Component({\n  selector: 'app-state',\n  templateUrl: './state.component.html',\n  styleUrls: ['./state.component.css']\n})\nexport class StateComponent implements OnInit {\n  @Input() state: State;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  showEdit() {\n    return this.state && this.state.state === 'inprogress';\n  }\n\n  showCheck() {\n    return this.state && this.state.state === 'done';\n  }\n\n  showDoubleCheck() {\n    return this.state && this.state.state === 'doublechecked';\n  }\n\n  getTooltip() {\n    if (this.state) {\n      return this.state.comments;\n    } else {\n      return '';\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2NpcmNsZS9jaXJjbGUuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:g *ngIf=\\\"isSelected\\\">\\n        <svg:rect attr.x=\\\"{{ shape.originX - shape.r - 2 }}\\\" attr.y=\\\"{{ shape.originY - shape.r - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.r - 2 }}\\\" attr.y=\\\"{{ shape.originY - shape.r - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX - shape.r - 2 }}\\\" attr.y=\\\"{{ shape.originY + shape.r - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.r - 2 }}\\\" attr.y=\\\"{{ shape.originY + shape.r - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect *ngIf=\\\"isSelected\\\" attr.x=\\\"{{ shape.originX - shape.r }}\\\" attr.y=\\\"{{ shape.originY - shape.r }}\\\"\\n            attr.width=\\\"{{ shape.r * 2 }}\\\" attr.height=\\\"{{ shape.r * 2 }}\\\" style=\\\"stroke: green; stroke-width: 1; fill:none\\\" />\\n    </svg:g>\\n    <svg:circle attr.id=\\\"{{ shape.shapeProperties.name }}\\\" class=\\\"draggable\\\" attr.cx=\\\"{{ shape.originX }}\\\" attr.cy=\\\"{{ shape.originY }}\\\"\\n        attr.r=\\\"{{ shape.r }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:circle>\\n\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { ShapeType } from '../../model/shape-types';\nimport { MousePosition, Circle } from '../../model/shape';\n\n@Component({\n    selector: 'app-circle',\n    templateUrl: './circle.component.html',\n    styleUrls: ['./circle.component.css']\n})\nexport class CircleComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        this.shape = new Circle();\n        this.shapeType = ShapeType.Circle;\n        console.log('CircleComponent constructor:', this);\n    }\n\n    ngOnInit() {\n        console.log('CircleComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'fill': this.shape.shapeProperties.fillColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        console.log('CircleComponent startDrawing at ', beginPosition);\n        if (this.shape instanceof Circle) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('CircleComponent draw');\n        if (this.shape instanceof Circle) {\n            this.shape.r = Math.abs(currentPosition.x - this.shape.originX);\n            //console.log('circle properties : ', this.shape.shapeProperties);\n        }\n    }\n\n    setSelectionPoints(): void {\n\n        // <!-- < svg: rect attr.x = \"{{ shape.originX - shape.r }}\" attr.y = \"{{ shape.originY - shape.r }}\" attr.width = \"{{ shape.r * 2 }}\"\n        // attr.height = \"{{ shape.r * 2 }}\" style = \"stroke: red; stroke-width: 1; stroke-dasharray:5; fill:none\" /> -->\n\n    }\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2R5bmFtaWMtZm9ybS9keW5hbWljLWZvcm0uY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div>\\n    <form [formGroup]=\\\"dynamicForm\\\" novalidate (ngSubmit)=\\\"onSubmit(dynamicForm)\\\">\\n        <ng-container *ngFor=\\\"let field of fields\\\" dynamic-field [field]=\\\"field\\\" [group]=\\\"dynamicForm\\\">\\n        </ng-container>\\n        <br>\\n        <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\">Submit</button>\\n    </form>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Field } from '../../model/field.interface';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n    selector: 'dynamic-form',\n    templateUrl: './dynamic-form.component.html',\n    styleUrls: ['./dynamic-form.component.css']\n})\nexport class DynamicFormComponent implements OnInit {\n    @Input() fields: Field[] = [];\n\n    dynamicForm: FormGroup;\n\n    constructor(private fb: FormBuilder) {\n    }\n\n    ngOnInit() {\n        this.dynamicForm = this.createForm();\n    }\n\n    ngOnChanges() {\n        this.dynamicForm = this.createForm();\n    }\n\n    createForm(): FormGroup {\n        var formGroup = this.fb.group({});\n        this.fields.forEach(field => {\n            var formControl = this.fb.control(field.value, this.bindValidations(field.validations || []));\n            formGroup.addControl(field.name, formControl);\n        });\n        return formGroup;\n    }\n\n    bindValidations(validations: any) {\n        if (validations.length > 0) {\n            const validList = [];\n            validations.forEach(valid => {\n                validList.push(valid.validator);\n            });\n            return Validators.compose(validList);\n        }\n        return null;\n    }\n\n    onSubmit(theForm) {\n        console.log('form values:', theForm.value);\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2VsbGlwc2UvZWxsaXBzZS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:g *ngIf=\\\"isSelected\\\">\\n        <svg:rect attr.x=\\\"{{ shape.originX - shape.rx - 2 }}\\\" attr.y=\\\"{{ shape.originY - shape.ry - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.rx - 2 }}\\\" attr.y=\\\"{{ shape.originY - shape.ry - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX - shape.rx - 2 }}\\\" attr.y=\\\"{{ shape.originY + shape.ry - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.rx - 2 }}\\\" attr.y=\\\"{{ shape.originY + shape.ry - 2 }}\\\" width=\\\"4\\\"\\n            height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect *ngIf=\\\"isSelected\\\" attr.x=\\\"{{ shape.originX - shape.rx }}\\\" attr.y=\\\"{{ shape.originY - shape.ry }}\\\"\\n            attr.width=\\\"{{ shape.rx * 2 }}\\\" attr.height=\\\"{{ shape.ry * 2 }}\\\" style=\\\"stroke: green; stroke-width: 1; fill:none\\\" />\\n\\n    </svg:g>\\n    <svg:ellipse attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.cx=\\\"{{ shape.originX }}\\\" attr.cy=\\\"{{ shape.originY }}\\\"\\n        attr.rx=\\\"{{ shape.rx }}\\\" attr.ry=\\\"{{ shape.ry }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:ellipse>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { MousePosition, Ellipse } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-ellipse',\n    templateUrl: './ellipse.component.html',\n    styleUrls: ['./ellipse.component.css']\n})\nexport class EllipseComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        console.log('EllipseComponent constructor');\n        this.shape = new Ellipse();\n        this.shapeType = ShapeType.Ellipse;\n    }\n\n    ngOnInit() {\n        console.log('EllipseComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'fill': this.shape.shapeProperties.fillColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        console.log('EllipseComponent startDrawing at ', beginPosition);\n        if (this.shape instanceof Ellipse) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('EllipseComponent draw');\n        if (this.shape instanceof Ellipse) {\n            this.shape.rx = Math.abs(currentPosition.x - this.shape.originX);\n            this.shape.ry = Math.abs(currentPosition.y - this.shape.originY);\n            //console.log('eliipse properties : ', this.shape);\n        }\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2ZyZWVoYW5kL2ZyZWVoYW5kLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<ng-template #shapeTemplate>\\n  <svg:polyline attr.id=\\\"{{ shape.shapeProperties.name }}\\\" class=\\\"draggable\\\" attr.points=\\\"{{ svgValue }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n    <title>{{ shape.shapeProperties.name }}</title>\\n  </svg:polyline>\\n</ng-template>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {ShapeComponent} from '../shape/shape.component';\nimport {MousePosition, PolyLine} from '../../model/shape';\nimport {ShapeType} from '../../model/shape-types';\n\n@Component({\n  selector: 'app-freehand',\n  templateUrl: './freehand.component.html',\n  styleUrls: ['./freehand.component.css']\n})\n\nexport class FreehandComponent extends ShapeComponent implements OnInit {\n  // quantize to integer\n  lastX: number;\n  lastY: number;\n  svgValue: string;\n\n  constructor() {\n    super();\n    console.log('Freehand constructor');\n    this.shape = new PolyLine();\n    this.shapeType = ShapeType.PolyLine;\n    this.svgValue = '';\n  }\n\n  ngOnInit() {\n  }\n\n  setStyles() {\n    const styles = {\n      'stroke': this.shape.shapeProperties.strokeColor,\n      'fill': 'transparent',\n      'stroke-width': this.isSelected ? 5 : this.shape.shapeProperties.strokeWidth\n    };\n    return styles;\n  }\n\n  private savePosition(x: number, y: number) {\n    this.lastX = Math.round(x);\n    this.lastY = Math.round(y);\n\n    this.svgValue += x + ',' + y + ' ';\n  }\n  startDrawing(beginPosition: MousePosition): void {\n    console.log('FreehandComponent startDrawing at ', beginPosition);\n    if (this.shape instanceof PolyLine) {\n      this.savePosition(beginPosition.x, beginPosition.y);\n      if (this.shape instanceof PolyLine) {\n        this.shape.points.push(beginPosition);\n      }\n    }\n  }\n\n  draw(currentPosition: MousePosition): void {\n    // console.log('FreehandComponent draw');\n    if (this.shape instanceof PolyLine) {\n      const x = Math.round(currentPosition.x);\n      const y = Math.round(currentPosition.y);\n      if (x !== this.lastX || y !== this.lastY) {\n        const mp = new MousePosition();\n        mp.x = x;\n        mp.y = y;\n        mp.timestamp = currentPosition.timestamp;\n        this.shape.points.push(mp);\n        this.savePosition(x, y);\n        // console.log('FH: ' + currentPosition.x + ' ' + currentPosition.y + ' ' + currentPosition.timestamp);\n      }\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2dyb3VwL2dyb3VwLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<p>\\n  group works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { Shape } from '../../model/shape';\n\n@Component({\n    selector: 'app-group',\n    templateUrl: './group.component.html',\n    styleUrls: ['./group.component.css']\n})\nexport class GroupComponent extends ShapeComponent implements OnInit {\n\n    private groupObjects: Array<ShapeComponent>;\n\n    constructor() {\n        super();\n        console.log('GroupComponent constructor');\n      this.groupObjects = new Array<ShapeComponent>();\n    }\n\n    ngOnInit() {\n    }\n\n    clear() {\n      this.groupObjects = new Array();\n    }\n\n  add(shape: ShapeComponent) {\n      this.groupObjects.push(shape);\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2ltYWdlL2ltYWdlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:image attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.x=\\\"{{ shape.originX }}\\\" attr.y=\\\"{{ shape.originY }}\\\"\\n        attr.height=\\\"{{ shape.height }}\\\" attr.width=\\\"{{ shape.width }}\\\" attr.xlink:href=\\\"{{ shape.url }}\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:image>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { ImageBox, MousePosition } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-image',\n    templateUrl: './image.component.html',\n    styleUrls: ['./image.component.css']\n})\nexport class ImageComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        console.log('ImgeComponent constructor');\n        this.shape = new ImageBox();\n        this.shapeType = ShapeType.Image;\n    }\n\n    ngOnInit() {\n        console.log('ImageComponent ngOnInit');\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        if (this.shape instanceof ImageBox) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n        console.log('ImageComponent startDrawing at ', beginPosition, ', ', this.shape);\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('ImageComponent draw');\n        if (this.shape instanceof ImageBox) {\n            this.shape.width = Math.abs(currentPosition.x - this.shape.originX);\n            this.shape.height = Math.abs(currentPosition.y - this.shape.originY);\n        }\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL2xpbmUvbGluZS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:g *ngIf=\\\"isSelected\\\">\\n        <svg:rect attr.x=\\\"{{ shape.originX - 2 }}\\\" attr.y=\\\"{{ shape.originY - 2 }}\\\" width=\\\"4\\\" height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n        <svg:rect attr.x=\\\"{{ shape.x2 - 2 }}\\\" attr.y=\\\"{{ shape.y2 - 2 }}\\\" width=\\\"4\\\" height=\\\"4\\\" style=\\\"stroke: green; stroke-width: 1; fill:green\\\" />\\n    </svg:g>\\n    <svg:line attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.x1=\\\"{{ shape.originX }}\\\" attr.y1=\\\"{{ shape.originY }}\\\"\\n        attr.x2=\\\"{{ shape.x2 }}\\\" attr.y2=\\\"{{ shape.y2 }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:line>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\n\nimport { Line, MousePosition } from '../../model/shape';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-line',\n    templateUrl: './line.component.html',\n    styleUrls: ['./line.component.css']\n})\nexport class LineComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        this.shape = new Line();\n        this.shapeType = ShapeType.Line;\n        console.log('LineComponent constructor:', this);\n    }\n\n    ngOnInit() {\n        console.log('LineComponent ngOnInit');\n    }\n\n    setStyles() {\n        const styles = {\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        if (this.shape instanceof Line) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n            this.shape.x2 = beginPosition.x;\n            this.shape.y2 = beginPosition.y;\n        }\n        console.log('LineComponent startDrawing at ', beginPosition, ', ', this.shape);\n\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('LineComponent draw');\n        if (this.shape instanceof Line) {\n            this.shape.x2 = currentPosition.x;\n            this.shape.y2 = currentPosition.y;\n        }\n    }\n\n    drag(draqPosition: MousePosition): void {\n        console.log('line dragging');\n    }\n\n  setEndPosition(toX: number, toY: number) {\n    if (this.shape instanceof Line) {\n      this.shape.x2 = toX;\n      this.shape.y2 = toY;\n    }\n  }\n\n  moveHorizontallyTo(x: number) {\n    if (this.shape instanceof Line) {\n      this.shape.originX = x;\n      this.shape.x2 = x;\n    }\n  }\n  moveVerticallyTo(y: number) {\n    if (this.shape instanceof Line) {\n      this.shape.originY = y;\n      this.shape.y2 = y;\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3BhdGgvcGF0aC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:line *ngIf=\\\"hasPoints\\\" attr.x1=\\\"{{ shape.points[0].x }}\\\" attr.y1=\\\"{{ shape.points[0].y }}\\\" attr.x2=\\\"{{ lastPoint.x }}\\\"\\n        attr.y2=\\\"{{ lastPoint.y }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n    </svg:line>\\n\\n    <svg:g *ngIf=\\\"isSelected || isMoving\\\">\\n        <svg:circle attr.cx=\\\"{{ shape.points[0].x }}\\\" attr.cy=\\\"{{ shape.points[0].y }}\\\" r=\\\"4\\\" stroke=\\\"black\\\"\\n            stroke-width=\\\"1\\\" fill=\\\"green\\\">\\n        </svg:circle>\\n        <svg:circle attr.cx=\\\"{{ shape.points[1].x }}\\\" attr.cy=\\\"{{ shape.points[1].y }}\\\" r=\\\"4\\\" stroke=\\\"black\\\"\\n            stroke-width=\\\"1\\\" fill=\\\"green\\\">\\n        </svg:circle>\\n        <svg:circle attr.cx=\\\"{{ controlPoint.x }}\\\" attr.cy=\\\"{{ controlPoint.y }}\\\" r=\\\"4\\\" stroke=\\\"black\\\" stroke-width=\\\"1\\\"\\n            fill=\\\"green\\\">\\n        </svg:circle>\\n    </svg:g>\\n\\n    <svg:path attr.id=\\\"{{ shape.shapeProperties.name }}\\\" attr.d=\\\"{{ value }}\\\" class=\\\"draggable\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:path>\\n</ng-template>\"","import { ShapeComponent } from './../shape/shape.component';\nimport { Component, OnInit } from '@angular/core';\nimport { ShapeType, State } from '../../model/shape-types';\nimport { Path, MousePosition } from '../../model/shape';\n\n@Component({\n    selector: 'app-path',\n    templateUrl: './path.component.html',\n    styleUrls: ['./path.component.css']\n})\nexport class PathComponent extends ShapeComponent implements OnInit {\n\n    lastPoint: MousePosition;\n    controlPoint: MousePosition;\n\n    value: string = '';\n    hasPoints: boolean = false;\n    isMoving: boolean = false;\n\n    constructor() {\n        super();\n        this.shape = new Path();\n        this.shapeType = ShapeType.Path;\n        console.log('PathComponent constructor');\n    }\n\n    ngOnInit() {\n        console.log('PathComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'fill': 'none',\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    setPoint(point: MousePosition): void {\n        if (this.shape instanceof Path) {\n            if (this.shape.state == State.Moving) {\n                this.shape.state = State.Finished;\n                this.hasPoints = false;\n                this.isMoving = false;\n            } else {\n                this.lastPoint = Object.assign({}, point);\n                this.shape.points.push(this.lastPoint);\n                console.log('points = ', this.shape.points, ', size = ', this.shape.points.length, ', %2 = ', this.shape.points.length % 2);\n                if (this.shape.points.length % 2 == 0) {\n                    this.calculateControlPoint(this.shape.points[0], this.shape.points[1]);\n                    this.value = \"M\" + this.shape.points[0].x + \" \" + this.shape.points[0].y + \" Q \" + this.controlPoint.x + \" \" + this.controlPoint.y + \" \" + this.shape.points[1].x + \" \" + this.shape.points[1].y;\n                    this.hasPoints = false;\n                    this.shape.state = State.Moving;\n                    this.isMoving = true;\n                }\n            }\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        if (this.shape instanceof Path) {\n            if (this.shape.state == State.Moving) {\n                this.controlPoint = Object.assign({}, currentPosition);\n                this.value = \"M\" + this.shape.points[0].x + \" \" + this.shape.points[0].y + \" Q \" + this.controlPoint.x + \" \" + this.controlPoint.y + \" \" + this.shape.points[1].x + \" \" + this.shape.points[1].y;\n            } else if (this.shape.state != State.Finished) {\n                this.lastPoint = Object.assign({}, currentPosition);\n                this.hasPoints = true;\n            }\n        }\n    }\n\n    endDrawing(): void {\n        if (this.shape instanceof Path) {\n            this.hasPoints = false;\n            this.shape.state = State.None;\n        }\n    }\n\n\n    private calculateControlPoint(p1: MousePosition, p2: MousePosition): void {\n        var mpx = (p2.x + p1.x) * 0.5;\n        var mpy = (p2.y + p1.y) * 0.5;\n\n        var theta = Math.atan2(p2.y - p1.y, p2.x - p1.x) - Math.PI / 2;\n        var offset = 50;\n\n        var c1x = mpx + offset * Math.cos(theta);\n        var c1y = mpy + offset * Math.sin(theta);\n\n        this.controlPoint = {\n            x: c1x,\n            y: c1y,\n            timestamp: 0\n        }\n    }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3BvbHlsaW5lL3BvbHlsaW5lLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:line *ngIf=\\\"hasPoints\\\" attr.x1=\\\"{{ lastPoint.x }}\\\" attr.y1=\\\"{{ lastPoint.y }}\\\" attr.x2=\\\"{{ currentPoint.x }}\\\"\\n        attr.y2=\\\"{{ currentPoint.y }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n    </svg:line>\\n\\n    <svg:polyline attr.id=\\\"{{ shape.shapeProperties.name }}\\\" class=\\\"draggable\\\" attr.points=\\\"{{ value }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:polyline>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { PolyLine, MousePosition } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-polyline',\n    templateUrl: './polyline.component.html',\n    styleUrls: ['./polyline.component.css']\n})\nexport class PolyLineComponent extends ShapeComponent implements OnInit {\n\n    value: string = '';\n    lastPoint: MousePosition;\n    currentPoint: MousePosition;\n    hasPoints: boolean = false;\n\n    constructor() {\n        super();\n        this.shape = new PolyLine();\n        this.shapeType = ShapeType.PolyLine;\n        console.log('PolyLineComponent constructor:', this);\n\n    }\n\n    ngOnInit() {\n        console.log('PolyLineComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'fill': 'none',\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    setPoint(point: MousePosition): void {\n        if (this.shape instanceof PolyLine) {\n            this.lastPoint = Object.assign({}, point);\n            this.shape.points.push(this.lastPoint);\n            console.log('points = ', this.shape.points);\n            this.value += point.x + \",\" + point.y + \" \";\n            console.log('PolyLineComponent value ', this.value);\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        if (this.shape instanceof PolyLine) {\n            this.currentPoint = Object.assign({}, currentPosition);\n            this.hasPoints = true;\n            console.log('PolyLineComponent : draw() last= ', this.lastPoint, ', current=', this.currentPoint, ', points=', this.shape.points);\n        }\n    }\n\n    endDrawing(): void {\n        this.currentPoint = this.lastPoint;\n    }\n}\n","module.exports = \"/* drizo */\\n.svgHandle {\\n  stroke-width: 1;\\n}\\n.svgTopLeftHandle {\\n  cursor: nw-resize;\\n}\\n.svgTopRightHandle {\\n  cursor: ne-resize;\\n}\\n.svgBottomLeftHandle {\\n  cursor: sw-resize;\\n}\\n.svgBottomRightHandle {\\n  cursor: se-resize;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnY2FudmFzL2NvbXBvbmVudHMvcmVjdGFuZ2xlL3JlY3RhbmdsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQVU7QUFDVjtFQUNFLGVBQWU7QUFDakI7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUVBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3JlY3RhbmdsZS9yZWN0YW5nbGUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGRyaXpvICovXG4uc3ZnSGFuZGxlIHtcbiAgc3Ryb2tlLXdpZHRoOiAxO1xufVxuXG4uc3ZnVG9wTGVmdEhhbmRsZSB7XG4gIGN1cnNvcjogbnctcmVzaXplO1xufVxuXG4uc3ZnVG9wUmlnaHRIYW5kbGUge1xuICBjdXJzb3I6IG5lLXJlc2l6ZTtcbn1cblxuLnN2Z0JvdHRvbUxlZnRIYW5kbGUge1xuICBjdXJzb3I6IHN3LXJlc2l6ZTtcbn1cblxuLnN2Z0JvdHRvbVJpZ2h0SGFuZGxlIHtcbiAgY3Vyc29yOiBzZS1yZXNpemU7XG59XG5cbiJdfQ== */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:rect attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.x=\\\"{{ shape.originX }}\\\" attr.y=\\\"{{ shape.originY }}\\\"\\n        attr.width=\\\"{{ shape.width }}\\\" attr.height=\\\"{{ shape.height }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:rect>\\n    <svg:text attr.x=\\\"{{shape.originX+3}}\\\" attr.y=\\\"{{ shape.originY+8 }}\\\">{{ label }}</svg:text>\\n    <svg:g *ngIf=\\\"isEditing\\\">\\n        <svg:rect attr.x=\\\"{{ shape.originX - handlesRadius }}\\\" attr.y=\\\"{{ shape.originY - handlesRadius }}\\\"\\n                  class=\\\"svgHandle svgTopLeftHandle\\\"\\n                  attr.width=\\\"{{handlesRadius*2}}\\\" attr.height=\\\"{{handlesRadius*2}}\\\" attr.fill=\\\"{{handlesColor}}\\\" attr.stroke=\\\"{{handlesColor}}\\\"\\n                  (mousedown)=\\\"onHandleMouseDown($event, 'svgTopLeftHandle')\\\"\\n        />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.width - handlesRadius }}\\\" attr.y=\\\"{{ shape.originY - handlesRadius }}\\\"\\n                  class=\\\"svgHandle svgTopRightHandle\\\"\\n                  attr.width=\\\"{{handlesRadius*2}}\\\" attr.height=\\\"{{handlesRadius*2}}\\\" attr.fill=\\\"{{handlesColor}}\\\" attr.stroke=\\\"{{handlesColor}}\\\"\\n                  (mousedown)=\\\"onHandleMouseDown($event, 'svgTopRightHandle')\\\"\\n        />\\n        <svg:rect attr.x=\\\"{{ shape.originX - handlesRadius }}\\\" attr.y=\\\"{{ shape.originY + shape.height - handlesRadius }}\\\"\\n                  class=\\\"svgHandle svgBottomLeftHandle\\\"\\n                  attr.width=\\\"{{handlesRadius*2}}\\\" attr.height=\\\"{{handlesRadius*2}}\\\" attr.fill=\\\"{{handlesColor}}\\\" attr.stroke=\\\"{{handlesColor}}\\\"\\n                  (mousedown)=\\\"onHandleMouseDown($event, 'svgBottomLeftHandle')\\\"\\n        />\\n        <svg:rect attr.x=\\\"{{ shape.originX + shape.width - handlesRadius }}\\\" attr.y=\\\"{{ shape.originY + shape.height - handlesRadius }}\\\"\\n                  class=\\\"svgHandle svgBottomRightHandle\\\"\\n                  attr.width=\\\"{{handlesRadius*2}}\\\" attr.height=\\\"{{handlesRadius*2}}\\\" attr.fill=\\\"{{handlesColor}}\\\" attr.stroke=\\\"{{handlesColor}}\\\"\\n                  (mousedown)=\\\"onHandleMouseDown($event, 'svgBottomRightHandle')\\\"\\n        />\\n    </svg:g>\\n</ng-template>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { ShapeType } from '../../model/shape-types';\nimport { MousePosition, Rectangle } from '../../model/shape';\n\n@Component({\n    selector: 'app-rectangle',\n    templateUrl: './rectangle.component.html',\n    styleUrls: ['./rectangle.component.css']\n})\nexport class RectangleComponent extends ShapeComponent implements OnInit {\n  label = '';\n\n  constructor() {\n        super();\n        console.log('RectangleComponent constructor');\n        this.shape = new Rectangle();\n        this.shapeType = ShapeType.Rectangle;\n    }\n\n    ngOnInit() {\n        console.log('RectangleComponent ngOnInit');\n    }\n\n    setStyles() {\n        const styles = {\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'fill': this.shape.shapeProperties.fillColor,\n            'stroke-width': this.isSelected ? 5 : this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        console.log('RectanleComponent startDrawing at ', beginPosition);\n        if (this.shape instanceof Rectangle) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('RectangleComponent draw');\n        if (this.shape instanceof Rectangle) {\n            this.shape.width = Math.abs(currentPosition.x - this.shape.originX);\n            this.shape.height = Math.abs(currentPosition.y - this.shape.originY);\n        }\n    }\n\n    setDimensions(width: number, height: number) {\n      if (this.shape instanceof Rectangle) {\n        this.shape.width = width;\n        this.shape.height = height;\n      }\n    }\n\n  // drizo don't use mouseUp or move because it usually looses focus no movement\n  // - it is handled\n\n  onHandleMouseMove(x: number, y: number): boolean {\n      if (this.handleSelected) {\n        switch (this.handleSelected) {\n          case 'svgTopLeftHandle':\n            this.resizeNW(x, y);\n            break;\n          case 'svgTopRightHandle':\n            this.resizeNE(x, y);\n            break;\n          case 'svgBottomLeftHandle':\n            this.resizeSW(x, y);\n            break;\n          case 'svgBottomRightHandle':\n            this.resizeSE(x, y);\n            break;\n        }\n        return true;\n      } else {\n        return false;\n      }\n  }\n\n  private resizeNW(x: number, y: number) {\n    if (this.shape instanceof Rectangle) {\n      const diffX = this.shape.originX - x;\n      const diffY = this.shape.originY - y;\n      const newWidth = this.shape.width + diffX;\n      const newHeight = this.shape.height + diffY;\n\n      if (newWidth > 0 && newHeight > 0) {\n        this.shape.originX = x;\n        this.shape.originY = y;\n        this.shape.width = newWidth;\n        this.shape.height = newHeight;\n      }\n    }\n  }\n\n  private resizeNE(x: number, y: number) {\n    if (this.shape instanceof Rectangle) {\n      const diffX = x - (this.shape.originX + this.shape.width);\n      const diffY = this.shape.originY - y;\n      const newWidth = this.shape.width + diffX;\n      const newHeight = this.shape.height + diffY;\n\n      if (newWidth > 0 && newHeight > 0) {\n        this.shape.width = newWidth;\n        this.shape.height = newHeight;\n        this.shape.originY = y;\n      }\n    }\n  }\n\n  private resizeSW(x: number, y: number) {\n    if (this.shape instanceof Rectangle) {\n      const diffX = this.shape.originX - x;\n      const diffY = y - (this.shape.originY + this.shape.height);\n      const newWidth = this.shape.width + diffX;\n      const newHeight = this.shape.height + diffY;\n\n      if (newWidth > 0 && newHeight > 0) {\n        this.shape.originX = x;\n        this.shape.width = newWidth;\n        this.shape.height = newHeight;\n      }\n    }\n  }\n\n  private resizeSE(x: number, y: number) {\n    if (this.shape instanceof Rectangle) {\n      const diffX = x - (this.shape.originX + this.shape.width);\n      const diffY = y - (this.shape.originY + this.shape.height);\n      const newWidth = this.shape.width + diffX;\n      const newHeight = this.shape.height + diffY;\n\n      if (newWidth > 0 && newHeight > 0) {\n        this.shape.width = newWidth;\n        this.shape.height = newHeight;\n      }\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3NoYXBlL3NoYXBlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<p>\\n    Shape works!\\n</p>>\"","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\nimport { Shape, MousePosition } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\nimport {isDefined} from '@ng-bootstrap/ng-bootstrap/util/util';\n\n@Component({\n    selector: 'app-shape',\n    templateUrl: './shape.component.html',\n    styleUrls: ['./shape.component.css']\n})\nexport class ShapeComponent implements OnInit {\n    @ViewChild('shapeTemplate') shapeTemplate: TemplateRef<any>;\n\n    shape: Shape;\n    shapeType: ShapeType;\n    offset: MousePosition;\n    isSelected = false;\n    isEditing = false;\n    selectionPoints: MousePosition[] = [];\n\n    handleSelected: string; // drizo\n    handlesColor = 'green';\n    handlesRadius = 4;\n    modelObjectID: number;\n    modelObjectType: string;\n\n    constructor() {\n        console.log('ShapeComponent constructor');\n    }\n\n    ngOnInit() {\n        console.log('ShapeComponent ngOnInit');\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        console.log('ShapeComponent: startDrawing at ', beginPosition);\n    }\n\n    endDrawing(): void {\n        console.log('ShapeComponent: endDrawing()');\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('ShapeComponent: draw at ', currentPosition);\n    }\n\n    setPoint(point: MousePosition): void {\n        console.log('ShapeComponent: setPoint at ', point);\n    }\n\n    drag(draqPosition: MousePosition): void {\n        console.log(this.shape.shapeProperties.name + ' drag at ', draqPosition, ', offset : ', this.offset);\n\n        if (this.offset === undefined) {\n            this.offset = Object.assign({}, draqPosition);\n            this.offset.x -= this.shape.originX;\n            this.offset.y -= this.shape.originY;\n        }\n        this.shape.originX = (draqPosition.x - this.offset.x);\n        this.shape.originY = (draqPosition.y - this.offset.y);\n    }\n\n  // drizo don't use mouseUp or move because it usually looses focus no movement\n  // - it is handled\n\n  onHandleMouseDown($event, handle: string) {\n    console.log('Handle mouse down on ' + handle);\n    this.handleSelected = handle;\n    $event.stopPropagation();\n  }\n\n\n  onHandleMouseMove(x: number, y: number): boolean {\n      return false;\n  }\n\n  deselectHandle(): boolean {\n    if (this.handleSelected) {\n      this.handleSelected = null;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isHandleSelected() {\n    return this.handleSelected != null;\n  }\n\n  setPosition(x: number, y: number) {\n    this.shape.originX = x;\n    this.shape.originY = y;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3NxdWFyZS9zcXVhcmUuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:rect attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.x=\\\"{{ shape.originX }}\\\" attr.y=\\\"{{ shape.originY }}\\\"\\n        attr.width=\\\"{{ shape.width }}\\\" attr.height=\\\"{{ shape.width }}\\\" [ngStyle]=\\\"setStyles()\\\">\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:rect>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { MousePosition, Square } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-square',\n    templateUrl: './square.component.html',\n    styleUrls: ['./square.component.css']\n})\nexport class SquareComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        console.log('SquareComponent constructor');\n        this.shape = new Square();\n        this.shapeType = ShapeType.Square;\n    }\n\n    ngOnInit() {\n        console.log('SquareComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'stroke': this.shape.shapeProperties.strokeColor,\n            'fill': this.shape.shapeProperties.fillColor,\n            'stroke-width': this.shape.shapeProperties.strokeWidth\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        console.log('SquareComponent startDrawing at ', beginPosition);\n        if (this.shape instanceof Square) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n    }\n\n    draw(currentPosition: MousePosition): void {\n        console.log('SquareComponent draw');\n        if (this.shape instanceof Square) {\n            this.shape.width = Math.abs(currentPosition.x - this.shape.originX);\n        }\n    }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3N2Z2NhbnZhcy9zdmdjYW52YXMuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n     (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\" (mousemove)=\\\"onMouseMove($event)\\\"\\n    [attr.width.px]=\\\"width\\\" [attr.height.px]=\\\"height\\\">\\n  <ng-container *ngFor=\\\"let shape of getShapes(); trackBy: trackByShapeFn\\\">\\n    <ng-template [appDynamicSVG]=\\\"shape\\\"></ng-template>\\n  </ng-container>\\n</svg>\\n\"","import {\n  Component, ComponentFactoryResolver, ComponentRef,\n  ContentChild,\n  EventEmitter, Injector, Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewContainerRef\n} from '@angular/core';\nimport {MousePosition, ShapeProperties} from '../../model/shape';\nimport {ShapeComponent} from '../shape/shape.component';\nimport {LineComponent} from '../line/line.component';\nimport {CircleComponent} from '../circle/circle.component';\nimport {RectangleComponent} from '../rectangle/rectangle.component';\nimport {SquareComponent} from '../square/square.component';\nimport {EllipseComponent} from '../ellipse/ellipse.component';\nimport {TextComponent} from '../text/text.component';\nimport {ImageComponent} from '../image/image.component';\nimport {PolyLineComponent} from '../polyline/polyline.component';\nimport {PathComponent} from '../path/path.component';\nimport {NGXLogger} from 'ngx-logger';\nimport {FreehandComponent} from '../freehand/freehand.component';\n\nexport enum SVGCanvasState {\n  eIdle,   eSelecting, eDrawing, eEditing, eMoving\n}\n\nexport class SVGMousePositionEvent {\n  private _svgPosition: any;\n  private _mouseEvent: MouseEvent;\n  get svgPosition(): any {\n    return this._svgPosition;\n  }\n\n  get mouseEvent(): MouseEvent {\n    return this._mouseEvent;\n  }\n\n\n  set svgPosition(value: any) {\n    this._svgPosition = value;\n  }\n\n  set mouseEvent(value: MouseEvent) {\n    this._mouseEvent = value;\n  }\n}\n\n@Component({\n  selector: 'app-svgcanvas',\n  templateUrl: './svgcanvas.component.html',\n  styleUrls: ['./svgcanvas.component.css']\n})\n\nexport class SVGCanvasComponent implements OnInit {\n  svg: any;\n  @Input() height: number;\n  @Input() width: number;\n\n  @ContentChild(TemplateRef) shapeTemplate: TemplateRef<any>;\n\n  currentPosition: MousePosition = new MousePosition();\n  state: SVGCanvasState = SVGCanvasState.eIdle;\n  selectedComponent: ShapeComponent;\n\n  @Output() svgMouseEvent = new EventEmitter<SVGMousePositionEvent>(); // only emitted on eIdle state\n  private svgMouseEventContent = new SVGMousePositionEvent(); // avoid creating too many objects\n\n  @Output() svgShapeChanged = new EventEmitter<ShapeComponent>();\n\n  @Output() svgShapeSelected = new EventEmitter<ShapeComponent>();\n\n  @Output() svgShapeDeselected = new EventEmitter<ShapeComponent>();\n\n  @Output() svgShapeCreated = new EventEmitter<ShapeComponent>();\n\n  private shapeTypeToCreate: string;\n\n  private shapesComponents: Array<ShapeComponent>;\n  private defaultFillColor = 'gray';\n  private defaultStrokeWidth = 1;\n  private defaultStrokeColor = 'black';\n\n  constructor(private viewContainerRef: ViewContainerRef,\n                private componentFactoryResolver: ComponentFactoryResolver,\n                private logger: NGXLogger) {\n    this.shapesComponents = new Array<ShapeComponent>();\n  }\n\n  ngOnInit(): void {\n    this.svg = document.querySelector('svg');\n  }\n\n  getShapes(): ShapeComponent[] {\n    return this.shapesComponents;\n  }\n\n  public changeState(state: SVGCanvasState) {\n    this.state = state;\n  }\n\n  private changeMousePosition(event: MouseEvent) {\n    const CTM = this.svg.getScreenCTM();\n    this.currentPosition.x = (event.clientX - CTM.e) / CTM.a;\n    this.currentPosition.y = (event.clientY - CTM.f) / CTM.d;\n    this.currentPosition.timestamp = event.timeStamp;\n  }\n\n\n  private buildComponent(shapeType: string): any {\n    this.logger.debug('buildComponent for :', shapeType);\n    switch (shapeType) {\n      case 'Line':\n        return LineComponent;\n      case 'Circle':\n        return CircleComponent;\n      case 'Rectangle':\n        return RectangleComponent;\n      case 'Square':\n        return SquareComponent;\n      case 'Ellipse':\n        return EllipseComponent;\n      case 'TextBox':\n        return TextComponent;\n      case 'Image':\n        return ImageComponent;\n      case 'Freehand':\n        return FreehandComponent;\n      case 'PolyLine':\n        return PolyLineComponent;\n      case 'Path':\n        return PathComponent;\n    }\n    return null;\n  }\n\n\n  public selectShape(shapeType$: any) {\n    this.logger.debug('SVGCanvas selecting shape: ' + shapeType$);\n    this.shapeTypeToCreate = shapeType$;\n    this.state = SVGCanvasState.eDrawing;\n  }\n\n\n  onMouseDown(event): void {\n    this.logger.debug('SVGCanvas mouse down');\n    this.changeMousePosition(event);\n\n    if (this.selectedComponent) {\n      this.selectedComponent.isSelected = false;\n      this.selectedComponent.isEditing = false;\n    }\n\n    switch (this.state) {\n      case SVGCanvasState.eIdle:\n        this.svgMouseEventContent.svgPosition = this.currentPosition;\n        this.svgMouseEventContent.mouseEvent = event;\n        this.svgMouseEvent.emit(this.svgMouseEventContent);\n        break;\n      case SVGCanvasState.eDrawing:\n        this.createShape();\n        break;\n      case SVGCanvasState.eSelecting:\n      case SVGCanvasState.eEditing:\n        this.deselect();\n        this.selectedComponent = this.findShapeComponent(event.target.id);\n        if (this.selectedComponent) {\n          this.selectedComponent.isSelected = true;\n          this.svgShapeSelected.emit(this.selectedComponent);\n          if (this.state === SVGCanvasState.eEditing) {\n            this.state = SVGCanvasState.eMoving;\n            this.selectedComponent.isEditing = true;\n          }\n        } else {\n          this.svgShapeSelected.emit(null); // unselect\n          // TODO - create selection rectangle\n        }\n        break;\n    }\n  }\n\n  private createComponent(shapeType: string): ShapeComponent {\n    const componentClass = this.buildComponent(shapeType);\n    const injector = Injector.create([], this.viewContainerRef.parentInjector);\n    const factory = this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    const componentRef = factory.create(injector);\n    const result: ShapeComponent = <ShapeComponent> componentRef.instance;\n    this.logger.debug('Created ' + this.selectedComponent + ' of class ' + componentClass);\n    return result;\n  }\n\n  private createShape() {\n    this.selectedComponent = this.createComponent(this.shapeTypeToCreate);\n    this.shapesComponents.push(this.selectedComponent);\n    this.selectedComponent.startDrawing(this.currentPosition);\n  }\n\n  private deselect() {\n    if (this.selectedComponent) {\n      this.selectedComponent.isSelected = false;\n      this.svgShapeDeselected.emit(this.selectedComponent);\n      this.selectedComponent = null;\n    }\n  }\n\n  onMouseMove(event): void {\n    this.changeMousePosition(event);\n\n    switch (this.state) {\n      case SVGCanvasState.eIdle:\n        this.svgMouseEventContent.svgPosition = this.currentPosition;\n        this.svgMouseEventContent.mouseEvent = event;\n        this.svgMouseEvent.emit(this.svgMouseEventContent);\n        break;\n      case SVGCanvasState.eDrawing:\n        if (this.selectedComponent) {\n          this.selectedComponent.draw(this.currentPosition);\n        }\n        break;\n      case SVGCanvasState.eEditing:\n        if (this.selectedComponent && this.selectedComponent.isHandleSelected()) {\n            this.selectedComponent.onHandleMouseMove(this.currentPosition.x, this.currentPosition.y);\n        }\n        break;\n      case SVGCanvasState.eMoving:\n        if (this.selectedComponent) {\n            this.selectedComponent.drag(this.currentPosition);\n        }\n        break;\n    }\n  }\n\n  onMouseUp($event): void {\n    this.logger.debug('SVGCanvas mouse up');\n    this.changeMousePosition($event);\n    switch (this.state) {\n      case SVGCanvasState.eIdle:\n        this.svgMouseEventContent.svgPosition = this.currentPosition;\n        this.svgMouseEventContent.mouseEvent = $event;\n        this.svgMouseEvent.emit(this.svgMouseEventContent);\n        $event.stopPropagation();\n        break;\n      case SVGCanvasState.eDrawing:\n        this.svgShapeCreated.emit(this.selectedComponent);\n        this.selectedComponent = null;\n        $event.stopPropagation();\n        break;\n      case SVGCanvasState.eMoving:\n        this.state = SVGCanvasState.eEditing;\n        $event.stopPropagation();\n        // this.deselect();\n        break;\n      case SVGCanvasState.eEditing:\n        if (this.selectedComponent && this.selectedComponent.isHandleSelected()) {\n          this.selectedComponent.deselectHandle();\n          this.svgShapeChanged.emit(this.selectedComponent);\n          $event.stopPropagation();\n        }\n        break;\n    }\n  }\n\n  public clear() {\n    this.shapesComponents = new Array<ShapeComponent>();\n  }\n\n  findShapeComponent(name: string): ShapeComponent {\n    console.log('find name : ', name);\n    /*for (let i = 0; i < this.shapesComponents.length; i++) {\n      console.log('FIND JSON : ', JSON.stringify(this.shapesComponents[i].shape));\n    }*/\n\n    return this.shapesComponents.find(x => x.shape.shapeProperties.name === name);\n  }\n\n  drawRectangle(x: number, y: number, width: number, height: number, label: string): ShapeComponent {\n    const rect = this.createComponent('Rectangle');\n    if (rect instanceof RectangleComponent) {\n      rect.setPosition(x, y);\n      rect.setDimensions(width, height);\n      rect.label = label;\n    }\n    this.assignDefaultProperties(rect);\n    this.shapesComponents.push(rect);\n    return rect;\n  }\n\n  drawFreeHand(positions: Array<MousePosition>): FreehandComponent {\n    const fh = this.createComponent('Freehand');\n    if (fh instanceof FreehandComponent) {\n      let first = true;\n      positions.forEach(position => {\n        if (first) {\n          fh.startDrawing(position);\n          first = false;\n        } else {\n          fh.draw(position);\n        }\n      });\n      this.assignDefaultProperties(fh);\n      this.shapesComponents.push(fh);\n      return fh;\n    } else {\n      throw new Error('Should be a freehand component');\n    }\n  }\n\n\n  drawLine(fromX: number, fromY: number, toX: number, toY: number): ShapeComponent {\n    const line = this.createComponent('Line');\n    if (line instanceof LineComponent) {\n      line.setPosition(fromX, fromY);\n      line.setEndPosition(toX, toY);\n    }\n    this.assignDefaultProperties(line);\n    this.shapesComponents.push(line);\n    return line;\n  }\n\n  private assignDefaultProperties(component: ShapeComponent) {\n    component.shape.shapeProperties.fillColor = this.defaultFillColor;\n    component.shape.shapeProperties.strokeColor = this.defaultStrokeColor;\n    component.shape.shapeProperties.strokeWidth = this.defaultStrokeWidth;\n  }\n\n  remove(shapeComponent: ShapeComponent) {\n    const index: number = this.shapesComponents.indexOf(shapeComponent);\n    if (index !== -1) {\n      this.shapesComponents.splice(index, 1);\n    }\n  }\n\n  selectShapeProperties(fillColor: string, strokeWidth: number, strokeColor: string) {\n    this.defaultFillColor = fillColor;\n    this.defaultStrokeWidth = strokeWidth;\n    this.defaultStrokeColor = strokeColor;\n  }\n\n  trackByShapeFn(index, item: ShapeComponent) {\n    return index; // TODO ¿mejor un ID?\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb21wb25lbnRzL3RleHQvdGV4dC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<ng-template #shapeTemplate>\\n    <svg:text attr.id=\\\"{{shape.shapeProperties.name}}\\\" class=\\\"draggable\\\" attr.x=\\\"{{ shape.originX }}\\\" attr.y=\\\"{{ shape.originY }}\\\"\\n        [ngStyle]=\\\"setStyles()\\\">{{ shape.value }}\\n        <title>{{ shape.shapeProperties.name }}</title>\\n    </svg:text>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { ShapeComponent } from '../shape/shape.component';\nimport { MousePosition, TextBox } from '../../model/shape';\nimport { ShapeType } from '../../model/shape-types';\n\n@Component({\n    selector: 'app-text',\n    templateUrl: './text.component.html',\n    styleUrls: ['./text.component.css']\n})\nexport class TextComponent extends ShapeComponent implements OnInit {\n\n    constructor() {\n        super();\n        console.log('TextComponent constructor');\n        this.shape = new TextBox();\n        this.shapeType = ShapeType.TextBox;\n    }\n\n    ngOnInit() {\n        console.log('TextComponent ngOnInit');\n    }\n\n    setStyles() {\n        let styles = {\n            'fill': this.shape.shapeProperties.strokeColor\n        };\n        return styles;\n    }\n\n    startDrawing(beginPosition: MousePosition): void {\n        if (this.shape instanceof TextBox) {\n            this.shape.originX = beginPosition.x;\n            this.shape.originY = beginPosition.y;\n        }\n        console.log('TextComponent startDrawing at ', beginPosition, ', ', this.shape);\n\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb250cm9sL2NoZWNrYm94L2NoZWNrYm94LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"form-check\\\" [formGroup]=\\\"group\\\">\\n    <input formControlName=\\\"{{field.name}}\\\" type=\\\"checkbox\\\" class=\\\"form-check-input mr-2\\\" />\\n    <label>{{field.label}}</label>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {Field} from '../../model/field.interface';\n\n@Component({\n    selector: 'app-checkbox',\n    templateUrl: './checkbox.component.html',\n    styleUrls: ['./checkbox.component.css']\n})\nexport class CheckboxComponent implements OnInit {\n    field: Field;\n    group: FormGroup;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb250cm9sL2NvbG9yLXBpY2tlci9jb2xvci1waWNrZXIuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div [formGroup]=\\\"group\\\">\\n    <input class=\\\"form-control color-text\\\" formControlName=\\\"{{field.name}}\\\" value=\\\"{{field.value}}\\\" [(colorPicker)]=\\\"field.value\\\"\\n        [(ngModel)]=\\\"field.value\\\" [cpOutputFormat]=\\\"'hex'\\\" [cpOKButton]=\\\"true\\\" [cpCancelButton]=\\\"true\\\"\\n        [style.background]=\\\"field.value\\\">\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {Field} from '../../model/field.interface';\n\n@Component({\n    selector: 'app-color-picker',\n    templateUrl: './color-picker.component.html',\n    styleUrls: ['./color-picker.component.css']\n})\nexport class ColorPickerComponent implements OnInit {\n    field: Field;\n    group: FormGroup;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb250cm9sL2lucHV0L2lucHV0LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"form-group\\\" [formGroup]=\\\"group\\\">\\n    <label>{{field.label}}</label>\\n    <input formControlName=\\\"{{field.name}}\\\" type=\\\"{{field.inputType}}\\\" class=\\\"form-control\\\" />\\n    <ng-container *ngFor=\\\"let validation of field.validations;\\\">\\n        <div class=\\\"text-danger mt-2\\\" *ngIf=\\\"group.get(field.name).invalid && (group.get(field.name).touched || group.get(field.name).dirty)\\\">{{validation.message}}</div>\\n    </ng-container>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {Field} from '../../model/field.interface';\n\n@Component({\n    selector: 'app-input',\n    templateUrl: './input.component.html',\n    styleUrls: ['./input.component.css']\n})\nexport class InputComponent implements OnInit {\n    field: Field;\n    group: FormGroup;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb250cm9sL3JhZGlvYnV0dG9uL3JhZGlvYnV0dG9uLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"form-group\\\" [formGroup]=\\\"group\\\">\\n    <ng-container *ngFor=\\\"let item of field.options\\\">\\n        <label class=\\\"radio-inline mr-2\\\"><input type=\\\"radio\\\" [formControlName]=\\\"field.name\\\" [value]=\\\"item\\\"> {{item}}</label>\\n    </ng-container>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {Field} from '../../model/field.interface';\n\n@Component({\n    selector: 'app-radiobutton',\n    templateUrl: './radiobutton.component.html',\n    styleUrls: ['./radiobutton.component.css']\n})\nexport class RadiobuttonComponent implements OnInit {\n    field: Field;\n    group: FormGroup;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Z2NhbnZhcy9jb250cm9sL3NlbGVjdC9zZWxlY3QuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div [formGroup]=\\\"group\\\">\\n    <label>{{field.label}}</label>\\n    <select class=\\\"form-control\\\" formControlName=\\\"{{field.name}}\\\">\\n        <option [value]=\\\"item\\\" *ngFor=\\\"let item of field.options\\\"> {{item}}</option>\\n    </select>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {Field} from '../../model/field.interface';\n\n@Component({\n    selector: 'app-select',\n    templateUrl: './select.component.html',\n    styleUrls: ['./select.component.css']\n})\nexport class SelectComponent implements OnInit {\n    field: Field;\n    group: FormGroup;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","import { Directive, Input, ComponentFactoryResolver, ViewContainerRef } from '@angular/core';\n\nimport { InputComponent } from '../control/input/input.component';\nimport { SelectComponent } from '../control/select/select.component';\nimport { RadiobuttonComponent } from '../control/radiobutton/radiobutton.component';\nimport { CheckboxComponent } from '../control/checkbox/checkbox.component';\nimport { Field } from '../model/field.interface';\nimport { FormGroup } from '@angular/forms';\n\nconst controlMapper = {\n    input: InputComponent,\n    select: SelectComponent,\n    radiobutton: RadiobuttonComponent,\n    checkbox: CheckboxComponent\n};\n\n@Directive({\n    selector: '[dynamic-field]'\n})\nexport class DynamicFieldDirective {\n    @Input() field: Field;\n    @Input() group: FormGroup;\n\n    componentRef: any;\n\n    constructor(private resolver: ComponentFactoryResolver, private viewContainer: ViewContainerRef) {\n    }\n\n    ngOnInit() {\n        const factory = this.resolver.resolveComponentFactory(controlMapper[this.field.type]);\n        this.componentRef = this.viewContainer.createComponent(factory);\n        this.componentRef.instance.field = this.field;\n        this.componentRef.instance.group = this.group;\n    }\n\n\n}\n","import {Directive, Input, ViewContainerRef, OnInit, OnDestroy} from '@angular/core';\nimport { ShapeComponent } from '../components/shape/shape.component';\n\n@Directive({\n    selector: '[appDynamicSVG]'\n})\n\nexport class DynamicSvgDirective implements OnInit, OnDestroy {\n\n    @Input() appDynamicSVG: ShapeComponent;\n\n    constructor(private viewContainerRef: ViewContainerRef) {\n    }\n\n    ngOnInit() {\n        /* console.log('DynamicSvgDirective ngOnInit() - component : ',\n          this.appDynamicSVG + ' and viewContainerRef=' + this.viewContainerRef\n        + ' and shapeComponent=' + this.appDynamicSVG); */\n\n        // const shapeComponent: ShapeComponent = this.shapeService.getShapeComponent();\n        // this.viewContainerRef.createEmbeddedView(shapeComponent.shapeTemplate);\n        if (this.viewContainerRef) {\n          if (this.appDynamicSVG) {\n            if (this.appDynamicSVG.shapeTemplate) {\n              this.viewContainerRef.createEmbeddedView(this.appDynamicSVG.shapeTemplate);\n            } else {\n              throw new Error('this.appDynamicSVG.shapeTemplate is null in DynamicSvgDirective (is there a ShapeComponent not created by the ShapeCanvas?');\n            }\n          } else {\n            throw new Error('this.appDynamicSVG is null in DynamicSvgDirective');\n          }\n        } else {\n          throw new Error('this.viewContainerRef is null in DynamicSvgDirective');\n        }\n    }\n\n    ngOnDestroy() {\n        console.log('DynamicSvgDirective ngOnDestroy()');\n        this.viewContainerRef.clear();\n    }\n}\n\n","export enum ShapeType {\n    NoShape,\n    Line,\n    Circle,\n    Ellipse,\n    Rectangle,\n    TextBox,\n    Path,\n    PolyLine,\n    Image,\n    Square\n}\n\nexport enum ToolType {\n    Pointer,\n    Move,\n    Rotate,\n    SelectArea,\n    Flipvertical,\n    Fliphorizontal\n}\n\nexport enum State {\n    None,\n    Moving,\n    Finished\n\n}","import { ShapeType, State } from './shape-types';\n\n/*\n * The MousePosition object\n */\nexport class MousePosition {\n    x: number;\n    y: number;\n    timestamp: number; // time when mouse position is created\n\n    constructor() {\n        this.x = 0;\n        this.y = 0;\n        this.timestamp = 0;\n    }\n}\n\n/*\n * The ShapeProperties object\n */\nexport class ShapeProperties {\n    fillColor: string;\n    strokeColor: string;\n    strokeWidth: number;\n    fill: boolean;\n    stroke: boolean;\n    shapeType: ShapeType;\n    name: string;\n    visible: boolean;\n\n    constructor() {\n        this.fill = true;\n        this.fillColor = 'transparent';\n        this.stroke = true;\n        this.strokeColor = 'red';\n        this.strokeWidth = 3;\n        this.name = 'unknown';\n        this.visible = true;\n    }\n}\n\n/*\n * Interface for the shapes \n */\nexport interface BaseShape {\n}\n\n/*\n * The Shape object\n */\nexport class Shape implements BaseShape {\n    shapeProperties: ShapeProperties;\n    public originX: number;\n    public originY: number;\n\n  constructor(name: string) {\n        this.shapeProperties = new ShapeProperties();\n        this.originX = this.originY = 0;\n        this.shapeProperties.name = name;\n        console.log('Shape constructor name : ', this.shapeProperties);\n    }\n}\n\n/*\n * The Line class.\n */\nexport class Line extends Shape {\n\n    private static id = 0;\n\n    public x2: number;\n    public y2: number;\n\n    constructor() {\n        super('line-' + Line.id++);\n        this.x2 = this.y2 = 0;\n        console.log('Line constructor ', this);\n    }\n}\n\n/*\n * The Circle class.\n */\nexport class Circle extends Shape {\n    private static id = 0;\n\n    public r: number;\n\n    constructor() {\n        super('circle-' + Circle.id++);\n        this.r = 0;\n        console.log('Circle constructor ', this);\n    }\n}\n\n/*\n * The Rectangle class.\n */\nexport class Rectangle extends Shape {\n    private static id = 0;\n\n    public width: number;\n    public height: number;\n\n    constructor() {\n        super('rectangle-' + Rectangle.id++);\n        this.width = this.height = 0;\n        console.log('Rectangle constructor ', this);\n    }\n}\n\n/*\n * The Square class.\n */\nexport class Square extends Shape {\n    private static id = 0;\n\n    public width: number;\n\n    constructor() {\n        super('square-' + Square.id++);\n        this.width = 0;\n        console.log('Rectangle constructor ', this);\n    }\n}\n\n/*\n * The Ellipse class.\n */\nexport class Ellipse extends Shape {\n    private static id = 0;\n\n    public rx: number;\n    public ry: number;\n\n    constructor() {\n        super('ellipse-' + Ellipse.id++);\n        this.rx = this.ry = 0;\n        console.log('Ellipse constructor ', this);\n    }\n}\n\n/*\n * The TextBox class.\n */\nexport class TextBox extends Shape {\n    private static id = 0;\n\n    public value: string;\n\n    constructor() {\n        super('text-' + TextBox.id++);\n        this.value = 'Some text';\n        console.log('Text constructor ', this);\n    }\n}\n\n/*\n * The Image class.\n */\nexport class ImageBox extends Shape {\n    private static id = 0;\n\n    public width: number;\n    public height: number;\n    public url: string;\n\n    constructor() {\n        super('image-' + ImageBox.id++);\n        this.width = this.height = 0;\n        this.url = 'assets/pictures/tiger.png';\n        console.log('Image constructor ', this);\n    }\n}\n\n/*\n * The PolyLine class.\n */\nexport class PolyLine extends Shape {\n    private static id = 0;\n\n    public points: MousePosition[];\n\n    constructor() {\n        super('polyline-' + PolyLine.id++);\n        this.points = [];\n        console.log('PolyLine constructor ', this);\n    }\n}\n\n/*\n * The Path class.\n */\nexport class Path extends Shape {\n    private static id = 0;\n\n    public points: MousePosition[];\n    public state: State;\n\n    constructor() {\n        super('path-' + Path.id++);\n        this.points = [];\n        this.state = State.None;\n        console.log('Path constructor ', this);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {RectangleComponent} from './components/rectangle/rectangle.component';\nimport {LineComponent} from './components/line/line.component';\nimport {PathComponent} from './components/path/path.component';\nimport {DynamicSvgDirective} from './directives/dynamic-svg.directive';\nimport { SVGDrawingComponent } from '../svgdrawing/svgdrawing.component';\nimport {CircleComponent} from './components/circle/circle.component';\nimport {ShapeComponent} from './components/shape/shape.component';\nimport {SquareComponent} from './components/square/square.component';\nimport {EllipseComponent} from './components/ellipse/ellipse.component';\nimport {TextComponent} from './components/text/text.component';\nimport {GroupComponent} from './components/group/group.component';\nimport {ImageComponent} from './components/image/image.component';\nimport {PolyLineComponent} from './components/polyline/polyline.component';\nimport {DynamicFieldDirective} from './directives/dynamic-field.directive';\nimport {DynamicFormComponent} from './components/dynamic-form/dynamic-form.component';\nimport {CheckboxComponent} from './control/checkbox/checkbox.component';\nimport {InputComponent} from './control/input/input.component';\nimport {RadiobuttonComponent} from './control/radiobutton/radiobutton.component';\nimport {SelectComponent} from './control/select/select.component';\nimport {ColorPickerComponent} from './control/color-picker/color-picker.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { ColorPickerModule } from 'ngx-color-picker';\nimport { SVGCanvasComponent } from './components/svgcanvas/svgcanvas.component';\nimport { FreehandComponent } from './components/freehand/freehand.component';\n\n/**\n * Adapted from: https://github.com/johandb/svg-drawing-tool\n */\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    ColorPickerModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  exports: [\n    SVGCanvasComponent\n  ],\n  declarations: [\n    SVGDrawingComponent,\n    LineComponent,\n    CircleComponent,\n    RectangleComponent,\n    DynamicSvgDirective,\n    ShapeComponent,\n    SquareComponent,\n    EllipseComponent,\n    TextComponent,\n    GroupComponent,\n    ImageComponent,\n    PolyLineComponent,\n    PathComponent,\n    DynamicFieldDirective,\n    DynamicFormComponent,\n    CheckboxComponent,\n    InputComponent,\n    RadiobuttonComponent,\n    SelectComponent,\n    ColorPickerComponent,\n    SVGCanvasComponent,\n    FreehandComponent\n  ],\n  entryComponents: [\n    ShapeComponent,\n    LineComponent,\n    CircleComponent,\n    RectangleComponent,\n    SquareComponent,\n    EllipseComponent,\n    TextComponent,\n    GroupComponent,\n    ImageComponent,\n    PolyLineComponent,\n    PathComponent,\n    InputComponent,\n    SelectComponent,\n    CheckboxComponent,\n    RadiobuttonComponent,\n    FreehandComponent\n  ],\n  providers: [\n  ],\n  bootstrap: [SVGDrawingComponent]\n})\nexport class SVGDrawingToolModule { }\n","module.exports = \"svg {\\n    background: whitesmoke;\\n    width: 934px;\\n    height: 600px;\\n    border: 1px solid black;\\n}\\n\\n.header {\\n    background-color: #f0f5e1;\\n    margin-bottom: 5px;\\n    margin-top: 5px;\\n}\\n\\n.draggable {\\n    cursor: move;\\n}\\n\\n.nopadding {\\n    padding: 0 !important;\\n    margin: 0 !important;\\n }\\n\\nh1 {\\n    color: #80b944;\\n    padding-top: 20px;\\n}\\n\\n.shape {\\n    margin: 5px 1px 5px 10px;\\n}\\n\\n.tools {\\n    background-color: whitesmoke;\\n}\\n\\n.toolbar {\\n    background-color: whitesmoke;\\n    margin: 0;\\n}\\n\\n.color-text {\\n    font-weight: bolder;\\n    color: white;\\n}\\n\\n.panel-body:target {\\n    height: auto;\\n}\\n\\n/* .panel-body ul {\\n    list-style: none;\\n    padding-left: 0;\\n    padding: 0;\\n    margin: 0;\\n}    \\n\\n.panel-body ul li {\\n    background-color: #eee;\\n    margin-bottom: 1px;\\n    padding-left: 5px;\\n    cursor: pointer;\\n}   */\\n\\n.panel-body select {\\n    width: 100%;\\n    padding: 0;\\n    margin: 0;\\n    border: 0;\\n    outline: 0;\\n    background-color: #eee;\\n}\\n\\n.panel-heading .accordion-toggle:after {\\n    font-family: FontAwesome;\\n    content:\\\"\\\\f068\\\"; \\n    float: right;   \\n    margin: 0;\\n}\\n\\n.panel-heading .accordion-toggle.collapsed:after {\\n    float: right !important;\\n    content:\\\"\\\\f067\\\";\\n}\\n\\n.panel-title {\\n    width: 100%;\\n    border: none;\\n    outline: none;\\n    background-color: #80b944;\\n    color: white;\\n    text-align: left;\\n    cursor: pointer;\\n    font-family: FontAwesome;\\n    font-size: 18px;\\n    margin-bottom: 1px;\\n    padding: 10px 10px;\\n}\\n\\n.panel-title:hover {\\n    background-color: #609944;\\n}\\n\\n.panel-title a { \\n    text-decoration: none;\\n    color: white;\\n}\\n\\n.panel-title > a:hover, \\n.panel-title > a:active, \\n.panel-title > a:focus  {\\n    text-decoration:none;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnZHJhd2luZy9zdmdkcmF3aW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGFBQWE7SUFDYix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLG9CQUFvQjtDQUN2Qjs7QUFFRDtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSw0QkFBNEI7SUFDNUIsU0FBUztBQUNiOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBOzs7Ozs7Ozs7Ozs7S0FZSzs7QUFFTDtJQUNJLFdBQVc7SUFDWCxVQUFVO0lBQ1YsU0FBUztJQUNULFNBQVM7SUFDVCxVQUFVO0lBQ1Ysc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksd0JBQXdCO0lBQ3hCLGVBQWU7SUFDZixZQUFZO0lBQ1osU0FBUztBQUNiOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2Ysd0JBQXdCO0lBQ3hCLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLFlBQVk7QUFDaEI7O0FBRUE7OztJQUdJLG9CQUFvQjtBQUN4QiIsImZpbGUiOiJzcmMvYXBwL3N2Z2RyYXdpbmcvc3ZnZHJhd2luZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsic3ZnIHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZXNtb2tlO1xuICAgIHdpZHRoOiA5MzRweDtcbiAgICBoZWlnaHQ6IDYwMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxuXG4uaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmNWUxO1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5kcmFnZ2FibGUge1xuICAgIGN1cnNvcjogbW92ZTtcbn1cblxuLm5vcGFkZGluZyB7XG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuIH1cblxuaDEge1xuICAgIGNvbG9yOiAjODBiOTQ0O1xuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xufVxuXG4uc2hhcGUge1xuICAgIG1hcmdpbjogNXB4IDFweCA1cHggMTBweDtcbn1cblxuLnRvb2xzIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlO1xufVxuXG4udG9vbGJhciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcbiAgICBtYXJnaW46IDA7XG59XG5cbi5jb2xvci10ZXh0IHtcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnBhbmVsLWJvZHk6dGFyZ2V0IHtcbiAgICBoZWlnaHQ6IGF1dG87XG59XG5cbi8qIC5wYW5lbC1ib2R5IHVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmctbGVmdDogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbn0gICAgXG5cbi5wYW5lbC1ib2R5IHVsIGxpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIG1hcmdpbi1ib3R0b206IDFweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59ICAgKi9cblxuLnBhbmVsLWJvZHkgc2VsZWN0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgICBib3JkZXI6IDA7XG4gICAgb3V0bGluZTogMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xufVxuXG4ucGFuZWwtaGVhZGluZyAuYWNjb3JkaW9uLXRvZ2dsZTphZnRlciB7XG4gICAgZm9udC1mYW1pbHk6IEZvbnRBd2Vzb21lO1xuICAgIGNvbnRlbnQ6XCJcXGYwNjhcIjsgXG4gICAgZmxvYXQ6IHJpZ2h0OyAgIFxuICAgIG1hcmdpbjogMDtcbn1cblxuLnBhbmVsLWhlYWRpbmcgLmFjY29yZGlvbi10b2dnbGUuY29sbGFwc2VkOmFmdGVyIHtcbiAgICBmbG9hdDogcmlnaHQgIWltcG9ydGFudDtcbiAgICBjb250ZW50OlwiXFxmMDY3XCI7XG59XG5cbi5wYW5lbC10aXRsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzgwYjk0NDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IEZvbnRBd2Vzb21lO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxcHg7XG4gICAgcGFkZGluZzogMTBweCAxMHB4O1xufVxuXG4ucGFuZWwtdGl0bGU6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM2MDk5NDQ7XG59XG5cbi5wYW5lbC10aXRsZSBhIHsgXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnBhbmVsLXRpdGxlID4gYTpob3ZlciwgXG4ucGFuZWwtdGl0bGUgPiBhOmFjdGl2ZSwgXG4ucGFuZWwtdGl0bGUgPiBhOmZvY3VzICB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XG59XG5cbiJdfQ== */\"","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"row header\\\">\\n        <div class=\\\"col-md-2\\\">\\n            <img src=\\\"assets/svgdrawing/drawing.png\\\" width=\\\"160\\\" height=\\\"80\\\" />\\n        </div>\\n        <div class=\\\"col-md-10\\\">\\n            <h1>{{ title }}</h1>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-2 tools nopadding\\\">\\n                <div class=\\\"panel panel-default\\\">\\n                    <div id=\\\"shapes\\\">\\n                        <div class=\\\"panel-body\\\">\\n                            <div class=\\\"row nopadding\\\">\\n                                <button (click)=\\\"selectShape('Line')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/line.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Rectangle')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/rectangle.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Circle')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/circle.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Ellipse')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/ellipse.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Freehand')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/path.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Square')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/square.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('TextBox')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/text.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('Image')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/image.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectShape('PolyLine')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/polyline.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                            </div>\\n                        </div>\\n                        <hr>\\n                        <div class=\\\"panel-body\\\">\\n                            <div class=\\\"row nopadding\\\">\\n                                <button (click)=\\\"selectTool('Pointer')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/pointer.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                              <button (click)=\\\"selectTool('Move')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                src=\\\"assets/svgdrawing/move.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                                <button (click)=\\\"selectTool('SelectArea')\\\" type=\\\"button\\\" class=\\\"btn btn-outline-primary col-md-3 shape\\\"><img\\n                                        src=\\\"assets/svgdrawing/select-area.png\\\" width=\\\"24\\\" height=\\\"24\\\"></button>\\n                            </div>\\n                        </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-md-10 toolbar\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <p>Selected Shape : {{ this.shapeValue }}</p>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button (click)=\\\"clearShapes()\\\" type=\\\"button\\\" class=\\\"btn btn-light\\\">Clear</button>\\n                </div>\\n            </div>\\n          <app-svgcanvas #svgCanvas [width]=\\\"800\\\" [height]=\\\"600\\\"></app-svgcanvas>\\n        </div>\\n    </div>\\n</div>\\n\"","import {Component, OnChanges, OnInit, SimpleChanges, ViewChild} from '@angular/core';\nimport {ShapeProperties} from '../svgcanvas/model/shape';\nimport {SVGCanvasComponent, SVGCanvasState} from '../svgcanvas/components/svgcanvas/svgcanvas.component';\n\n\n@Component({\n  selector: 'app-svgdrawing-component',\n  templateUrl: './svgdrawing.component.html',\n  styleUrls: ['./svgdrawing.component.css']\n})\nexport class SVGDrawingComponent implements OnInit, OnChanges {\n  title = 'SVG Drawing Tool';\n\n  @ViewChild('svgCanvas') svgCanvas: SVGCanvasComponent;\n\n  shapeProperties: ShapeProperties = new ShapeProperties();\n  shapeValue: string;\n\n  constructor() {\n    console.log('SVGDrawing constructor');\n  }\n\n  ngOnInit(): void {\n    console.log('svgCanvas = ' + this.svgCanvas);\n  }\n\n  clearShapes(): void {\n    this.svgCanvas.clear();\n  }\n\n  selectTool(toolType: string): void {\n    if (toolType === 'Pointer') {\n      this.svgCanvas.changeState(SVGCanvasState.eSelecting);\n    } else if (toolType === 'Move') {\n      this.svgCanvas.changeState(SVGCanvasState.eEditing);\n    }\n    console.log('selected tool:', toolType);\n  }\n\n  selectShape(shapeType$: any) {\n    this.svgCanvas.selectShape(shapeType$);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n  }\n\n}\n","import {FreehandComponent} from '../svgcanvas/components/freehand/freehand.component';\n\nexport class AgnosticSymbolStrokes {\n  freehandComponents: Array<FreehandComponent>;\n\n  constructor() {\n    this.freehandComponents = new Array<FreehandComponent>();\n  }\n}\n","export class AgnosticSymbolSVGPath {\n  d: string;\n  x: number;\n  y: number;\n\n  constructor(d: string, x: number, y: number) {\n    this.d = d;\n    this.x = x;\n    this.y = y;\n  }\n\n\n}\n","module.exports = \"#staff > div {\\n  background-color: white;\\n}\\n\\n#staff {\\n  min-height: 100px;\\n}\\n\\n#selectedStaff {\\n  position: relative;\\n}\\n\\n#noStaffSelectedMessage {\\n  position: absolute;\\n  z-index: 100;\\n  top: 50px; /* TODO */\\n  left: 50%;\\n}\\n\\n#agnosticToolbarEditButtons {\\n  font-size: 18px;\\n}\\n\\n#agnosticToolbarSymbols button {\\n  font-size: 10px;\\n}\\n\\n#agnosticToolbar input[type=checkbox] {\\n  width: 25px;\\n  height: 25px;\\n  -moz-appearance: none;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ltYm9scy9zeW1ib2xzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLFNBQVMsRUFBRSxTQUFTO0VBQ3BCLFNBQVM7QUFDWDs7QUFHQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixxQkFBcUI7QUFDdkIiLCJmaWxlIjoic3JjL2FwcC9zeW1ib2xzL3N5bWJvbHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNzdGFmZiA+IGRpdiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4jc3RhZmYge1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbn1cblxuI3NlbGVjdGVkU3RhZmYge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4jbm9TdGFmZlNlbGVjdGVkTWVzc2FnZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTAwO1xuICB0b3A6IDUwcHg7IC8qIFRPRE8gKi9cbiAgbGVmdDogNTAlO1xufVxuXG5cbiNhZ25vc3RpY1Rvb2xiYXJFZGl0QnV0dG9ucyB7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cblxuI2Fnbm9zdGljVG9vbGJhclN5bWJvbHMgYnV0dG9uIHtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuXG4jYWdub3N0aWNUb29sYmFyIGlucHV0W3R5cGU9Y2hlY2tib3hdIHtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xufVxuIl19 */\"","module.exports = \"<div class=\\\"row\\\" xmlns:svg=\\\"\\\">\\n  <div class=\\\"col-2\\\">\\n    <app-image-tool-bar></app-image-tool-bar>\\n  </div>\\n\\n  <!-------------- CONTENT ------------------>\\n  <div class=\\\"col-10\\\">\\n    <div class=\\\"row\\\" id=\\\"selectedStaff\\\">\\n      <div class=\\\"col\\\">\\n        <!-- This inner div is used to avoid problems with padding -->\\n        <div #selectedStaffInnerDIV\\n             [style.height.px]=\\\"selectedStaffHeight\\\"\\n             [ngStyle]=\\\"{'background-image':' url(' + selectedStaffImageURL + ')'}\\\"\\n             [style.background-position-x.px]=\\\"selectedStaffImageBackgroundPositionX\\\"\\n             [style.background-position-y.px]=\\\"selectedStaffImageBackgroundPositionY\\\"\\n             [style.background-size.%]=\\\"selectedStaffImageBackgroundPertentage\\\"\\n             [style.cursor]=\\\"selectedStaffCursor\\\"\\n        >\\n          <app-svgcanvas #svgCanvas [width]=\\\"selectedStaffImageWidth\\\" [height]=\\\"selectedStaffHeight\\\"\\n            (svgShapeCreated)=\\\"onShapeCreated($event)\\\" (svgShapeSelected)=\\\"onShapeSelected($event)\\\"\\n          >\\n\\n          </app-svgcanvas>\\n        </div>\\n      </div>\\n      <p id=\\\"noStaffSelectedMessage\\\" [hidden]=\\\"staffSelected\\\">Select a staff...</p>\\n    </div>\\n\\n    <div class=\\\"row\\\" id=\\\"agnostic\\\">\\n      <div class=\\\"col\\\" id=\\\"staff\\\" [style.height.px]=\\\"agnosticStaffHeight\\\">\\n        <!-- This inner div is used to avoid problems with padding -->\\n        <svg [attr.viewBox]=\\\"'0 0 ' + agnosticStaffWidth + ' ' + agnosticStaffHeight\\\"\\n             preserveAspectRatio=\\\"xMidYMid meet\\\">\\n          <rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"white\\\"/>\\n          <g>\\n            <line stroke=\\\"black\\\" *ngFor=\\\"let staffLineYCoordinate of staffLineYCoordinates\\\"\\n                  [attr.x1]=\\\"0\\\" [attr.y1]=\\\"staffLineYCoordinate\\\"\\n                  stroke-width=\\\"2\\\"\\n                  [attr.x2]=\\\"selectedStaffImageWidth\\\"  [attr.y2]=\\\"staffLineYCoordinate\\\"/>\\n          </g>\\n          <g>\\n            <!--<app-image-thumbnail *ngFor=\\\"let image of project.images\\\" [image]=\\\"image\\\" [projectURLs]=\\\"projectURLs\\\" [attr.data-id]=\\\"image.id\\\"></app-image-thumbnail>-->\\n            <path *ngFor=\\\"let agnosticSymbolSVGKeyValue of agnosticSymbolSVGs | keyvalue; trackBy: trackByFn\\\"\\n                  [attr.d]=\\\"agnosticSymbolSVGKeyValue.value.d\\\"\\n                  [attr.stroke]=\\\"getAgnosticStaffSymbolColor(agnosticSymbolSVGKeyValue.key)\\\"\\n                  [attr.fill]=\\\"getAgnosticStaffSymbolColor(agnosticSymbolSVGKeyValue.key)\\\"\\n                  [attr.transform]=\\\"'translate(' + agnosticSymbolSVGKeyValue.value.x\\n                  + ',' + agnosticSymbolSVGKeyValue.value.y\\n                  + ') scale(' + agnosticSVGScaleX + ', ' + agnosticSVGScaleY + ')'\\\"\\n                  (click)=\\\"onAgnosticStaffSymbolSelected(agnosticSymbolSVGKeyValue.key)\\\"\\n            />\\n          </g>\\n        </svg>\\n      </div>\\n    </div>\\n\\n    <!-- tool bar to correct the agnostic transcription -->\\n    <!--          {{item.key}}:{{item.value}} -->\\n    <div class=\\\"row\\\" id=\\\"agnosticToolbar\\\">\\n      <div class=\\\"col\\\">\\n        <div class=\\\"btn-toolbar\\\" role=\\\"toolbar\\\" aria-label=\\\"Agnostic toolbar\\\" id=\\\"agnosticToolbarEditButtons\\\">\\n          <div class=\\\"btn-group mr-2\\\" role=\\\"group\\\" aria-label=\\\"Symbol edition\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" title=\\\"Move pitch down\\\"  (click)=\\\"movePitchDownSelectedSymbol()\\\">\\n              <i class=\\\"fa fa-angle-down\\\"></i>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" title=\\\"Move pitch up\\\" (click)=\\\"movePitchUpSelectedSymbol()\\\">\\n              <i class=\\\"fa fa-angle-up\\\"></i>\\n            </button>\\n            &nbsp;\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" title=\\\"Delete\\\" (click)=\\\"deleteSelectedSymbol()\\\">\\n              <i class=\\\"fa fa-trash\\\"></i>\\n            </button>\\n            &nbsp;\\n            <input id=\\\"showSymbolStrokesCheckBox\\\"\\n                       type=\\\"checkbox\\\" [checked]=\\\"showSymbolStrokes\\\"/> Show strokes\\n          </div>\\n\\n          <div class=\\\"btn-group-justified\\\" role=\\\"group\\\" aria-label=\\\"Agnostic symbols\\\" id=\\\"agnosticToolbarSymbols\\\">\\n            <button *ngFor=\\\"let item of agnosticSymbolSVGMap | keyvalue; trackBy: trackByFn\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\"\\n                    (click)=\\\"changeAgnosticType(item.key)\\\">\\n              <svg width=\\\"60\\\" height=\\\"60\\\" viewBox=\\\"0 -2048 2048 4096\\\"> <!-- TODO Valores de la escala, 2048 es el valor unitsPerEM de la fuente SVG -->\\n                <path stroke=\\\"black\\\" fill=\\\"black\\\" [attr.d]=\\\"item.value\\\" [attr.transform]=\\\"'scale(1, -1)'\\\"/>\\n              </svg><br>\\n              {{item.key}}\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!-- image with regions drawn to be selected -->\\n    <div class=\\\"row\\\" id=\\\"manuscriptImage\\\">\\n      <div class=\\\"col\\\">\\n        <app-document-analysis-view #appDocumentAnalysisView (mouseEvent)=\\\"onMouseEvent($event)\\\" (svgShapeSelected)=\\\"onRegionSelected($event)\\\"></app-document-analysis-view>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n\"","import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {RestClientService} from '../services/rest-client.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Image} from '../model/image';\nimport {Symbol} from '../model/symbol';\nimport {Stroke} from '../model/stroke';\nimport {NGXLogger} from 'ngx-logger';\n// import {ResizedEvent} from 'angular-resize-event/resized-event';\nimport {Region} from '../model/region';\nimport {AgnosticSymbolSVGPath} from './agnostic-symbol-svgpath';\nimport {Project} from '../model/project';\nimport {SessionDataService} from '../services/session-data.service';\nimport {ComponentCanDeactivate} from '../component-can-deactivate';\nimport {ImageToolBarService} from '../image-tool-bar/image-tool-bar.service';\nimport {SVGCanvasComponent, SVGCanvasState, SVGMousePositionEvent} from '../svgcanvas/components/svgcanvas/svgcanvas.component';\nimport {DocumentAnalysisViewComponent} from '../document-analysis-view/document-analysis-view.component';\nimport {ShapeComponent} from '../svgcanvas/components/shape/shape.component';\nimport {MousePosition, PolyLine, Rectangle} from '../svgcanvas/model/shape';\nimport {FreehandComponent} from '../svgcanvas/components/freehand/freehand.component';\nimport {AgnosticSymbolStrokes} from './agnostic-symbol-strokes';\nimport {Observable, timer} from 'rxjs';\nimport {Strokes} from '../model/strokes';\nimport {Point} from '../model/point';\nimport {AgnosticService} from \"../services/agnostic.service\";\nimport {ImageService} from \"../services/image.service\";\nimport {SymbolService} from \"../services/symbol.service\";\n\n@Component({\n  selector: 'app-symbols',\n  templateUrl: './symbols.component.html',\n  styleUrls: ['./symbols.component.css']\n})\n\nexport class SymbolsComponent extends ComponentCanDeactivate implements OnInit, AfterViewInit, OnDestroy {\n  private project: Project;\n  private image: Image;\n  private imageURL: string;\n\n  @ViewChild('appDocumentAnalysisView') documentAnalysisView: DocumentAnalysisViewComponent;\n\n  @ViewChild('selectedStaffInnerDIV') selectedStaffInnerDIV: ElementRef;\n\n  selectedStaffImageURL: string;\n  selectedStaffImageWidth: number; // the width of the domImage\n  selectedStaffWidth: number;\n  selectedStaffHeight: number;\n  selectedStaffImageBackgroundPositionX: number;\n  selectedStaffImageBackgroundPositionY: number;\n  selectedStaffImageBackgroundPertentage: number;\n  staffSelected = false;\n\n  // svgOfSymbols: Array<string> = [];\n  // private scale: number;\n  /// private selectedElementGroup: Group;\n  private selectedStaffFinalScale: number;\n  private expectedStaffWidthPercentage: number;\n  private selectedStaffScale: number;\n\n  agnosticStaffHeight = 0;\n  agnosticStaffWidth = 0;\n  staffLineYCoordinates: number[];\n  agnosticSymbols: Map<number, Symbol>; // number is the symbol ID\n  agnosticSymbolSVGMap: Map<string, string>;\n  agnosticSymbolSVGs: Map<number, AgnosticSymbolSVGPath>; // number is the symbol ID\n  agnosticSymbolStrokes: Map<number, AgnosticSymbolStrokes>; // number is the symbol ID\n  agnosticSVGScaleX: number;\n  agnosticSVGScaleY: number;\n  agnosticSVGem: number;\n  staffSpaceHeight: number;\n  staffMargin: number;\n  private staffBottomLineY: number;\n\n  @ViewChild('svgCanvas') svgCanvas: SVGCanvasComponent;\n  private selectedRegion: Region;\n  private selectedSymbol: Symbol;\n  selectedStaffCursor = 'default';\n  showSymbolStrokes: boolean;\n  private currentTimerID = 0;\n  private currentStrokes: Strokes = null;\n  private currentStrokesFreeHandComponents: Array<ShapeComponent>;\n\n  constructor(\n    private agnosticService: AgnosticService,\n    private imageService: ImageService,\n    private symbolService: SymbolService,\n    private sessionDataService: SessionDataService,\n    private route: ActivatedRoute,\n    private logger: NGXLogger,\n    private toolbarService: ImageToolBarService\n  ) {\n    super();\n    this.agnosticSymbolSVGMap = new Map();\n  }\n\n  ngOnInit() {\n    /*if (true) {\n      /// ------- DEVELOPMENT FIXED VALUES ----\n      this.im3wsService.getProject$(37).subscribe(next => {\n        this.sessionDataService.currentProject = next;\n        this.project = this.sessionDataService.currentProject;\n        this.loadSVGSet();\n      });\n\n      this.im3wsService.getImage$(198).subscribe(next => {\n        console.log('next = ' + next);\n        this.sessionDataService.currentImage = next;\n        this.sessionDataService.currentImageMastersURL = 'http://localhost:8888/muret/villancico-al-smo--sto--al-molino-del-amor/masters/';\n\n        this.image = this.sessionDataService.currentImage;\n        this.imageURL = this.sessionDataService.currentImageMastersURL + '/' + this.image.filename;\n\n        this.toolbarService.currentActivePanel = 'symbolsMode';\n        this.logger.debug('Working with image ' + this.imageURL);\n      });\n    } else {*/\n      this.project = this.sessionDataService.currentProject;\n      this.image = this.sessionDataService.currentImage;\n      this.logger.debug('Working with image ' + this.imageURL);\n      this.loadSVGSet();\n    // }\n    this.initToolBarInteraction();\n    this.documentAnalysisView.activateSelectMode();\n  }\n\n  // TODO - usado en el *nfFor con keyvalue, ver si podemos coger el id del símbolo mejor - lo hacemos en dos sitios\n  trackByFn(index, item) {\n    return index;\n  }\n\n  private loadSVGSet() {\n    this.agnosticService.getSVGSet$(this.project.notationType, this.project.manuscriptType).\n    subscribe(next => {\n        this.agnosticSVGScaleX = next.x;\n        this.agnosticSVGScaleY = next.y;\n        this.agnosticSVGem = next.em;\n        this.staffSpaceHeight = this.agnosticSVGem / 4.0;\n\n        this.agnosticSymbolSVGMap = new Map();\n        next.paths.forEach(item => {\n          this.agnosticSymbolSVGMap.set(item.agnosticTypeString, item.svgPathD);\n        });\n        this.logger.debug('Using SVG scales: (' + this.agnosticSVGScaleX + ', ' + this.agnosticSVGScaleY\n          + '), with default em=' + this.agnosticSVGem\n        + ' with ' + this.agnosticSymbolSVGMap.size + ' SVG elements');\n\n        this.drawStaff();\n        this.drawAgnosticToolBar();\n      }\n    );\n  }\n\n  private drawAgnosticToolBar() {\n    // TODO ordenar\n  }\n\n  private initToolBarInteraction() {\n    this.toolbarService.selectedTool$.subscribe(next => {\n      this.logger.debug('Using interaction: ' + next);\n      this.selectedStaffCursor = 'default';\n      switch (next) {\n        case '200': // symbols select\n          this.svgCanvas.changeState(SVGCanvasState.eEditing);\n          break;\n        case '201': // symbols bounding boxes\n          this.svgCanvas.selectShapeProperties('transparent', 2, 'lightgreen'); // TODO values\n          this.svgCanvas.selectShape('Rectangle');\n          this.svgCanvas.changeState(SVGCanvasState.eDrawing);\n          this.selectedStaffCursor = 'cell';\n          break;\n        case '202': // symbols strokes\n          this.svgCanvas.selectShapeProperties('transparent', 2, 'lightgreen'); // TODO values\n          this.svgCanvas.selectShape('Freehand');\n          this.svgCanvas.changeState(SVGCanvasState.eDrawing);\n          this.selectedStaffCursor = 'crosshair';\n          break;\n\n      }\n    });\n    this.toolbarService.selectedTool = '200';\n  }\n\n\n  public ngAfterViewInit(): void {\n  }\n\n\n  public ngOnDestroy() {\n  }\n\n  /*onResized(event: ResizedEvent): void {\n    this.logger.debug('Resized');\n    if (this.imageSurface) {\n      this.scale = this.domImage.nativeElement.width / this.domImage.nativeElement.naturalWidth;\n      this.drawBoundingBoxes();\n    } // else it is invoked before ngAfterViewInit\n  }\n*/\n\n  private doSelectRegion(region: Region) {\n    this.staffSelected = true;\n    this.selectedRegion = region;\n    this.drawSelectedRegion(region);\n    this.agnosticStaffWidth = this.selectedStaffWidth;\n    this.drawSelectedRegionSymbols(region);\n  }\n\n\n  private drawSymbol(symbol: Symbol) {\n    this.agnosticSymbols.set(symbol.id, symbol);\n    this.drawSymbolStrokes(symbol);\n    this.drawSymbolBoundingBox(symbol);\n    this.drawSymbolAgnostic(this.selectedRegion, symbol);\n  }\n\n  private drawSymbolStrokes(symbol: Symbol) {\n    this.logger.debug('Drawing symbol ' + symbol.id);\n    if (symbol.strokes != null) {\n      this.logger.debug('Drawing ' + symbol.strokes.strokeList.length + ' strokes');\n      const agnosticStrokes = new AgnosticSymbolStrokes();\n      symbol.strokes.strokeList.forEach(stroke => {\n        const component = this.drawStroke(symbol, stroke);\n        agnosticStrokes.freehandComponents.push(component);\n      });\n      this.agnosticSymbolStrokes.set(symbol.id, agnosticStrokes);\n    }\n  }\n\n  private drawStaff() {\n    this.staffMargin = this.agnosticSVGem;\n    this.staffLineYCoordinates = new Array(5);\n    let i = 0;\n    for (i = 0 ; i < 5; i++) {\n      const y = i * this.staffSpaceHeight + this.staffMargin;\n      this.staffLineYCoordinates[i] = y;\n      if (i === 4) {\n        this.staffBottomLineY = y;\n      }\n    }\n    this.agnosticStaffHeight = this.staffMargin * 2 + this.staffSpaceHeight * 5;\n    this.agnosticSymbolSVGs = new Map<number, AgnosticSymbolSVGPath>();\n    this.agnosticSymbolStrokes = new Map<number, AgnosticSymbolStrokes>();\n  }\n\n  private drawSelectedRegion(region: Region) {\n    this.selectedStaffImageURL = this.imageURL;\n    const regionWidth = region.boundingBox.toX - region.boundingBox.fromX;\n    const regionHeight = region.boundingBox.toY - region.boundingBox.fromY;\n    this.selectedStaffWidth = this.selectedStaffInnerDIV.nativeElement.offsetWidth;\n    this.selectedStaffImageWidth = this.documentAnalysisView.getImageNaturalWidth();\n    this.selectedStaffScale = this.selectedStaffImageWidth / regionWidth;\n    const expectedStaffWidth = regionWidth / this.selectedStaffScale;\n    this.expectedStaffWidthPercentage = this.selectedStaffWidth / expectedStaffWidth;\n    this.selectedStaffImageBackgroundPertentage = this.selectedStaffScale * 100.0;\n    this.selectedStaffImageBackgroundPositionX = this.expectedStaffWidthPercentage * (-region.boundingBox.fromX / this.selectedStaffScale);\n    this.selectedStaffImageBackgroundPositionY = this.expectedStaffWidthPercentage * (-region.boundingBox.fromY / this.selectedStaffScale);\n    this.selectedStaffHeight = (regionHeight / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n    this.selectedStaffFinalScale = this.selectedStaffScale;\n    this.logger.debug('Selected staff scale: ' + this.selectedStaffScale\n      + ', regionBBoxY=' + region.boundingBox.fromY\n      + ', selectedStaffImageBackgroundPositionY=' + this.selectedStaffImageBackgroundPositionY\n      + ', expectedStaffWidthPercentage= ' + this.expectedStaffWidthPercentage\n\n  );\n  }\n\n /* private drawSelectedRegionSymbolBoxes(region: Region) {\n    this.logger.debug('Drawing region symbol boxes');\n    /// this.selectedStaffBoundingBoxesGroup.clear();\n    if (region.symbols) {\n      region.symbols.forEach(symbol => {\n        this.logger.debug('Drawing symbol ' + symbol);\n\n        const fromX = ((symbol.boundingBox.fromX - region.boundingBox.fromX) / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n        const fromY = ((symbol.boundingBox.fromY - region.boundingBox.fromY) / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n        const toX = ((symbol.boundingBox.toX - region.boundingBox.fromX) / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n        const toY = ((symbol.boundingBox.toY - region.boundingBox.fromY) / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n\n        const translatedAndScaledBoundingBox = new BoundingBox(\n          fromX, fromY, toX, toY\n        );\n\n        this.drawBoundingBox(this.selectedStaffBoundingBoxesGroup, symbol, translatedAndScaledBoundingBox,\n          1,\n          'blue', 1);\n      });\n    }\n  }*/\n\n  computeAgnosticStaffSymbolY(region: Region, symbol: Symbol): number {\n    const lineSpace = this.positionInStaffToLineSpace(symbol.positionInStaff);\n    const heightDifference = -(this.staffSpaceHeight * (lineSpace / 2.0));\n    const y = this.staffBottomLineY  + heightDifference;\n    return y;\n  }\n\n  /* TODO Posición */\n  private drawSymbolAgnostic(region: Region, symbol: Symbol) {\n    this.logger.debug('Drawing SVG ' + symbol);\n    if (symbol.agnosticSymbolType) {\n      const x = ((symbol.boundingBox.fromX - region.boundingBox.fromX) / this.selectedStaffScale) * this.expectedStaffWidthPercentage;\n      const svg = this.agnosticSymbolSVGMap.get(symbol.agnosticSymbolType);\n      const y = this.computeAgnosticStaffSymbolY(region, symbol);\n      const asvg = new AgnosticSymbolSVGPath(svg, x, y);\n      this.agnosticSymbolSVGs.set(symbol.id, asvg);\n      /*if (!svg) {\n        this.im3wsService.getSVGFromAgnosticSymbolType$(\n          this.project.notationType,\n          this.project.manuscriptType,\n          symbol.agnosticSymbolType).subscribe(next => {\n          const svgD = next.response;\n          this.agnosticSymbolSVGMap.set(symbol.agnosticSymbolType, svgD);\n          const asvg = new AgnosticSymbolSVGPath(svgD, x, y);\n          this.agnosticSymbolSVGs.push(asvg);\n        });\n      } else {\n        const asvg = new AgnosticSymbolSVGPath(svg, x, y);\n        this.agnosticSymbolSVGs.push(asvg);\n      }*/ // TODO\n    }\n  }\n\n  private drawSelectedRegionSymbols(region: Region) {\n    this.svgCanvas.clear();\n    this.agnosticSymbolSVGs = new Map<number, AgnosticSymbolSVGPath>(); // empty it\n    this.agnosticSymbols = new Map<number, Symbol>(); // empty it\n    region.symbols.forEach(symbol => {\n      this.drawSymbol(symbol);\n    });\n  }\n\n  // TODO Sacar todo esto a componentes\n  private positionInStaffToLineSpace(positionInStaff: string): number {\n    const value = Number(positionInStaff.substr(1));\n    if (positionInStaff.charAt(0) === 'L') {\n      return (value - 1) * 2;\n    } else if (positionInStaff.charAt(0) === 'S') {\n      return (value) * 2 - 1;\n    } else {\n      throw new Error('Invalid positionInStaff, it should start with L or S: ' + positionInStaff);\n    }\n  }\n\n  canDeactivate(): boolean {\n    return false; // TODO\n  }\n  onMouseEvent($event: SVGMousePositionEvent) {\n  }\n\n  onRegionSelected($event: ShapeComponent) {\n    if ($event.modelObjectType === 'Region') {\n      // look for the region ID\n      const region = this.documentAnalysisView.findRegionID($event.modelObjectID);\n      if (!region) {\n        this.logger.warn('Cannot find region with id ' + $event.modelObjectID);\n      } else {\n        this.logger.debug('Region with id ' + $event.modelObjectID + ' selected');\n        this.doSelectRegion(region);\n      }\n    }\n  }\n\n  onShapeSelected($event: ShapeComponent) {\n    if ($event == null) {\n      this.selectedSymbol = null;\n    } else if ($event.modelObjectType === 'Symbol') {\n      const symbol = this.agnosticSymbols.get($event.modelObjectID);\n      if (!symbol) {\n        this.logger.warn('Cannot find symbol with id ' + $event.modelObjectID);\n      } else {\n        this.logger.debug('Symmbol with id ' + $event.modelObjectID + ' selected');\n        this.doSelectSymbol(symbol);\n      }\n    }\n  }\n\n\n  onShapeCreated($event: ShapeComponent) {\n    this.logger.debug('New bounding box: ' + $event);\n    if ($event.shape instanceof Rectangle) {\n      const shape = $event.shape;\n\n     /* const fromX = this.selectedRegion.boundingBox.fromX + ((shape.originX) * this.selectedStaffScale)\n        / this.expectedStaffWidthPercentage;\n      const fromY = this.selectedRegion.boundingBox.fromY + (( shape.originY) * this.selectedStaffScale)\n        / this.expectedStaffWidthPercentage;\n      const toX = this.selectedRegion.boundingBox.fromX  + (( shape.originX + shape.width) * this.selectedStaffScale)\n        / this.expectedStaffWidthPercentage;\n      const toY = this.selectedRegion.boundingBox.fromY + ((shape.originY + shape.height) * this.selectedStaffScale)\n        / this.expectedStaffWidthPercentage;*/\n      const fromX = this.fromScreenX(shape.originX);\n      const fromY = this.fromScreenY(shape.originY);\n\n      const toX = this.fromScreenX(shape.originX + shape.width);\n      const toY = this.fromScreenY(shape.originY + shape.height);\n\n\n      const prevCursor = this.selectedStaffCursor;\n      this.selectedStaffCursor = 'wait';\n      this.imageService.createSymbolFromBoundingBox$(this.selectedRegion, fromX, fromY,\n        toX, toY).subscribe(next => {\n          this.selectedStaffCursor = prevCursor;\n          this.logger.debug('New symbol created ' + next.id);\n          this.svgCanvas.remove($event);\n          this.drawSymbol(next);\n          this.selectedRegion.symbols.push(next); // the im3ws spring service just returns the new symbol, not the complete region on each symbol insert\n      });\n    } else if ($event.shape instanceof PolyLine) {\n        const shape = $event.shape;\n\n        const source = timer(300); // TODO timer duration, now 300ms\n        this.currentTimerID ++;\n        const subscribe = source.subscribe(val =>\n          this.onStrokesTimer(this.currentTimerID)\n        );\n\n        if (this.currentStrokes == null) {\n          this.currentStrokes = new Strokes(new Array<Stroke>());\n        }\n\n        const points = new Array<Point>();\n        let prevTimeStamp = 0;\n        shape.points.forEach(p => {\n          let t: number;\n          if (prevTimeStamp === 0) {\n            t = 0;\n          } else {\n            t = p.timestamp - prevTimeStamp;\n          }\n          prevTimeStamp = p.timestamp;\n          const point = new Point(t, this.fromScreenX(p.x), this.fromScreenY(p.y));\n          points.push(point);\n        });\n      const stroke = new Stroke(points);\n      this.currentStrokes.strokeList.push(stroke);\n\n      if (this.currentStrokesFreeHandComponents == null) {\n        this.currentStrokesFreeHandComponents = new Array<ShapeComponent>();\n      }\n      this.currentStrokesFreeHandComponents.push($event);\n    }\n  }\n\n  private onStrokesTimer(timerID: number) {\n    if (timerID === this.currentTimerID) {\n      // generate strokes\n      const prevCursor = this.selectedStaffCursor;\n      this.selectedStaffCursor = 'wait';\n      this.imageService.createSymbolFromStrokes$(this.selectedRegion, this.currentStrokes).subscribe(next => {\n        this.selectedStaffCursor = prevCursor;\n        this.logger.debug('New symbol created ' + next.id);\n\n        this.currentStrokesFreeHandComponents.forEach(shape => {\n          this.svgCanvas.remove(shape);\n        });\n\n        this.currentStrokes = null;\n        this.currentStrokesFreeHandComponents = null;\n        this.drawSymbol(next);\n        this.selectedRegion.symbols.push(next); // the im3ws spring service just returns the new symbol, not the complete region on each symbol insert\n      });\n    } // else discard it because it has been overwritten by the new one\n  }\n\n  private toScreenX(x: number): number {\n    return ((x - this.selectedRegion.boundingBox.fromX) / this.selectedStaffScale)\n      * this.expectedStaffWidthPercentage;\n  }\n\n  private toScreenY(y: number): number {\n    return ((y - this.selectedRegion.boundingBox.fromY) / this.selectedStaffScale)\n      * this.expectedStaffWidthPercentage;\n  }\n\n  private fromScreenX(x: number): number {\n    return this.selectedRegion.boundingBox.fromX + (x * this.selectedStaffScale)\n      / this.expectedStaffWidthPercentage;\n  }\n\n  private fromScreenY(y: number): number {\n    return this.selectedRegion.boundingBox.fromY + (y * this.selectedStaffScale)\n      / this.expectedStaffWidthPercentage;\n  }\n\n  private drawSymbolBoundingBox(symbol: Symbol) {\n    if (symbol.boundingBox) {\n      const fromX = this.toScreenX(symbol.boundingBox.fromX);\n      const fromY = this.toScreenY(symbol.boundingBox.fromY);\n      const toX = this.toScreenX(symbol.boundingBox.toX);\n      const toY = this.toScreenY(symbol.boundingBox.toY);\n      /*const fromX = symbol.boundingBox.fromX;\n      const fromY = symbol.boundingBox.fromY;\n      const toX = symbol.boundingBox.toX;\n      const toY = symbol.boundingBox.toY;*/\n\n      const shapeComponent = this.svgCanvas.drawRectangle(fromX, fromY, toX - fromX, toY - fromY, '');\n      shapeComponent.shape.shapeProperties.fillColor = 'transparent';\n      shapeComponent.shape.shapeProperties.strokeWidth = 1;\n      shapeComponent.shape.shapeProperties.strokeColor = 'lightgreen'; // TODO\n      shapeComponent.modelObjectType = 'Symbol';\n      shapeComponent.modelObjectID = symbol.id;\n    }\n  }\n\n  private drawStroke(symbol: Symbol, stroke: Stroke): FreehandComponent {\n    if (stroke) {\n      const mousePositions = new Array<MousePosition>();\n      stroke.points.forEach(point => {\n        const mousePosition = new MousePosition();\n\n        mousePosition.x = this.toScreenX(point.x);\n        mousePosition.y = this.toScreenY(point.y);\n        mousePositions.push(mousePosition);\n      });\n\n      const shapeComponent = this.svgCanvas.drawFreeHand(mousePositions);\n\n      shapeComponent.shape.shapeProperties.fillColor = 'transparent';\n      shapeComponent.shape.shapeProperties.strokeWidth = 2;\n      shapeComponent.shape.shapeProperties.strokeColor = 'blue'; // TODO\n      shapeComponent.modelObjectType = 'Symbol';\n      shapeComponent.modelObjectID = symbol.id;\n\n      return shapeComponent;\n    } else {\n      return null;\n    }\n  }\n\n\n  private doSelectSymbol(symbol: Symbol) {\n    this.selectedSymbol = symbol;\n    // it is automatically selected in agnostic staff (see getAgnosticStaffSymbolColor)\n  }\n\n  onAgnosticStaffSymbolSelected(symbolID: number) {\n    // select symbol\n    // TODO\n  }\n\n  getAgnosticStaffSymbolColor(symbolID: number): string {\n    if (this.selectedSymbol != null && this.selectedSymbol.id === symbolID) {\n      return 'red';\n    } else {\n      return 'black'; // TODO Constantes\n    }\n  }\n\n  deleteSelectedSymbol() {\n    if (this.selectedSymbol != null) {\n      this.imageService.deleteSymbol$(this.selectedRegion.id, this.selectedSymbol.id).subscribe(() => {\n        this.agnosticSymbols.delete(this.selectedSymbol.id);\n        this.agnosticSymbolSVGs.delete(this.selectedSymbol.id);\n        this.svgCanvas.remove(this.svgCanvas.selectedComponent);\n\n        const strokes = this.agnosticSymbolStrokes.get(this.selectedSymbol.id);\n        if (strokes) {\n          strokes.freehandComponents.forEach(component => {\n            this.svgCanvas.remove(component);\n          });\n          this.agnosticSymbolStrokes.delete(this.selectedSymbol.id);\n        }\n        this.selectedSymbol = null;\n      });\n    }\n  }\n\n  movePitchSelectedSymbol(upOrDown: string) {\n    if (this.selectedSymbol != null) {\n      this.symbolService.changeAgnosticPositionInStaffUpOrDown$(this.selectedSymbol.id, upOrDown).subscribe( next => {\n        this.selectedSymbol.positionInStaff = next.positionInStaff;\n        const newY = this.computeAgnosticStaffSymbolY(this.selectedRegion, this.selectedSymbol);\n        const svgPath = this.agnosticSymbolSVGs.get(this.selectedSymbol.id);\n        if (!svgPath) {\n          throw new Error('Cannot find an agnostic staff symbol for id ' + this.selectedSymbol.id);\n        }\n\n        svgPath.y = newY;\n      });\n    }\n  }\n\n  movePitchUpSelectedSymbol() {\n    this.movePitchSelectedSymbol('up');\n  }\n\n  movePitchDownSelectedSymbol() {\n    this.movePitchSelectedSymbol('down');\n  }\n\n  changeAgnosticType(type: string) {\n    this.symbolService.changeAgnosticSymbolType$(this.selectedSymbol.id, type).subscribe( next => {\n      this.selectedSymbol.positionInStaff = next.positionInStaff;\n      const svgPath = this.agnosticSymbolSVGs.get(this.selectedSymbol.id);\n      if (!svgPath) {\n        throw new Error('Cannot find an agnostic staff symbol for id ' + this.selectedSymbol.id);\n      }\n      const newSVG = this.agnosticSymbolSVGMap.get(type);\n      svgPath.d = newSVG;\n    });\n  }\n\n}\n","module.exports = \"#trainingSets h3 {\\n   color: white;\\n}\\n\\n#trainingSets h4 {\\n  color: white;\\n}\\n\\n#trainingSets p {\\n  color: gray;\\n}\\n\\n#trainingSets button {\\n  margin: 10px;\\n  margin-bottom: 20px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdHJhaW5pbmctc2V0cy90cmFpbmluZy1zZXRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7R0FDRyxZQUFZO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvdHJhaW5pbmctc2V0cy90cmFpbmluZy1zZXRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdHJhaW5pbmdTZXRzIGgzIHtcbiAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuI3RyYWluaW5nU2V0cyBoNCB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuI3RyYWluaW5nU2V0cyBwIHtcbiAgY29sb3I6IGdyYXk7XG59XG5cbiN0cmFpbmluZ1NldHMgYnV0dG9uIHtcbiAgbWFyZ2luOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuIl19 */\"","module.exports = \"<div id=\\\"trainingSets\\\" [style.cursor]=\\\"currentCursor\\\">\\n  <div class=\\\"row\\\">\\n    <h2 class=\\\"offset-1 col-9\\\">Export training datasets</h2>\\n  </div>\\n\\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit()\\\">\\n    <div class=\\\"row\\\">\\n      <h3 class=\\\"offset-1 col-9\\\">Available exporters</h3>\\n    </div>\\n\\n    <label class=\\\"row\\\" formArrayName=\\\"exportersFormArray\\\" *ngFor=\\\"let rb of form.controls.exportersFormArray.controls; let i = index\\\">\\n      <div class=\\\"offset-1 col-1 text-right\\\">\\n        <input type=\\\"radio\\\" checked name=\\\"exportersRadioButton\\\" value=\\\"{{i}}\\\" (change)=\\\"onExporterSelected(i)\\\">\\n      </div>\\n      <div class=\\\"col-9\\\">\\n        <h4>{{exporters[i].name}}</h4>\\n        <p>{{exporters[i].description}}</p>\\n      </div>\\n    </label>\\n\\n    <div class=\\\"row\\\">\\n      <h3 class=\\\"offset-1 col-9\\\">Projects to be exported</h3>\\n    </div>\\n\\n    <label class=\\\"row\\\" formArrayName=\\\"projectsFormArray\\\" *ngFor=\\\"let cb of form.controls.projectsFormArray.controls; let i = index\\\">\\n      <div class=\\\"offset-1 col-1 text-right\\\">\\n        <input type=\\\"checkbox\\\" [formControlName]=\\\"i\\\">\\n      </div>\\n      <div class=\\\"col-9\\\">\\n        <h4>{{projects[i].name}}</h4>\\n        <h5>{{projects[i].state?.state}}</h5>\\n        <p>{{projects[i].comments}}</p>\\n      </div>\\n    </label>\\n\\n    <div class=\\\"row\\\" *ngIf=\\\"!form.valid\\\">\\n      <p class=\\\"offset-1 col-9\\\">At least one exporter and one project order must be selected</p>\\n    </div>\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col offset-2\\\">\\n        <button [disabled]=\\\"!form.valid\\\" class=\\\"btn btn-primary btn-lg\\\">Export training set</button>\\n      </div>\\n    </div>\\n\\n  </form>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport saveAs from 'file-saver';\nimport {Project} from '../model/project';\nimport {SessionDataService} from '../services/session-data.service';\nimport {ITrainingSetExporter} from '../model/itraining-set-exporter';\nimport {FormArray, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators} from '@angular/forms';\nimport {FormUtils} from '../form-utils';\nimport {TrainingSetService} from \"../services/training-set.service\";\nimport {ProjectService} from \"../services/project.service\";\n\n@Component({\n  selector: 'app-training-sets',\n  templateUrl: './training-sets.component.html',\n  styleUrls: ['./training-sets.component.css']\n})\nexport class TrainingSetsComponent implements OnInit {\n  exporters: Array<ITrainingSetExporter>;\n  projects: Array<Project>;\n  form: FormGroup;\n  selectedExporterId: number;\n  currentCursor = 'default';\n\n  constructor(private projectService: ProjectService, private trainingSetService: TrainingSetService, private sessionDataService: SessionDataService, private formBuilder: FormBuilder) {\n    this.form = this.formBuilder.group({\n      exportersFormArray: new FormArray([], Validators.required),\n      projectsFormArray: new FormArray([], FormUtils.minSelectedCheckboxes(1))\n    });\n  }\n\n  ngOnInit() {\n    this.trainingSetService.getTrainingSetExporters$().pipe().subscribe(value => {\n      this.exporters = value;\n      const controls = this.exporters.map(c => new FormControl(false));\n      controls.forEach(c => {\n        (this.form.get('exportersFormArray') as FormArray).push(c);\n      });\n      this.onExporterSelected(controls.length - 1); // TODO Parche\n    });\n    this.projectService.getProjects$().subscribe(value => {\n      this.projects = value;\n\n      const controls = this.projects.map(c => new FormControl(false));\n      const projectsFormArray = (this.form.get('projectsFormArray') as FormArray);\n      controls.forEach(c => {\n        projectsFormArray.push(c);\n      });\n     });\n  }\n\n  submit() {\n    const selectedProjectIDS = Array<number>();\n    let index = 0;\n    (this.form.get('projectsFormArray') as FormArray).controls.forEach(cb => {\n      if (cb.value) {\n        selectedProjectIDS.push(this.projects[index].id);\n      }\n      index++;\n    });\n\n    this.currentCursor = 'wait';\n    this.trainingSetService.downloadTrainingSet$(this.selectedExporterId, selectedProjectIDS).subscribe(data => {\n      const blob1 = new Blob([data], { type: 'application/x-gzip' });\n      saveAs.saveAs(blob1, 'training_set.tgz'); // TODO file name\n      this.currentCursor = 'default';\n    });\n  }\n\n  onExporterSelected(i: number) {\n    this.selectedExporterId = this.exporters[i].id;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<nav class=\\\"navbar navbar-dark bg-dark mt-5 fixed-bottom navbar-collapse\\\">\\n  <div id=\\\"messages\\\">\\n    <app-messages></app-messages>\\n  </div>\\n</nav>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".navbar-toggler-icon {\\n  background-image: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255,255,255, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\\\");\\n}\\n\\nnav {\\n  margin-top: 25px;\\n  margin-bottom: 25px;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdVFBQXVRO0FBQ3pROztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL3VpL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXItdG9nZ2xlci1pY29uIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0Nzdmcgdmlld0JveD0nMCAwIDMyIDMyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBzdHJva2U9J3JnYmEoMjU1LDI1NSwyNTUsIDEpJyBzdHJva2Utd2lkdGg9JzInIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBkPSdNNCA4aDI0TTQgMTZoMjRNNCAyNGgyNCcvJTNFJTNDL3N2ZyUzRVwiKTtcbn1cblxubmF2IHtcbiAgbWFyZ2luLXRvcDogMjVweDtcbiAgbWFyZ2luLWJvdHRvbTogMjVweDtcbn1cblxuXG4iXX0= */\"","module.exports = \"<nav class=\\\"navbar navbar-light offset-1\\\">\\n  <div ngbDropdown class=\\\"d-inline-block\\\">\\n    <button class=\\\"navbar-toggler hidden-sm-up\\\" id=\\\"dropdownBasic1\\\" ngbDropdownToggle>\\n      <span class=\\\"navbar-toggler-icon\\\"></span>\\n    </button>\\n    <div ngbDropdownMenu aria-labelledby=\\\"dropdownBasic1\\\">\\n      <a class=\\\"dropdown-item nav-link\\\" routerLinkActive=\\\"active\\\" routerLink=\\\"startup\\\">Home</a>\\n      <a class=\\\"dropdown-item nav-link\\\" [hidden]=\\\"authenticated()\\\" routerLink=\\\"login\\\">Login</a>\\n      <a class=\\\"dropdown-item nav-link\\\" [hidden]=\\\"!authenticated()\\\" routerLink=\\\"login\\\">Logout</a>\\n      <a class=\\\"dropdown-item nav-link\\\" [hidden]=\\\"!authenticated()\\\" routerLink=\\\"export\\\">Export training sets</a>\\n      <a class=\\\"dropdown-item nav-link\\\" [hidden]=\\\"!authenticated()\\\" routerLink=\\\"preferences\\\">Preferences</a>\\n      <a class=\\\"dropdown-item nav-link\\\" routerLinkActive=\\\"active\\\" routerLink=\\\"about\\\">About</a>\\n      <a class=\\\"dropdown-item nav-link\\\" href=\\\"https://github.com/HISPAMUS/muret\\\" target=\\\"_blank\\\">\\n        <i class=\\\"fa fa-github\\\"></i>\\n      </a>\\n    </div>\\n    <a [hidden]=\\\"hideLogo()\\\" class=\\\"navbar-brand\\\" routerLink=\\\"startup\\\">\\n      <img src=\\\"assets/images/muret.png\\\" alt=\\\"Logo MuRET\\\">\\n    </a>\\n    <a routerLink=\\\"dev\\\">DEV</a>&nbsp;\\n\\n  </div>\\n  <div ng-if=\\\"authenticated()\\\" class=\\\"navbar-right\\\">\\n    {{getUserName()}}\\n  </div>\\n</nav>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {RestClientService} from '../../services/rest-client.service';\nimport {Router} from '@angular/router';\nimport {AuthService} from \"../../services/auth.service\";\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent {\n  hideLogoIn = new Set([\n    '/about',\n    '/startup'\n    ]);\n\n  constructor(private authService: AuthService, private router: Router) {\n  }\n  authenticated(): boolean {\n    return this.authService.authenticated();\n  }\n\n  hideLogo(): boolean {\n    return this.hideLogoIn.has(this.router.url);\n  }\n\n  getUserName(): string {\n    if (this.authService.authenticated()) {\n      return this.authService.getUser().username;\n    } else {\n      return '';\n    }\n\n  }\n}\n","module.exports = \"header {\\n}\\n\\n#mainContent {\\n}\\n\\nfooter {\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvbGF5b3V0L2xheW91dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6InNyYy9hcHAvdWkvbGF5b3V0L2xheW91dC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaGVhZGVyIHtcbn1cblxuI21haW5Db250ZW50IHtcbn1cblxuZm9vdGVyIHtcbn1cblxuIl19 */\"","module.exports = \"<header>\\n  <app-header></app-header>\\n</header>\\n<div id=\\\"mainContent\\\" class=\\\"container-fluid\\\">\\n  <ng-content></ng-content>\\n</div>\\n<footer>\\n  <app-footer></app-footer>\\n</footer>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.css']\n})\nexport class LayoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LayoutComponent } from './layout/layout.component';\nimport { HeaderComponent } from './header/header.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { MessagesComponent } from '../messages/messages.component';\nimport {RouterModule} from '@angular/router';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n  imports: [\n    CommonModule, NgbModule, RouterModule // important to include the router module here because routes do not work otherwise\n  ],\n  exports: [LayoutComponent],\n  declarations: [LayoutComponent, HeaderComponent, FooterComponent,\n    MessagesComponent]\n})\nexport class UiModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VwbG9hZC1pbWFnZXMvdXBsb2FkLWltYWdlcy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<style>\\n  .my-drop-zone { border: dotted 3px lightgray; }\\n  .nv-file-over { border: dotted 3px red; } /* Default class applied to drop zones on over */\\n  .another-file-over-class { border: dotted 3px green; }\\n\\n  html, body { height: 100%; }\\n</style>\\n\\n<div class=\\\"container\\\">\\n\\n  <div class=\\\"navbar navbar-default\\\">\\n    <div class=\\\"navbar-header\\\">\\n      <h1>{{project?.name}}</h1>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n\\n    <div class=\\\"col-5\\\">\\n      <h3>Select files to upload from disk</h3>\\n      <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" multiple  />\\n    </div>\\n\\n    <div class=\\\"col-7\\\">\\n      <div ng2FileDrop\\n           [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\"\\n           (fileOver)=\\\"fileOverBase($event)\\\"\\n           [uploader]=\\\"uploader\\\"\\n           class=\\\"well my-drop-zone\\\">\\n        Or drop images here\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\" style=\\\"margin-bottom: 40px\\\">\\n\\n      <h3>Upload queue</h3>\\n      <p>Queue length: {{ uploader?.queue?.length }}</p>\\n\\n      <table class=\\\"table\\\">\\n        <thead>\\n        <tr>\\n          <th width=\\\"50%\\\">Name</th>\\n          <th>Size</th>\\n          <th>Progress</th>\\n          <th>Status</th>\\n          <th>Actions</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr *ngFor=\\\"let item of uploader.queue\\\">\\n          <td><strong>{{ item?.file?.name }}</strong></td>\\n          <td *ngIf=\\\"uploader.isHTML5\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\\n          <td *ngIf=\\\"uploader.isHTML5\\\">\\n            <div class=\\\"progress\\\" style=\\\"margin-bottom: 0;\\\">\\n              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': item.progress + '%' }\\\"></div>\\n            </div>\\n          </td>\\n          <td class=\\\"text-center\\\">\\n            <span *ngIf=\\\"item.isSuccess\\\"><i class=\\\"glyphicon glyphicon-ok\\\"></i></span>\\n            <span *ngIf=\\\"item.isCancel\\\"><i class=\\\"glyphicon glyphicon-ban-circle\\\"></i></span>\\n            <span *ngIf=\\\"item.isError\\\"><i class=\\\"glyphicon glyphicon-remove\\\"></i></span>\\n          </td>\\n          <td nowrap>\\n            <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\"\\n                    (click)=\\\"item.upload()\\\" [disabled]=\\\"item.isReady || item.isUploading || item.isSuccess\\\">\\n              <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-warning btn-xs\\\"\\n                    (click)=\\\"item.cancel()\\\" [disabled]=\\\"!item.isUploading\\\">\\n              <span class=\\\"glyphicon glyphicon-ban-circle\\\"></span> Cancel\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger btn-xs\\\"\\n                    (click)=\\\"item.remove()\\\">\\n              <span class=\\\"glyphicon glyphicon-trash\\\"></span> Remove\\n            </button>\\n          </td>\\n        </tr>\\n        </tbody>\\n      </table>\\n\\n      <div>\\n        <div>\\n          Queue progress:\\n          <div class=\\\"progress\\\" style=\\\"\\\">\\n            <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\n          </div>\\n        </div>\\n        <button type=\\\"button\\\" class=\\\"btn btn-success btn-s\\\"\\n                (click)=\\\"uploader.uploadAll()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\n          <span class=\\\"glyphicon glyphicon-upload\\\"></span> Upload all\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning btn-s\\\"\\n                (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\n          <span class=\\\"glyphicon glyphicon-ban-circle\\\"></span> Cancel all\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger btn-s\\\"\\n                (click)=\\\"uploader.clearQueue()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\n          <span class=\\\"glyphicon glyphicon-trash\\\"></span> Remove all\\n        </button>\\n      </div>\\n\\n    </div>\\n\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <a href=\\\"project/{{project?.id}}\\\">Continue with project {{project?.name}}</a>\\n    </div>\\n\\n  </div>\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FileUploader } from 'ng2-file-upload';\nimport {ActivatedRoute} from '@angular/router';\nimport {Project} from '../model/project';\nimport {RestClientService} from '../services/rest-client.service';\nimport {NGXLogger} from 'ngx-logger';\nimport {ConfigurationService} from '../configuration.service';\nimport {ProjectService} from \"../services/project.service\";\n\n// const URL = 'http://localhost:8080/muret/upload/projectImage';\n  @Component({\n  selector: 'app-upload-images',\n  templateUrl: './upload-images.component.html',\n  styleUrls: ['./upload-images.component.css']\n})\nexport class UploadImagesComponent implements OnInit {\n  public project: Project;\n  public uploader: FileUploader;\n  public hasBaseDropZoneOver = true;\n  public hasAnotherDropZoneOver = false;\n\n  constructor(private projectService: ProjectService, private route: ActivatedRoute, private logger: NGXLogger,\n              private configurationService: ConfigurationService) {\n  }\n\n  /* TODO Intentar pasar el objeto project directamente con redux? */\n  ngOnInit() {\n    const URL = this.configurationService + '/muret/upload/projectImage';\n    this.uploader = new FileUploader({url: URL})\n\n    const routeParams = this.route.snapshot.params;\n\n    this.projectService.getProject$(routeParams.id)\n      .subscribe(serviceProject => this.project = serviceProject).add(teardown => {\n      this.logger.debug('UploadImagesComponent' + this.project.name + ' with #' + this.project.images.length + ' images');\n    });\n\n    // it avoids CORS problems\n    this.uploader.onBeforeUploadItem = (item) => {\n      item.withCredentials = false;\n    };\n    this.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\n\n    // Add in the other upload form parameters.\n    this.uploader.onBuildItemForm = (item, form) => {\n      form.append('projectid', this.project.id);\n    };\n  }\n\n  public fileOverBase(e: any): void {\n    this.hasBaseDropZoneOver = e;\n  }\n\n  public fileOverAnother(e: any): void {\n    this.hasAnotherDropZoneOver = e;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\n\n/* TO-DO We are using the development environment also for production for an error in deployment */\nexport const environment = {\n  production: false,\n\n  // PRODUCTION\n  // important not to finish the URL with slash\n  // apiEndpoint: 'https://muret.dlsi.ua.es/rest' // production\n  // RECALL CHANGE the baseHRef in index.html\n\n  // PRODUCTION\n  // important not to finish the URL with slash\n  // apiEndpoint: 'https://muret.dlsi.ua.es/rest' // production\n  // apiEndpoint: 'https://muret.dlsi.ua.es/rest/muretapi' // production\n  apiEndpoint: 'http://localhost:8080/muretapi',\n  // RECALL CHANGE the baseHRef in index.html\n\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}